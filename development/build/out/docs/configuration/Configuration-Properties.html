<hr>
<h2>
<a id="layout-defaulttitle-cas-propertiescategory-configuration" class="anchor" href="#layout-defaulttitle-cas-propertiescategory-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS Properties<br>
category: Configuration</h2>
<p>{% include variables.html %}</p>
<h1>
<a id="cas-properties" class="anchor" href="#cas-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS Properties</h1>
<p>Various properties can be specified in CAS <a href="Configuration-Management.html#overview">either inside configuration files or as command<br>
line switches</a>. This section provides a list common CAS properties and<br>
references to the underlying modules that consume them.</p>
<!-- raw HTML omitted -->
<p>The following list of properties are controlled by and provided to CAS. Each block, for most use cases, corresponds<br>
to a specific CAS module that is expected to be included in the final CAS distribution prepared during the build<br>
and deployment process.</p>
<!-- raw HTML omitted -->
<h2>
<a id="naming-convention" class="anchor" href="#naming-convention" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Naming Convention</h2>
<p>Property names can be specified in very relaxed terms. For<br>
instance <code>cas.someProperty</code>, <code>cas.some-property</code>, <code>cas.some_property</code> are all valid names. While all forms are accepted by CAS, there are<br>
certain components (in CAS and other frameworks used) whose activation at runtime is conditional on a<br>
property value, where this property is required to have been specified in CAS configuration using kebab case. This<br>
is both true for properties that are owned by CAS as well as those that might be presented to the system via<br>
an external library or framework such as Spring Boot, etc.</p>
<blockquote>
<p>When possible, properties should be stored in lower-case kebab format, such as cas.property-name=value.</p>
</blockquote>
<h2>
<a id="general" class="anchor" href="#general" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>General</h2>
<p>A number of CAS configuration options equally apply to a number of modules and features. To understand and<br>
take note of those options, please <a href="Configuration-Properties-Common.html">review this guide</a>.</p>
<h2>
<a id="validation" class="anchor" href="#validation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Validation</h2>
<p>Configuration properties are automatically validated on CAS startup to report issues with configuration binding,<br>
specially if defined CAS settings cannot be recognized or validated by the configuration schema. The validation process<br>
is on by default and can be skipped on startup using a special <em>system property</em> <code>SKIP_CONFIG_VALIDATION</code><br>
that should be set to <code>true</code>.</p>
<p>Additional validation processes are also handled via <a href="Configuration-Metadata-Repository.html">Configuration Metadata</a><br>
and property migrations applied automatically on startup by Spring Boot and family.</p>
<h2>
<a id="custom-settings" class="anchor" href="#custom-settings" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Custom Settings</h2>
<p>The following settings could be used to extend CAS with arbitrary configuration keys and values:</p>
<pre lang="properties"><code># cas.custom.properties.[property-name]=[property-value]
</code></pre>
<h2>
<a id="configuration-storage" class="anchor" href="#configuration-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration Storage</h2>
<p>This section outlines strategies that can be used to store CAS configuration and settings.</p>
<h3>
<a id="standalone" class="anchor" href="#standalone" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Standalone</h3>
<p>This is the default configuration mode which indicates that CAS does NOT require connections<br>
to an external configuration server and will run in an embedded standalone mode.</p>
<h4>
<a id="by-directory" class="anchor" href="#by-directory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>By Directory</h4>
<p>CAS by default will attempt to locate settings and properties inside a given directory indicated<br>
under the setting name <code>cas.standalone.configuration-directory</code> and otherwise falls back to using:</p>
<ol>
<li><code>/etc/cas/config</code></li>
<li><code>/opt/cas/config</code></li>
<li><code>/var/cas/config</code></li>
</ol>
<p>CAS has the ability to also load a Groovy file for loading settings. The file is expected to be found at the above matching<br>
directory and should be named <code>${cas-application-name}.groovy</code>, such as <code>cas.groovy</code>. The script is able to combine conditional settings for active profiles and common settings that are applicable to all environments and profiles into one location with a structure that is similar to the below example:</p>
<pre lang="groovy"><code>// Settings may be filtered by individual profiles
profiles {
    standalone {
        cas.some.setting="value"
    }
}

// This applies to all profiles and environments
cas.common.setting="value"
</code></pre>
<h4>
<a id="by-file" class="anchor" href="#by-file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>By File</h4>
<p>There also exists a <code>cas.standalone.configuration-file</code> which can be used to directly feed a collection of properties<br>
to CAS in form of a file or classpath resource. This is specially useful in cases where a bare CAS server is deployed in the cloud without<br>
the extra ceremony of a configuration server or an external directory for that matter and the deployer wishes to avoid overriding embedded configuration files.</p>
<h3>
<a id="spring-cloud" class="anchor" href="#spring-cloud" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Cloud</h3>
<p>The following settings are to be loaded by the CAS configuration runtime, which bootstraps<br>
the entire CAS running context. They are to be put inside the <code>src/main/resources/bootstrap.properties</code><br>
of the configuration server itself. See <a href="Configuration-Server-Management.html">this guide</a> for more info.</p>
<p>The configuration server backed by Spring Cloud supports the following profiles.</p>
<h3>
<a id="native" class="anchor" href="#native" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Native</h3>
<p>Load settings from external properties/yaml configuration files.</p>
<pre lang="properties"><code># spring.profiles.active=native

# The configuration directory where CAS should monitor to locate settings.
# spring.cloud.config.server.native.search-locations=file:///etc/cas/config
</code></pre>
<h3>
<a id="git-repository" class="anchor" href="#git-repository" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Git Repository</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from an internal/external Git repository.<br>
This then allows CAS to become a client of the configuration server, consuming settings over HTTP where needed.</p>
<pre lang="properties"><code># spring.profiles.active=default

# The location of the git repository that contains CAS settings.
# The location can point to an HTTP/SSH/directory.
# spring.cloud.config.server.git.uri=https://github.com/repoName/config
# spring.cloud.config.server.git.uri=file://${user.home}/config

# The credentials used to authenticate git requests, specially
# when using HTTPS. If connecting to the repository via SSH, remember
# to register your public keys with an SSH agent just as your normal would have
# with any other public repository.
# spring.cloud.config.server.git.username=
# spring.cloud.config.server.git.password=
</code></pre>
<p>The above configuration also applies to online git-based repositories such as Github, BitBucket, etc.</p>
<h3>
<a id="consul" class="anchor" href="#consul" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Consul</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from <a href="../installation/Service-Discovery-Guide-Consul.html">HashiCorp's Consul</a>.</p>
<pre lang="properties"><code># spring.cloud.consul.config.enabled=true
# spring.cloud.consul.config.prefix=configuration
# spring.cloud.consul.config.default-context=apps
# spring.cloud.consul.config.profile-separator=::

# spring.cloud.consul.config.watch.delay=1000
# spring.cloud.consul.config.watch.enabled=false
</code></pre>
<h3>
<a id="vault" class="anchor" href="#vault" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Vault</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from <a href="Configuration-Properties-Security.html">HashiCorp's Vault</a>.</p>
<pre lang="properties"><code># spring.cloud.vault.host=127.0.0.1
# spring.cloud.vault.port=8200
# spring.cloud.vault.connection-timeout=3000
# spring.cloud.vault.read-timeout=5000
# spring.cloud.vault.enabled=true
# spring.cloud.vault.fail-fast=true
# spring.cloud.vault.scheme=http
</code></pre>
<h4>
<a id="token-authentication" class="anchor" href="#token-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Token Authentication</h4>
<p>Tokens are the core method for authentication within Vault. Token authentication requires a static token to be provided.</p>
<pre lang="properties"><code># spring.cloud.vault.authentication=TOKEN
# spring.cloud.vault.token=1305dd6a-a754-f145-3563-2fa90b0773b7
</code></pre>
<h4>
<a id="appid-authentication" class="anchor" href="#appid-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AppID Authentication</h4>
<p>Vault supports AppId authentication that consists of two hard to guess tokens. The AppId defaults to <code>spring.application.name</code> that is statically configured. The second token is the UserId which is a part determined by the application, usually related to the runtime environment. Spring Cloud Vault Config supports IP address, Mac address and static<br>
UserIdâ€™s (e.g. supplied via System properties). The IP and Mac address are represented as Hex-encoded SHA256 hash.</p>
<p>Using IP addresses:</p>
<pre lang="bash"><code>export IP_ADDRESS=`echo -n 192.168.99.1 | sha256sum`
</code></pre>
<pre lang="properties"><code># spring.cloud.vault.authentication=APPID
# spring.cloud.vault.app-id.user-id=$IP_ADDRESS
</code></pre>
<p>Using MAC address:</p>
<pre lang="bash"><code>export $MAC_ADDRESS=`echo -n ABCDEFGH | sha256sum`
</code></pre>
<pre lang="properties"><code># spring.cloud.vault.authentication=APPID
# spring.cloud.vault.app-id.user-id=$MAC_ADDRESS
# spring.cloud.vault.app-id.network-interface=eth0
</code></pre>
<h4>
<a id="kubernetes-authentication" class="anchor" href="#kubernetes-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Kubernetes Authentication</h4>
<p>Kubernetes authentication mechanism allows to authenticate with Vault using a Kubernetes Service Account Token. The authentication is role based and the role is bound to a service account name and a namespace.</p>
<pre lang="properties"><code># spring.cloud.vault.authentication=KUBERNETES
# spring.cloud.vault.kubernetes.role=my-dev-role
# spring.cloud.vault.kubernetes.service-account-token-file: /var/run/secrets/kubernetes.io/serviceaccount/token
</code></pre>
<h4>
<a id="generic-backend-v1" class="anchor" href="#generic-backend-v1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Generic Backend v1</h4>
<pre lang="properties"><code># spring.cloud.vault.generic.enabled=true
# spring.cloud.vault.generic.backend=secret
</code></pre>
<h4>
<a id="kv-backend-v2" class="anchor" href="#kv-backend-v2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>KV Backend v2</h4>
<pre lang="properties"><code># spring.cloud.vault.kv.enabled=true
# spring.cloud.vault.kv.backend=secret
</code></pre>
<h3>
<a id="mongodb" class="anchor" href="#mongodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from a MongoDb instance.</p>
<pre lang="properties"><code># cas.spring.cloud.mongo.uri=mongodb://casuser:Mellon@ds135522.mlab.com:35522/jasigcas
</code></pre>
<h3>
<a id="azure-keyvault-secrets" class="anchor" href="#azure-keyvault-secrets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Azure KeyVault Secrets</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from Microsoft Azure's KeyVault instance.</p>
<pre lang="properties"><code># azure.keyvault.enabled=true
# azure.keyvault.uri=put-your-azure-keyvault-uri-here
# azure.keyvault.client-id=put-your-azure-client-id-here
# azure.keyvault.client-key=put-your-azure-client-key-here
# azure.keyvault.token-acquire-timeout-seconds=60
</code></pre>
<h3>
<a id="zookeeper" class="anchor" href="#zookeeper" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ZooKeeper</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from an Apache ZooKeeper instance.</p>
<pre lang="properties"><code># spring.cloud.zookeeper.connect-string=localhost:2181
# spring.cloud.zookeeper.enabled=true
# spring.cloud.zookeeper.config.enabled=true
# spring.cloud.zookeeper.max-retries=10
# spring.cloud.zookeeper.config.root=cas/config
</code></pre>
<h3>
<a id="amazon-secrets-manager" class="anchor" href="#amazon-secrets-manager" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon Secrets Manager</h3>
<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.spring.cloud.aws.secrets-manager</code>.</p>
<h3>
<a id="amazon-parameter-store" class="anchor" href="#amazon-parameter-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon Parameter Store</h3>
<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.spring.cloud.aws.ssm</code>.</p>
<h3>
<a id="amazon-s3" class="anchor" href="#amazon-s3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon S3</h3>
<p>The following settings may be passed using strategies outlined <a href="Configuration-Management.html#overview">here</a> in order for CAS to establish a connection,<br>
using the configuration key <code>cas.spring.cloud.aws.s3</code>.</p>
<pre lang="properties"><code># ${configuration-key}.bucket-name=cas-properties
</code></pre>
<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.spring.cloud.aws.s3</code>.</p>
<h3>
<a id="dynamodb" class="anchor" href="#dynamodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DynamoDb</h3>
<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.spring.cloud.dynamo-db</code>.</p>
<h3>
<a id="jdbc" class="anchor" href="#jdbc" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from a RDBMS instance. Database settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.spring.cloud.jdbc</code>.</p>
<pre lang="properties"><code># cas.spring.cloud.jdbc.sql=SELECT id, name, value FROM CAS_SETTINGS_TABLE
</code></pre>
<h3>
<a id="rest" class="anchor" href="#rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h3>
<p>Allow the CAS Spring Cloud configuration server to load settings from a REST API.</p>
<pre lang="properties"><code># cas.spring.cloud.rest.url=
# cas.spring.cloud.rest.basic-auth-username=
# cas.spring.cloud.rest.basic-auth-password=
# cas.spring.cloud.rest.method=
# cas.spring.cloud.rest.headers=Header1:Value1;Header2:Value2
</code></pre>
<h2>
<a id="configuration-security" class="anchor" href="#configuration-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration Security</h2>
<p>To learn more about how sensitive CAS settings can be<br>
secured, <a href="Configuration-Properties-Security.html">please review this guide</a>.</p>
<h3>
<a id="standalone-1" class="anchor" href="#standalone-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Standalone</h3>
<pre lang="properties"><code># cas.standalone.configuration-security.alg=PBEWithMD5AndTripleDES
# cas.standalone.configuration-security.provider=BC
# cas.standalone.configuration-security.iterations=
# cas.standalone.configuration-security.psw=
</code></pre>
<p>The above settings may be passed to CAS using any of the <a href="Configuration-Management.html#overview">strategies outline here</a>,<br>
though it might be more secure to pass them to CAS as either command-line or system properties.</p>
<h3>
<a id="spring-cloud-1" class="anchor" href="#spring-cloud-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Cloud</h3>
<p>Encrypt and decrypt configuration via Spring Cloud, if the Spring Cloud configuration server is used.</p>
<pre lang="properties"><code># spring.cloud.config.server.encrypt.enabled=true

# encrypt.keyStore.location=file:///etc/cas/casconfigserver.jks
# encrypt.keyStore.password=keystorePassword
# encrypt.keyStore.alias=DaKey
# encrypt.keyStore.secret=changeme
</code></pre>
<h2>
<a id="cloud-configuration-bus" class="anchor" href="#cloud-configuration-bus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cloud Configuration Bus</h2>
<p>CAS uses the Spring Cloud Bus to manage configuration in a distributed deployment. Spring Cloud Bus links nodes of a<br>
distributed system with a lightweight message broker.</p>
<pre lang="properties"><code># spring.cloud.bus.enabled=false
# spring.cloud.bus.refresh.enabled=true
# spring.cloud.bus.env.enabled=true
# spring.cloud.bus.destination=CasCloudBus
# spring.cloud.bus.ack.enabled=true
</code></pre>
<p>To learn more about this topic, <a href="Configuration-Management.html">please review this guide</a>.</p>
<h3>
<a id="rabbitmq" class="anchor" href="#rabbitmq" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RabbitMQ</h3>
<p>Broadcast CAS configuration updates to other nodes in the cluster<br>
via <a href="http://docs.spring.io/spring-cloud-stream/docs/current/reference/htmlsingle/#_rabbitmq_binder">RabbitMQ</a>.</p>
<pre lang="properties"><code># spring.rabbitmq.host=
# spring.rabbitmq.port=
# spring.rabbitmq.username=
# spring.rabbitmq.password=

# Or all of the above in one line
# spring.rabbitmq.addresses=
</code></pre>
<h3>
<a id="kafka" class="anchor" href="#kafka" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Kafka</h3>
<p>Broadcast CAS configuration updates to other nodes in the cluster<br>
via <a href="http://docs.spring.io/spring-cloud-stream/docs/current/reference/htmlsingle/#_apache_kafka_binder">Kafka</a>.</p>
<pre lang="properties"><code># spring.cloud.stream.bindings.output.content-type=application/json
# spring.cloud.stream.kafka.binder.zkNodes=...
# spring.cloud.stream.kafka.binder.brokers=...
</code></pre>
<h2>
<a id="embedded-container" class="anchor" href="#embedded-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Embedded Container</h2>
<p>The following properties are related to the embedded containers that ship with CAS.</p>
<pre lang="properties"><code>server.servlet.context-path=/cas
server.port=8443
server.ssl.key-store=file:/etc/cas/thekeystore
server.ssl.key-store-password=changeit
server.ssl.key-password=changeit

# server.ssl.enabled=true
# server.ssl.ciphers=
# server.ssl.key-alias=
# server.ssl.key-store-provider=
# server.ssl.key-store-type=
# server.ssl.protocol=

# server.max-http-header-size=2097152
# server.use-forward-headers=true
# server.connection-timeout=20000
</code></pre>
<h3>
<a id="x509-client-authentication" class="anchor" href="#x509-client-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>X.509 Client Authentication</h3>
<pre lang="properties"><code># server.ssl.trust-store=
# server.ssl.trust-store-password=
# server.ssl.trust-store-provider=
# server.ssl.trust-store-type=
# server.ssl.client-auth=NEED|NONE|WANT
</code></pre>
<p>The following values are supported for client authentication type:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NEED</code></td>
<td>Client authentication is needed and mandatory.</td>
</tr>
<tr>
<td><code>NONE</code></td>
<td>Client authentication is not wanted.</td>
</tr>
<tr>
<td><code>WANT</code></td>
<td>Client authentication is wanted but not mandatory.</td>
</tr>
</tbody>
</table>
<h3>
<a id="embedded-jetty-container" class="anchor" href="#embedded-jetty-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Embedded Jetty Container</h3>
<p>The following settings affect the runtime behavior of the embedded Jetty container.</p>
<pre lang="properties"><code># server.jetty.acceptors=-1       

# server.jetty.accesslog.append=false
# server.jetty.accesslog.custom-format=
# server.jetty.accesslog.enabled=false
# server.jetty.accesslog.file-date-format=
# server.jetty.accesslog.filename=
# server.jetty.accesslog.format=
# server.jetty.accesslog.ignore-paths=
# server.jetty.accesslog.retention-period=31

# server.jetty.connection-idle-timeout=
# server.jetty.max-http-form-post-size=200000B
# server.jetty.max-threads=200
# server.jetty.min-threads=8
# server.jetty.selectors=-1
# server.jetty.thread-idle-timeout=-1
</code></pre>
<h3>
<a id="embedded-apache-tomcat-container" class="anchor" href="#embedded-apache-tomcat-container" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Embedded Apache Tomcat Container</h3>
<p>The following settings affect the runtime behavior of the embedded Apache Tomcat container.</p>
<pre lang="properties"><code># server.tomcat.basedir=build/tomcat

# server.tomcat.accesslog.enabled=true
# server.tomcat.accesslog.pattern=%t %a "%r" %s (%D ms)
# server.tomcat.accesslog.suffix=.log

# server.tomcat.max-http-post-size=20971520
# server.tomcat.max-threads=5
# server.tomcat.port-header=X-Forwarded-Port
# server.tomcat.protocol-header=X-Forwarded-Proto
# server.tomcat.protocol-header-https-value=https
# server.tomcat.remote-ip-header=X-FORWARDED-FOR
# server.tomcat.uri-encoding=UTF-8

# cas.server.tomcat.server-name=Apereo CAS
</code></pre>
<h4>
<a id="http-proxying" class="anchor" href="#http-proxying" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HTTP Proxying</h4>
<p>In the event that you decide to run CAS without any SSL configuration in the embedded Tomcat container and on a non-secure port<br>
yet wish to customize the connector configuration that is linked to the running port (i.e. <code>8080</code>), the following settings may apply:</p>
<pre lang="properties"><code># cas.server.tomcat.http-proxy.enabled=true
# cas.server.tomcat.http-proxy.secure=true
# cas.server.tomcat.http-proxy.protocol=AJP/1.3
# cas.server.tomcat.http-proxy.scheme=https
# cas.server.tomcat.http-proxy.redirect-port=
# cas.server.tomcat.http-proxy.proxy-port=
# cas.server.tomcat.http-proxy.attributes.attribute-name=attributeValue
</code></pre>
<h4>
<a id="http" class="anchor" href="#http" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HTTP</h4>
<p>Enable HTTP connections for the embedded Tomcat container, in addition to the configuration<br>
linked to the <code>server.port</code> setting.</p>
<pre lang="properties"><code># cas.server.tomcat.http.port=8080
# cas.server.tomcat.http.protocol=org.apache.coyote.http11.Http11NioProtocol
# cas.server.tomcat.http.enabled=true
# cas.server.tomcat.http.attributes.attribute-name=attributeValue
</code></pre>
<h4>
<a id="ajp" class="anchor" href="#ajp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AJP</h4>
<p>Enable AJP connections for the embedded Tomcat container,</p>
<pre lang="properties"><code># cas.server.tomcat.ajp.secure=false
# cas.server.tomcat.ajp.enabled=false
# cas.server.tomcat.ajp.proxy-port=-1
# cas.server.tomcat.ajp.protocol=AJP/1.3
# cas.server.tomcat.ajp.async-timeout=5000
# cas.server.tomcat.ajp.scheme=http
# cas.server.tomcat.ajp.max-post-size=20971520
# cas.server.tomcat.ajp.port=8009
# cas.server.tomcat.ajp.enable-lookups=false
# cas.server.tomcat.ajp.redirect-port=-1
# cas.server.tomcat.ajp.allow-trace=false
# cas.server.tomcat.ajp.attributes.attribute-name=attributeValue
</code></pre>
<h4>
<a id="ssl-valve" class="anchor" href="#ssl-valve" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SSL Valve</h4>
<p>The Tomcat SSLValve is a way to get a client certificate from an SSL proxy (e.g. HAProxy or BigIP F5)<br>
running in front of Tomcat via an HTTP header. If you enable this, make sure your proxy is ensuring<br>
that this header does not originate with the client (e.g. the browser).</p>
<pre lang="properties"><code># cas.server.tomcat.ssl-valve.enabled=false
# cas.server.tomcat.ssl-valve.ssl-client-cert-header=ssl_client_cert
# cas.server.tomcat.ssl-valve.ssl-cipher-header=ssl_cipher
# cas.server.tomcat.ssl-valve.ssl-session-id-header=ssl_session_id
# cas.server.tomcat.ssl-valve.ssl-cipher-user-key-size-header=ssl_cipher_usekeysize
</code></pre>
<p>Example HAProxy Configuration (snippet): Configure SSL frontend with cert optional, redirect to cas, if cert provided, put it on header.</p>
<pre><code>frontend web-vip
  bind 192.168.2.10:443 ssl crt /var/lib/haproxy/certs/www.example.com.pem ca-file /var/lib/haproxy/certs/ca.pem verify optional
  mode http
  acl www-cert ssl_fc_sni if { www.example.com }
  acl empty-path path /
  http-request redirect location /cas/ if empty-path www-cert
  http-request del-header ssl_client_cert unless { ssl_fc_has_crt }
  http-request set-header ssl_client_cert -----BEGIN\ CERTIFICATE-----\ %[ssl_c_der,base64]\ -----END\ CERTIFICATE-----\  if { ssl_fc_has_crt }
  acl cas-path path_beg -i /cas
  reqadd X-Forwarded-Proto:\ https
  use_backend cas-pool if cas-path

backend cas-pool
  option httpclose
  option forwardfor
  cookie SERVERID-cas insert indirect nocache
  server cas-1 192.168.2.10:8080 check cookie cas-1
</code></pre>
<h4>
<a id="extended-access-log-valve" class="anchor" href="#extended-access-log-valve" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Extended Access Log Valve</h4>
<p>Enable the <a href="https://tomcat.apache.org/tomcat-9.0-doc/config/valve.html#Extended_Access_Log_Valve">extended access log</a><br>
for the embedded Tomcat container.</p>
<pre lang="properties"><code># cas.server.tomcat.ext-access-log.enabled=false
# cas.server.tomcat.ext-access-log.pattern=c-ip s-ip cs-uri sc-status time x-threadname x-H(secure) x-H(remoteUser)
# cas.server.tomcat.ext-access-log.suffix=.log
# cas.server.tomcat.ext-access-log.prefix=localhost_access_extended
# cas.server.tomcat.ext-access-log.directory=
</code></pre>
<h4>
<a id="rewrite-valve" class="anchor" href="#rewrite-valve" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rewrite Valve</h4>
<p>Enable the <a href="https://tomcat.apache.org/tomcat-9.0-doc/rewrite.html">rewrite valve</a> for the embedded Tomcat container.</p>
<pre lang="properties"><code># cas.server.tomcat.rewrite-valve.location=classpath://container/tomcat/rewrite.config
</code></pre>
<h4>
<a id="basic-authentication" class="anchor" href="#basic-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic Authentication</h4>
<p>Enable basic authentication for the embedded Apache Tomcat.</p>
<pre lang="properties"><code># cas.server.tomcat.basic-authn.enabled=true
# cas.server.tomcat.basic-authn.security-roles[0]=admin
# cas.server.tomcat.basic-authn.auth-roles[0]=admin
# cas.server.tomcat.basic-authn.patterns[0]=/*
</code></pre>
<h4>
<a id="apache-portable-runtime-apr" class="anchor" href="#apache-portable-runtime-apr" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apache Portable Runtime (APR)</h4>
<p>Tomcat can use the <a href="https://tomcat.apache.org/tomcat-9.0-doc/apr.html">Apache Portable Runtime</a> to provide superior<br>
scalability, performance, and better integration with native server technologies.</p>
<pre lang="properties"><code># cas.server.tomcat.apr.enabled=false

# cas.server.tomcat.apr.ssl-protocol=
# cas.server.tomcat.apr.ssl-verify-depth=10
# cas.server.tomcat.apr.ssl-verify-client=require
# cas.server.tomcat.apr.ssl-cipher-suite=
# cas.server.tomcat.apr.ssl-disable-compression=false
# cas.server.tomcat.apr.ssl-honor-cipher-order=false

# cas.server.tomcat.apr.ssl-certificate-chain-file=
# cas.server.tomcat.apr.ssl-ca-certificate-file=
# cas.server.tomcat.apr.ssl-certificate-key-file=
# cas.server.tomcat.apr.ssl-certificate-file=
</code></pre>
<p>Enabling APR requires the following JVM system property that indicates the location of the APR library binaries (i.e. <code>usr/local/opt/tomcat-native/lib</code>):</p>
<pre lang="bash"><code>-Djava.library.path=/path/to/tomcat-native/lib
</code></pre>
<p>The APR connector can be assigned an SSLHostConfig element as such:</p>
<pre lang="properties"><code># cas.server.tomcat.apr.ssl-host-config.enabled=false
# cas.server.tomcat.apr.ssl-host-config.revocation-enabled=false
# cas.server.tomcat.apr.ssl-host-config.ca-certificate-file=false
# cas.server.tomcat.apr.ssl-host-config.host-name=
# cas.server.tomcat.apr.ssl-host-config.ssl-protocol=
# cas.server.tomcat.apr.ssl-host-config.protocols=all
# cas.server.tomcat.apr.ssl-host-config.insecure-renegotiation=false
# cas.server.tomcat.apr.ssl-host-config.certificate-verification-depth=10

# cas.server.tomcat.apr.ssl-host-config.certificates[0].certificate-file=
# cas.server.tomcat.apr.ssl-host-config.certificates[0].certificate-key-file=
# cas.server.tomcat.apr.ssl-host-config.certificates[0].certificate-key-password=
# cas.server.tomcat.apr.ssl-host-config.certificates[0].certificate-chain-file=
# cas.server.tomcat.apr.ssl-host-config.certificates[0].type=UNDEFINED
</code></pre>
<h4>
<a id="connector-io" class="anchor" href="#connector-io" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Connector IO</h4>
<pre lang="properties"><code># cas.server.tomcat.socket.app-read-buf-size=0
# cas.server.tomcat.socket.app-write-buf-size=0
# cas.server.tomcat.socket.buffer-pool=0
# cas.server.tomcat.socket.performance-connection-time=-1
# cas.server.tomcat.socket.performance-latency=-1
# cas.server.tomcat.socket.performance-bandwidth=-1
</code></pre>
<h4>
<a id="session-clustering--replication" class="anchor" href="#session-clustering--replication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Session Clustering &amp; Replication</h4>
<p>Enable in-memory session replication to replicate web application session deltas.</p>
<table>
<thead>
<tr>
<th>Clustering Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DEFAULT</code></td>
<td>Discovers cluster members via multicast discovery and optionally via staticly defined cluster members using the <code>clusterMembers</code>. <a href="http://tomcat.apache.org/tomcat-9.0-doc/cluster-howto.html">SimpleTcpCluster with McastService</a>
</td>
</tr>
<tr>
<td><code>CLOUD</code></td>
<td>For use in Kubernetes where members are discovered via accessing the Kubernetes API or doing a DNS lookup of the members of a Kubernetes service. <a href="https://cwiki.apache.org/confluence/display/TOMCAT/ClusteringCloud">Documentation</a> is currently light, see code for details.</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Membership Providers</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kubernetes</code></td>
<td>Uses <a href="https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/membership/cloud/KubernetesMembershipProvider.java">Kubernetes API</a> to find other pods in a deployment. API is discovered and accessed via information in environment variables set in the container. The KUBERNETES_NAMESPACE environment variable is used to query the pods in the namespace and it will treat other pods in that namespace as potential cluster members but they can be filtered using the KUBERNETES_LABELS environment variable which are used as a <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api">label selector</a>.</td>
</tr>
<tr>
<td><code>dns</code></td>
<td>Uses <a href="https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/membership/cloud/DNSMembershipProvider.java">DNS lookups</a> to find addresses of the cluster members behind a DNS name specified by DNS_MEMBERSHIP_SERVICE_NAME environment variable. Works in Kubernetes but doesn't rely on Kubernetes.</td>
</tr>
<tr>
<td>
<code>MembershipProvider</code> class</td>
<td>Use a <a href="https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/MembershipProvider.java">membership provider implementation</a> of your choice.</td>
</tr>
</tbody>
</table>
<p>Most settings apply to the <code>DEFAULT</code> clustering type, which requires members to be defined via <code>clusterMembers</code> if multicast discovery doesn't work. The <code>cloudMembershipProvider</code> setting applies to the <code>CLOUD</code> type.</p>
<pre lang="properties"><code># cas.server.tomcat.clustering.enabled=false
# cas.server.tomcat.clustering.clustering-type=DEFAULT|CLOUD
# cas.server.tomcat.clustering.cluster-members=ip-address:port:index
# cas.server.tomcat.clustering.cloud-membership-provider=kubernetes|dns|[MembershipProvider impl classname](https://github.com/apache/tomcat/blob/master/java/org/apache/catalina/tribes/MembershipProvider.java)
# cas.server.tomcat.clustering.expire-sessions-on-shutdown=false
# cas.server.tomcat.clustering.channel-send-options=8

# cas.server.tomcat.clustering.receiver-port=4000
# cas.server.tomcat.clustering.receiver-timeout=5000
# cas.server.tomcat.clustering.receiver-max-threads=6
# cas.server.tomcat.clustering.receiver-address=auto
# cas.server.tomcat.clustering.receiver-auto-bind=100

# cas.server.tomcat.clustering.membership-port=45564
# cas.server.tomcat.clustering.membership-address=228.0.0.4
# cas.server.tomcat.clustering.membership-frequency=500
# cas.server.tomcat.clustering.membership-drop-time=3000
# cas.server.tomcat.clustering.membership-recovery-enabled=true
# cas.server.tomcat.clustering.membership-local-loopback-disabled=false
# cas.server.tomcat.clustering.membership-recovery-counter=10

# cas.server.tomcat.clustering.manager-type=DELTA|BACKUP
</code></pre>
<h2>
<a id="cas-server" class="anchor" href="#cas-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS Server</h2>
<p>Identify the CAS server. <code>name</code> and <code>prefix</code> are always required settings.</p>
<p>A CAS host is automatically appended to the ticket ids generated by CAS.<br>
If none is specified, one is automatically detected and used by CAS.</p>
<pre lang="properties"><code># cas.server.name=https://cas.example.org:8443
# cas.server.prefix=https://cas.example.org:8443/cas 
# cas.server.scope=example.org
# cas.host.name=
</code></pre>
<h2>
<a id="session-replication" class="anchor" href="#session-replication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Session replication</h2>
<p>Control aspects of session replication for certain CAS features, such as OAuth or OpenID Connect,<br>
allowing session and authentication profile data to be kept with the client as a cookie.</p>
<p>Common cookie properties found <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under<br>
the configuration key <code>cas.session-replication.cookie</code>.</p>
<pre lang="properties"><code># cas.session-replication.auto-configure-cookie-path=true
</code></pre>
<h2>
<a id="cas-banner" class="anchor" href="#cas-banner" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS Banner</h2>
<p>On startup, CAS will display a banner along with some diagnostics info.<br>
In order to skip this step and summarize, set the system property <code>-DCAS_BANNER_SKIP=true</code>.</p>
<h3>
<a id="update-check" class="anchor" href="#update-check" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Update Check</h3>
<p>CAS may also be conditionally configured to report, as part of the banner, whether a newer CAS release is available for an upgrade.<br>
This check is off by default and may be enabled with a system property of <code>-DCAS_UPDATE_CHECK_ENABLED=true</code>.</p>
<h2>
<a id="actuator-management-endpoints" class="anchor" href="#actuator-management-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Actuator Management Endpoints</h2>
<p>The following properties describe access controls and settings for the <code>/actuator</code><br>
endpoint of CAS which provides administrative functionality and oversight into the CAS software.</p>
<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html">please review this guide</a>.</p>
<pre lang="properties"><code># management.endpoints.enabled-by-default=true
# management.endpoints.web.base-path=/actuator

# management.endpoints.web.exposure.include=info,health,status,configurationMetadata
# management.endpoints.web.exposure.exclude=

# management.endpoints.jmx.exposure.exclude=*
# management.endpoints.jmx.exposure.include=
</code></pre>
<h3>
<a id="basic-authentication-security" class="anchor" href="#basic-authentication-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic Authentication Security</h3>
<p>Credentials for basic authentication may be defined via the following settings:</p>
<pre lang="properties"><code># spring.security.user.name=casuser
# spring.security.user.password=
# spring.security.user.roles=
</code></pre>
<h3>
<a id="jaas-authentication-security" class="anchor" href="#jaas-authentication-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JAAS Authentication Security</h3>
<p>JAAS authentication for endpoint security may be configured via the following settings:</p>
<pre lang="properties"><code># cas.monitor.endpoints.jaas.refresh-configuration-on-startup=true
# cas.monitor.endpoints.jaas.login-config=file:/etc/cas/config/jaas.conf
# cas.monitor.endpoints.jaas.login-context-name=CAS
</code></pre>
<h3>
<a id="ldap-authentication-security" class="anchor" href="#ldap-authentication-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Authentication Security</h3>
<p>Shared LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a><br>
under the configuration key <code>cas.monitor.endpoints.ldap</code>.</p>
<p>LDAP authentication for endpoint security may be additionally configured via the following settings:</p>
<pre lang="properties"><code># cas.monitor.endpoints.ldap.ldap-authz.role-attribute=uugid
# cas.monitor.endpoints.ldap.ldap-authz.role-prefix=ROLE_
# cas.monitor.endpoints.ldap.ldap-authz.allow-multiple-results=false
# cas.monitor.endpoints.ldap.ldap-authz.group-attribute=
# cas.monitor.endpoints.ldap.ldap-authz.group-prefix=
# cas.monitor.endpoints.ldap.ldap-authz.group-filter=
# cas.monitor.endpoints.ldap.ldap-authz.group-base-dn=
# cas.monitor.endpoints.ldap.ldap-authz.base-dn=
# cas.monitor.endpoints.ldap.ldap-authz.search-filter=
</code></pre>
<h3>
<a id="jdbc-authentication-security" class="anchor" href="#jdbc-authentication-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC Authentication Security</h3>
<p>Shared database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.monitor.endpoints.jdbc</code>.</p>
<p>JDBC authentication for endpoint security may be additionally configured via the following settings:</p>
<pre lang="properties"><code># cas.monitor.endpoints.jdbc.role-prefix=
# cas.monitor.endpoints.jdbc.query=
</code></pre>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a><br>
under the configuration key <code>cas.monitor.endpoints.jdbc</code>.</p>
<h3>
<a id="enabling-endpoints" class="anchor" href="#enabling-endpoints" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Enabling Endpoints</h3>
<p>To determine whether an endpoint is available, the calculation order for all endpoints is as follows:</p>
<ol>
<li>The <code>enabled</code> setting of the individual endpoint (i.e. <code>info</code>) is consulted in CAS settings, as demonstrated below:</li>
</ol>
<pre lang="properties"><code># management.endpoint.&lt;endpoint-name&gt;.enabled=true
</code></pre>
<ol start="2">
<li>If undefined, the global endpoint security is consulted from CAS settings.</li>
<li>If undefined, the default built-in setting for the endpoint in CAS is consulted, which is typically <code>false</code> by default.</li>
</ol>
<p>A number of available endpoint ids <a href="../monitoring/Monitoring-Statistics.html">should be listed here</a>.</p>
<p>Endpoints may also be mapped to custom arbitrary endpoints. For example, to remap the <code>health</code> endpoint to <code>healthcheck</code>,<br>
specify the following settings:</p>
<pre lang="properties"><code># management.endpoints.web.path-mapping.health=healthcheck
</code></pre>
<h3>
<a id="health-endpoint" class="anchor" href="#health-endpoint" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Health Endpoint</h3>
<p>The <code>health</code> endpoint may also be configured to show details using <code>management.endpoint.health.show-details</code> via the following conditions:</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>never</code></td>
<td>Never display details of health monitors.</td>
</tr>
<tr>
<td><code>always</code></td>
<td>Always display details of health monitors.</td>
</tr>
<tr>
<td><code>when-authorized</code></td>
<td>Details are only shown to authorized users. Authorized roles can be configured using <code>management.endpoint.health.roles</code>.</td>
</tr>
</tbody>
</table>
<pre lang="properties"><code># management.endpoint.health.show-details=never
</code></pre>
<p>The results and details of the <code>health</code> endpoints are produced by a number of health indicator components that may monitor different systems, such as LDAP connection<br>
pools, database connections, etc. Such health indicators are turned off by default and may individually be controlled and turned on via the following settings:</p>
<pre lang="properties"><code># management.health.&lt;name&gt;.enabled=true
# management.health.defaults.enabled=false 
</code></pre>
<p>The following health indicator names are available, given the presence of the appropriate CAS feature:</p>
<table>
<thead>
<tr>
<th>Health Indicator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>memoryHealthIndicator</code></td>
<td>Reports back on the health status of CAS JVM memory usage, etc.</td>
</tr>
<tr>
<td><code>systemHealthIndicator</code></td>
<td>Reports back on the health of the system of the CAS server.(Load, Uptime, Heap, CPU etc.)</td>
</tr>
<tr>
<td><code>sessionHealthIndicator</code></td>
<td>Reports back on the health status of CAS tickets and SSO session usage.</td>
</tr>
<tr>
<td><code>duoSecurityHealthIndicator</code></td>
<td>Reports back on the health status of Duo Security APIs.</td>
</tr>
<tr>
<td><code>ehcacheHealthIndicator</code></td>
<td>Reports back on the health status of Ehcache caches.</td>
</tr>
<tr>
<td><code>hazelcastHealthIndicator</code></td>
<td>Reports back on the health status of Hazelcast caches.</td>
</tr>
<tr>
<td><code>dataSourceHealthIndicator</code></td>
<td>Reports back on the health status of JDBC connections.</td>
</tr>
<tr>
<td><code>pooledLdapConnectionFactoryHealthIndicator</code></td>
<td>Reports back on the health status of LDAP connection pools.</td>
</tr>
<tr>
<td><code>memcachedHealthIndicator</code></td>
<td>Reports back on the health status of Memcached connections.</td>
</tr>
<tr>
<td><code>mongoHealthIndicator</code></td>
<td>Reports back on the health status of MongoDb connections.</td>
</tr>
<tr>
<td><code>samlRegisteredServiceMetadataHealthIndicator</code></td>
<td>Reports back on the health status of SAML2 service provider metadata sources.</td>
</tr>
</tbody>
</table>
<h3>
<a id="endpoint-security" class="anchor" href="#endpoint-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Endpoint Security</h3>
<p>Global endpoint security configuration activated by CAS may be controlled under the configuration key <code>cas.monitor.endpoints.endpoint.&lt;endpoint-name&gt;</code>.<br>
There is a special endpoint named <code>defaults</code>  which serves as a shortcut that controls the security of all endpoints, if left undefined in CAS settings. Accessing an endpoint<br>
over the web can be allowed via a special login form whose access and presence can be controlled via:</p>
<pre lang="properties"><code># cas.monitor.endpoints.form-login-enabled=false
</code></pre>
<p>Note that any individual endpoint must be first enabled before any security can be applied. The security of all endpoints is controlled using the following settings:</p>
<pre lang="properties"><code># ${configuration-key}.required-roles[0]=
# ${configuration-key}.required-authorities[0]=
# ${configuration-key}.required-ip-addresses[0]=
# ${configuration-key}.access[0]=PERMIT|ANONYMOUS|DENY|AUTHENTICATED|ROLE|AUTHORITY|IP_ADDRESS
</code></pre>
<p>The following access levels are allowed for each individual endpoint:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PERMIT</code></td>
<td>Allow open access to the endpoint.</td>
</tr>
<tr>
<td><code>ANONYMOUS</code></td>
<td>Allow anonymous access to the endpoint.</td>
</tr>
<tr>
<td><code>DENY</code></td>
<td>Default. Block access to the endpoint.</td>
</tr>
<tr>
<td><code>AUTHENTICATED</code></td>
<td>Require authenticated access to the endpoint.</td>
</tr>
<tr>
<td><code>ROLE</code></td>
<td>Require authenticated access to the endpoint along with a role requirement.</td>
</tr>
<tr>
<td><code>AUTHORITY</code></td>
<td>Require authenticated access to the endpoint along with an authority requirement.</td>
</tr>
<tr>
<td><code>IP_ADDRESS</code></td>
<td>Require authenticated access to the endpoint using a collection of IP addresses.</td>
</tr>
</tbody>
</table>
<h3>
<a id="spring-boot-admin-server" class="anchor" href="#spring-boot-admin-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Boot Admin Server</h3>
<p>To learn more about this topic, <a href="../monitoring/Configuring-Monitoring-Administration.html">please review this guide</a>.</p>
<pre lang="properties"><code># spring.boot.admin.client.url=https://bootadmin.example.org:8444
# spring.boot.admin.client.instance.service-base-url=${cas.server.prefix}
# spring.boot.admin.client.instance.name=Apereo CAS
# In case Spring Boot Admin endpoints are protected via basic authn :
# spring.boot.admin.client.username=
# spring.boot.admin.client.password=
# In case CAS endpoints are protected via basic authn :
# spring.boot.admin.client.instance.metadata.user.name=
# spring.boot.admin.client.instance.metadata.user.password=
</code></pre>
<h3>
<a id="javamelody" class="anchor" href="#javamelody" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JavaMelody</h3>
<p>To learn more about this topic, <a href="../monitoring/Configuring-Monitoring-JavaMelody.html">please review this guide</a>.</p>
<pre lang="properties"><code># javamelody.enabled=true
# javamelody.excluded-datasources=one,two,etc
# javamelody.spring-monitoring-enabled=true
# javamelody.init-parameters.log=true
# javamelody.init-parameters.url-exclude-pattern=(/webjars/.*|/css/.*|/images/.*|/fonts/.*|/js/.*)
# javamelody.init-parameters.monitoring-path=/monitoring

# Control access via IP regular expression patterns
# javamelody.init-parameters.allowed-addr-pattern=.+
# Control access via Basic AuthN
# javamelody.init-parameters.authorized-users=admin:pwd
</code></pre>
<h2>
<a id="web-application-session" class="anchor" href="#web-application-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Web Application Session</h2>
<p>Control the CAS web application session behavior<br>
as it's treated by the underlying servlet container engine.</p>
<pre lang="properties"><code># server.servlet.session.timeout=PT30S
# server.servlet.session.cookie.http-only=true
# server.servlet.session.tracking-modes=COOKIE
</code></pre>
<h2>
<a id="views" class="anchor" href="#views" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Views</h2>
<p>Control how CAS should treat views and other UI elements.</p>
<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Views.html">please review this guide</a>.</p>
<pre lang="properties"><code># spring.thymeleaf.encoding=UTF-8

# Controls  whether views should be cached by CAS.
# When turned on, ad-hoc chances to views are not automatically
# picked up by CAS until a restart. Small incremental performance
# improvements are to be expected.
# spring.thymeleaf.cache=true

# Instruct CAS to locate views at the below location.
# This location can be externalized to a directory outside
# the cas web application.
# spring.thymeleaf.prefix=classpath:/templates/

# Defines a default URL to which CAS may redirect if there is no service provided in the authentication request.
# cas.view.default-redirect-url=https://www.github.com

# CAS views may be located at the following paths outside
# the web application context, in addition to prefix specified
# above which is handled via Thymeleaf.
# cas.view.template-prefixes[0]=file:///etc/cas/templates
</code></pre>
<h2>
<a id="custom-login-fields" class="anchor" href="#custom-login-fields" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Custom Login Fields</h2>
<pre lang="properties"><code># cas.view.custom-login-form-fields.[field-name].message-bundle-key=
# cas.view.custom-login-form-fields.[field-name].required=true
# cas.view.custom-login-form-fields.[field-name].converter=
</code></pre>
<h3>
<a id="cas-v1" class="anchor" href="#cas-v1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS v1</h3>
<pre lang="properties"><code># cas.view.cas1.attribute-renderer-type=DEFAULT|VALUES_PER_LINE
</code></pre>
<h3>
<a id="cas-v2" class="anchor" href="#cas-v2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS v2</h3>
<pre lang="properties"><code># cas.view.cas2.v3-forward-compatible=false
# cas.view.cas2.success=protocol/2.0/casServiceValidationSuccess
# cas.view.cas2.failure=protocol/2.0/casServiceValidationFailure
# cas.view.cas2.proxy.success=protocol/2.0/casProxySuccessView
# cas.view.cas2.proxy.failure=protocol/2.0/casProxyFailureView
</code></pre>
<h3>
<a id="cas-v3" class="anchor" href="#cas-v3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS v3</h3>
<pre lang="properties"><code># cas.view.cas3.success=protocol/3.0/casServiceValidationSuccess
# cas.view.cas3.failure=protocol/3.0/casServiceValidationFailure
# cas.view.cas3.attribute-renderer-type=DEFAULT|INLINE
</code></pre>
<h3>
<a id="restful-views" class="anchor" href="#restful-views" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Restful Views</h3>
<p>Control the resolution of CAS views via REST. RESTful settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.view.rest</code>.</p>
<h2>
<a id="logging" class="anchor" href="#logging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logging</h2>
<p>Control the location and other settings of the CAS logging configuration.<br>
To learn more about this topic, <a href="../logging/Logging.html">please review this guide</a>.</p>
<pre lang="properties"><code># logging.config=file:/etc/cas/log4j2.xml
# server.servlet.context-parameters.is-log4j-auto-initialization-disabled=true
       
# cas.logging.mdc-enabled=true

# Control log levels via properties
# logging.level.org.apereo.cas=DEBUG
</code></pre>
<p>To disable log sanitization, start the container with the system property <code>CAS_TICKET_ID_SANITIZE_SKIP=true</code>.</p>
<h2>
<a id="aspectj-configuration" class="anchor" href="#aspectj-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>AspectJ Configuration</h2>
<pre lang="properties"><code># spring.aop.auto=true
# spring.aop.proxy-target-class=true
</code></pre>
<h2>
<a id="authentication-attributes" class="anchor" href="#authentication-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Attributes</h2>
<p>Set of authentication attributes that are retrieved by the principal resolution process,<br>
typically via some component of <a href="../integration/Attribute-Resolution.html">Person Directory</a><br>
from a number of attribute sources unless noted otherwise by the specific authentication scheme.</p>
<p>If multiple attribute repository sources are defined, they are added into a list<br>
and their results are cached and merged.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.expiration-time=30
# cas.authn.attribute-repository.expiration-time-unit=MINUTES
# cas.authn.attribute-repository.maximum-cache-size=10000
# cas.authn.attribute-repository.merger=REPLACE|ADD|MULTIVALUED|NONE
# cas.authn.attribute-repository.aggregation=MERGE|CASCADE
</code></pre>
<!-- raw HTML omitted -->
<p>Attributes for all sources are defined in their own individual block.<br>
CAS does not care about the source owner of attributes. It finds them where they can be found and otherwise, it moves on.<br>
This means that certain number of attributes can be resolved via one source and the remaining attributes<br>
may be resolved via another. If there are commonalities across sources, the merger shall decide the final result and behavior.</p>
<p>The story in plain english is:</p>
<ul>
<li>I have a bunch of attributes that I wish to resolve for the authenticated principal.</li>
<li>I have a bunch of sources from which said attributes are retrieved.</li>
<li>Figure it out.</li>
</ul>
<p>Note that attribute repository sources, if/when defined, execute in a specific order.<br>
This is important to take into account when attribute merging may take place.<br>
By default, the execution order (when defined) is the following but can be adjusted per source:</p>
<ol>
<li>LDAP</li>
<li>JDBC</li>
<li>JSON</li>
<li>Groovy</li>
<li><a href="http://www.internet2.edu/products-services/trust-identity/grouper/">Internet2 Grouper</a></li>
<li>REST</li>
<li>Script</li>
<li>Stubbed/Static</li>
</ol>
<p>Note that if no <em>explicit</em> attribute mappings are defined, all permitted attributes on the record<br>
may be retrieved by CAS from the attribute repository source and made available to the principal. On the other hand,<br>
if explicit attribute mappings are defined, then <em>only mapped attributes</em> are retrieved.</p>
<h3>
<a id="multimapped-attribute" class="anchor" href="#multimapped-attribute" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multimapped Attribute</h3>
<p>Attributes may be allowed to be virtually renamed and remapped. The following definition, for instance, attempts to<br>
grab the attribute <code>uid</code> from the attribute source and rename it to <code>userId</code>:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.[type-placeholder].attributes.uid=userId
</code></pre>
<h3>
<a id="merging-strategies" class="anchor" href="#merging-strategies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Merging Strategies</h3>
<p>The following merging strategies can be used to resolve conflicts when the same attribute are found from multiple sources:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>REPLACE</code></td>
<td>Overwrites existing attribute values, if any.</td>
</tr>
<tr>
<td><code>ADD</code></td>
<td>Retains existing attribute values if any, and ignores values from subsequent sources in the resolution chain.</td>
</tr>
<tr>
<td><code>MULTIVALUED</code></td>
<td>Combines all values into a single attribute, essentially creating a multi-valued attribute.</td>
</tr>
<tr>
<td><code>NONE</code></td>
<td>Do not merge attributes, only use attributes retrieved during authentication.</td>
</tr>
</tbody>
</table>
<h3>
<a id="aggregation-strategies" class="anchor" href="#aggregation-strategies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Aggregation Strategies</h3>
<p>The following aggregation strategies can be used to resolve and merge attributes<br>
when multiple attribute repository sources are defined to fetch data:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>MERGE</code></td>
<td>Default. Query multiple repositories in order and merge the results into a single result set.</td>
</tr>
<tr>
<td><code>CASCADE</code></td>
<td>Same as above; results from each query are passed down to the next attribute repository source.</td>
</tr>
</tbody>
</table>
<h3>
<a id="stub" class="anchor" href="#stub" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Stub</h3>
<p>Static attributes that need to be mapped to a hardcoded value belong here.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.stub.id=

# cas.authn.attribute-repository.stub.attributes.uid=uid
# cas.authn.attribute-repository.stub.attributes.displayName=displayName
# cas.authn.attribute-repository.stub.attributes.cn=commonName
# cas.authn.attribute-repository.stub.attributes.affiliation=groupMembership
</code></pre>
<h3>
<a id="ldap" class="anchor" href="#ldap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP</h3>
<p>If you wish to directly and separately retrieve attributes from an LDAP source, LDAP settings for this<br>
feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the<br>
configuration key <code>cas.authn.attribute-repository.ldap[0]</code>.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.ldap[0].id=
# cas.authn.attribute-repository.ldap[0].order=0

# cas.authn.attribute-repository.ldap[0].attributes.uid=uid
# cas.authn.attribute-repository.ldap[0].attributes.display-name=displayName
# cas.authn.attribute-repository.ldap[0].attributes.cn=commonName
# cas.authn.attribute-repository.ldap[0].attributes.affiliation=groupMembership
</code></pre>
<p>To fetch and resolve attributes that carry tags/options, consider tagging the mapped attribute as such:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.ldap[0].attributes.affiliation=affiliation;
</code></pre>
<h3>
<a id="groovy" class="anchor" href="#groovy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h3>
<p>If you wish to directly and separately retrieve attributes from a Groovy script,<br>
the following settings are then relevant:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.groovy[0].location=file:/etc/cas/attributes.groovy
# cas.authn.attribute-repository.groovy[0].case-insensitive=false
# cas.authn.attribute-repository.groovy[0].order=0
# cas.authn.attribute-repository.groovy[0].id=
</code></pre>
<p>The Groovy script may be designed as:</p>
<pre lang="groovy"><code>import java.util.*

def Map&lt;String, List&lt;Object&gt;&gt; run(final Object... args) {
    def username = args[0]
    def attributes = args[1]
    def logger = args[2]
    def properties = args[3]
    def appContext = args[4]

    logger.debug("[{}]: The received uid is [{}]", this.class.simpleName, uid)
    return[username:[uid], likes:["cheese", "food"], id:[1234,2,3,4,5], another:"attribute"]
}
</code></pre>
<h3>
<a id="json" class="anchor" href="#json" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON</h3>
<p>If you wish to directly and separately retrieve attributes from a static JSON source,<br>
the following settings are then relevant:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.json[0].location=file://etc/cas/attribute-repository.json
# cas.authn.attribute-repository.json[0].order=0
# cas.authn.attribute-repository.json[0].id=
</code></pre>
<p>The format of the file may be:</p>
<pre lang="json"><code>{
    "user1": {
        "firstName":["Json1"],
        "lastName":["One"]
    },
    "user2": {
        "firstName":["Json2"],
        "eduPersonAffiliation":["employee", "student"]
    }
}
</code></pre>
<h3>
<a id="rest-1" class="anchor" href="#rest-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h3>
<p>Retrieve attributes from a REST endpoint. RESTful settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under<br>
the configuration key <code>cas.authn.attribute-repository.rest[0]</code>.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.rest[0].order=0
# cas.authn.attribute-repository.rest[0].id=
# cas.authn.attribute-repository.rest[0].case-insensitive=false
</code></pre>
<p>The authenticating user id is passed in form of a request parameter under <code>username</code>. The response is expected<br>
to be a JSON map as such:</p>
<pre lang="json"><code>{
  "name" : "JohnSmith",
  "age" : 29,
  "messages": ["msg 1", "msg 2", "msg 3"]
}
</code></pre>
<h3>
<a id="pythonjavascriptgroovy" class="anchor" href="#pythonjavascriptgroovy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Python/Javascript/Groovy</h3>
<!-- raw HTML omitted -->
<p>Similar to the Groovy option but more versatile, this option takes advantage of Java's native<br>
scripting API to invoke Groovy, Python or Javascript scripting engines to compile a pre-defined script to resolve attributes.<br>
The following settings are relevant:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.script[0].location=file:/etc/cas/script.groovy
# cas.authn.attribute-repository.script[0].order=0
# cas.authn.attribute-repository.script[0].id=
# cas.authn.attribute-repository.script[0].case-insensitive=false
# cas.authn.attribute-repository.script[0].engine-name=js|groovy|python
</code></pre>
<p>While Javascript and Groovy should be natively supported by CAS, Python scripts may need<br>
to massage the CAS configuration to include the <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22jython-standalone%22">Python modules</a>.</p>
<p>The Groovy script may be defined as:</p>
<pre lang="groovy"><code>import java.util.*

Map&lt;String, List&lt;Object&gt;&gt; run(final Object... args) {
    def uid = args[0]
    def logger = args[1]

    logger.debug("Groovy things are happening just fine with UID: {}",uid)
    return[username:[uid], likes:["cheese", "food"], id:[1234,2,3,4,5], another:"attribute"]
}
</code></pre>
<p>The Javascript script may be defined as:</p>
<pre lang="javascript"><code>function run(uid, logger) {
    print("Things are happening just fine")
    logger.warn("Javascript called with UID: {}",uid);

    // If you want to call back into Java, this is one way to do so
    var javaObj = new JavaImporter(org.yourorgname.yourpackagename);
    with (javaObj) {
        var objFromJava = JavaClassInPackage.someStaticMethod(uid);
    }

    var map = {};
    map["attr_from_java"] = objFromJava.getSomething();
    map["username"] = uid;
    map["likes"] = "cheese";
    map["id"] = [1234,2,3,4,5];
    map["another"] = "attribute";

    return map;
}
</code></pre>
<h3>
<a id="jdbc-1" class="anchor" href="#jdbc-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC</h3>
<p>Retrieve attributes from a JDBC source. Database settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under<br>
the configuration key <code>cas.authn.attribute-repository.jdbc[0]</code>.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.jdbc[0].attributes.uid=uid
# cas.authn.attribute-repository.jdbc[0].attributes.display-name=displayName
# cas.authn.attribute-repository.jdbc[0].attributes.cn=commonName
# cas.authn.attribute-repository.jdbc[0].attributes.affiliation=groupMembership

# cas.authn.attribute-repository.jdbc[0].single-row=true
# cas.authn.attribute-repository.jdbc[0].order=0
# cas.authn.attribute-repository.jdbc[0].id=
# cas.authn.attribute-repository.jdbc[0].require-all-attributes=true
# cas.authn.attribute-repository.jdbc[0].case-canonicalization=NONE|LOWER|UPPER
# cas.authn.attribute-repository.jdbc[0].query-type=OR|AND
# cas.authn.attribute-repository.jdbc[0].case-insensitive-query-attributes=username

# Used only when there is a mapping of many rows to one user
# cas.authn.attribute-repository.jdbc[0].column-mappings.column-attr-name1=columnAttrValue1
# cas.authn.attribute-repository.jdbc[0].column-mappings.column-attr-name2=columnAttrValue2
# cas.authn.attribute-repository.jdbc[0].column-mappings.column-attr-name3=columnAttrValue3

# cas.authn.attribute-repository.jdbc[0].sql=SELECT * FROM table WHERE {0}
# cas.authn.attribute-repository.jdbc[0].username=uid
</code></pre>
<h3>
<a id="grouper" class="anchor" href="#grouper" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Grouper</h3>
<p>This option reads all the groups from <a href="https://incommon.org/software/grouper/">a Grouper instance</a> for the given CAS principal and adopts them<br>
as CAS attributes under a <code>grouperGroups</code> multi-valued attribute.<br>
To learn more about this topic, <a href="../integration/Attribute-Resolution.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.grouper[0].enabled=true
# cas.authn.attribute-repository.grouper[0].id=
# cas.authn.attribute-repository.grouper[0].order=0
</code></pre>
<p>You will also need to ensure <code>grouper.client.properties</code> is available on the classpath (i.e. <code>src/main/resources</code>)<br>
with the following configured properties:</p>
<pre lang="properties"><code># grouperClient.webService.url = http://192.168.99.100:32768/grouper-ws/servicesRest
# grouperClient.webService.login = banderson
# grouperClient.webService.password = password
</code></pre>
<h3>
<a id="couchbase" class="anchor" href="#couchbase" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Couchbase</h3>
<p>This option will fetch attributes from a Couchbase database for a given CAS principal. To<br>
learn more about this topic, <a href="../installation/Couchbase-Authentication.html">please review this guide</a>.<br>
Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the configuration key <code>cas.authn.attribute-repository.couchbase</code>.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.couchbase.usernameAttribute=username
# cas.authn.attribute-repository.couchbase.order=0
# cas.authn.attribute-repository.couchbase.id=
</code></pre>
<h3>
<a id="redis" class="anchor" href="#redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis</h3>
<p>This option will fetch attributes from a Redis database for a given CAS principal.</p>
<p>To learn more about this topic, <a href="../installation/Redis-Authentication.html">please review this guide</a>.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.attribute-repository.redis</code>.</p>
<pre lang="properties"><code># cas.authn.attribute-repository.redis.order=0
# cas.authn.attribute-repository.redis.id=
</code></pre>
<h3>
<a id="microsoft-azure-active-directory" class="anchor" href="#microsoft-azure-active-directory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Microsoft Azure Active Directory</h3>
<p>This option will fetch attributes from Microsoft Azure Active Directory using the Microsoft Graph API.</p>
<p>The following settings are available:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.azure-active-directory[0].client-id=
# cas.authn.attribute-repository.azure-active-directory[0].client-secret=
# cas.authn.attribute-repository.azure-active-directory[0].client-secret=
# cas.authn.attribute-repository.azure-active-directory[0].tenant=

# cas.authn.attribute-repository.azure-active-directory[0].id=
# cas.authn.attribute-repository.azure-active-directory[0].order=0
# cas.authn.attribute-repository.azure-active-directory[0].case-insensitive=false
# cas.authn.attribute-repository.azure-active-directory[0].resource=
# cas.authn.attribute-repository.azure-active-directory[0].scope=
# cas.authn.attribute-repository.azure-active-directory[0].grant-type=
# cas.authn.attribute-repository.azure-active-directory[0].api-base-url=
# cas.authn.attribute-repository.azure-active-directory[0].attributes=
# cas.authn.attribute-repository.azure-active-directory[0].domain=
# cas.authn.attribute-repository.azure-active-directory[0].logging-level=
</code></pre>
<h3>
<a id="shibboleth-integrations" class="anchor" href="#shibboleth-integrations" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shibboleth Integrations</h3>
<p>To learn more about this topic, <a href="../integration/Shibboleth.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.shib-idp.server-url=https://idp.example.org
</code></pre>
<h3>
<a id="default-bundle" class="anchor" href="#default-bundle" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Default Bundle</h3>
<p>If you wish to release a default bundle of attributes to all applications,<br>
and you would rather not duplicate the same attribute per every service definition,<br>
then the following settings are relevant:</p>
<pre lang="properties"><code># cas.authn.attribute-repository.default-attributes-to-release=cn,givenName,uid,affiliation
</code></pre>
<p>To learn more about this topic, <a href="../integration/Attribute-Release.html">please review this guide</a>.</p>
<h3>
<a id="protocol-attributes" class="anchor" href="#protocol-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Protocol Attributes</h3>
<p>Defines whether CAS should include and release protocol attributes defined in the specification in addition to the<br>
principal attributes. By default all authentication attributes are released when protocol attributes are enabled for<br>
release. If you wish to restrict which authentication attributes get released, you can use the below settings to control authentication attributes more globally.</p>
<p>Protocol/authentication attributes may also be released conditionally on a per-service<br>
basis. To learn more about this topic, <a href="../integration/Attribute-Release.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.authentication-attribute-release.only-release=authenticationDate,isFromNewLogin
# cas.authn.authentication-attribute-release.never-release=
# cas.authn.authentication-attribute-release.enabled=true
</code></pre>
<h2>
<a id="principal-resolution" class="anchor" href="#principal-resolution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Principal Resolution</h2>
<p>In the event that a separate resolver is put into place, control how the final principal should be constructed by default. Principal resolution<br>
and Person Directory settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code>cas.person-directory</code>.</p>
<h2>
<a id="attribute-definitions" class="anchor" href="#attribute-definitions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Attribute Definitions</h2>
<p>An attribute definition store allows one to describe metadata about necessary attributes<br>
with special decorations to be considered during attribute resolution and release.</p>
<pre lang="properties"><code># cas.person-directory.attribute-definition-store.json.location=file:/etc/cas/config/attribute-defns.json
</code></pre>
<h2>
<a id="authentication-engine" class="anchor" href="#authentication-engine" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Engine</h2>
<p>Control inner-workings of the CAS authentication engine, before and after the execution.</p>
<pre lang="properties"><code>cas.authn.core.groovy-authentication-resolution.location=file:/etc/cas/config/GroovyAuthentication.groovy
cas.authn.core.groovy-authentication-resolution.order=0

cas.authn.core.service-authentication-resolution.order=0
</code></pre>
<h3>
<a id="authentication-pre-processing" class="anchor" href="#authentication-pre-processing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Pre-Processing</h3>
<h4>
<a id="groovy-1" class="anchor" href="#groovy-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h4>
<pre lang="properties"><code># cas.authn.core.engine.groovy-pre-processor.location=file:/etc/cas/config/GroovyPreProcessor.groovy
</code></pre>
<p>The script itself may be designed as:</p>
<pre lang="groovy"><code>def run(Object[] args) {
    def transaction = args[0]
    def logger = args[1]
    true
}

def supports(Object[] args) {
    def credential = args[0]
    def logger = args[1]
    true
}
</code></pre>
<h3>
<a id="authentication-post-processing" class="anchor" href="#authentication-post-processing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Post-Processing</h3>
<h4>
<a id="groovy-2" class="anchor" href="#groovy-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h4>
<pre lang="properties"><code># cas.authn.core.engine.groovy-post-processor.location=file:/etc/cas/config/GroovyPostProcessor.groovy
</code></pre>
<p>The script itself may be designed as:</p>
<pre lang="groovy"><code>def run(Object[] args) {
    def builder = args[0]
    def transaction = args[1]
    def logger = args[2]
    true
}

def supports(Object[] args) {
    def credential = args[0]
    def logger = args[1]
    true
}
</code></pre>
<h2>
<a id="authentication-policy" class="anchor" href="#authentication-policy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Policy</h2>
<p>To learn more about this topic, <a href="../installation/Configuring-Authentication-Components.html#authentication-policy">please review this guide</a>.</p>
<p>Global authentication policy that is applied when CAS attempts to vend and validate tickets.</p>
<pre lang="properties"><code># cas.authn.policy.required-handler-authentication-policy-enabled=false
</code></pre>
<h3>
<a id="any" class="anchor" href="#any" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Any</h3>
<p>Satisfied if any handler succeeds. Supports a tryAll flag to avoid short circuiting<br>
and try every handler even if one prior succeeded.</p>
<pre lang="properties"><code># cas.authn.policy.any.try-all=false
# cas.authn.policy.any.enabled=true
</code></pre>
<h3>
<a id="all" class="anchor" href="#all" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>All</h3>
<p>Satisfied if and only if all given credentials are successfully authenticated.<br>
Support for multiple credentials is new in CAS and this handler<br>
would only be acceptable in a multi-factor authentication situation.</p>
<pre lang="properties"><code># cas.authn.policy.all.enabled=true
</code></pre>
<h3>
<a id="source-selection" class="anchor" href="#source-selection" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Source Selection</h3>
<p>Allows CAS to select authentication handlers based on the credential source. This allows the authentication engine to restrict the task of validating credentials<br>
to the selected source or account repository, as opposed to every authentication handler.</p>
<pre lang="properties"><code># cas.authn.policy.source-selection-enabled=true
</code></pre>
<h3>
<a id="unique-principal" class="anchor" href="#unique-principal" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Unique Principal</h3>
<p>Satisfied if and only if the requesting principal has not already authenticated with CAS.<br>
Otherwise the authentication event is blocked, preventing multiple logins.</p>
<!-- raw HTML omitted -->
<pre lang="properties"><code># cas.authn.policy.unique-principal.enabled=true
</code></pre>
<h3>
<a id="not-prevented" class="anchor" href="#not-prevented" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Not Prevented</h3>
<p>Satisfied if and only if the authentication event is not blocked by a <code>PreventedException</code>.</p>
<pre lang="properties"><code># cas.authn.policy.not-prevented.enabled=true
</code></pre>
<h3>
<a id="required" class="anchor" href="#required" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Required</h3>
<p>Satisfied if and only if a specified handler successfully authenticates its credential.</p>
<pre lang="properties"><code># cas.authn.policy.req.try-all=false
# cas.authn.policy.req.handler-name=handlerName
# cas.authn.policy.req.enabled=true
</code></pre>
<h3>
<a id="groovy-3" class="anchor" href="#groovy-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h3>
<p>Execute a groovy script to detect authentication policy.</p>
<pre lang="properties"><code># cas.authn.policy.groovy[0].script=file:/etc/cas/config/account.groovy
</code></pre>
<p>The script may be designed as:</p>
<pre lang="groovy"><code>import java.util.*
import org.apereo.cas.authentication.exceptions.*
import javax.security.auth.login.*

def Exception run(final Object... args) {
    def principal = args[0]
    def logger = args[1]

    if (conditionYouMayDesign() == true) {
        return new AccountDisabledException()
    }
    return null;
}
</code></pre>
<h3>
<a id="rest-2" class="anchor" href="#rest-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h3>
<p>Contact a REST endpoint via <code>POST</code> to detect authentication policy.<br>
The message body contains the CAS authenticated principal that can be used<br>
to examine account status and policy.</p>
<p>RESTful settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.policy.rest[0]</code>.</p>
<p>Response codes from the REST endpoint are translated as such:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>200</code></td>
<td>Successful authentication.</td>
</tr>
<tr>
<td>
<code>403</code>, <code>405</code>
</td>
<td>Produces a <code>AccountDisabledException</code>
</td>
</tr>
<tr>
<td><code>404</code></td>
<td>Produces a <code>AccountNotFoundException</code>
</td>
</tr>
<tr>
<td><code>423</code></td>
<td>Produces a <code>AccountLockedException</code>
</td>
</tr>
<tr>
<td><code>412</code></td>
<td>Produces a <code>AccountExpiredException</code>
</td>
</tr>
<tr>
<td><code>428</code></td>
<td>Produces a <code>AccountPasswordMustChangeException</code>
</td>
</tr>
<tr>
<td>Other</td>
<td>Produces a <code>FailedLoginException</code>
</td>
</tr>
</tbody>
</table>
<h2>
<a id="authentication-throttling" class="anchor" href="#authentication-throttling" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Throttling</h2>
<p>CAS provides a facility for limiting failed login attempts to support password guessing and related abuse scenarios.<br>
To learn more about this topic, <a href="../installation/Configuring-Authentication-Throttling.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.throttle.username-parameter=username
# cas.authn.throttle.app-code=CAS

# cas.authn.throttle.failure.threshold=100
# cas.authn.throttle.failure.code=AUTHENTICATION_FAILED
# cas.authn.throttle.failure.range-seconds=60
</code></pre>
<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.authn.throttle</code>.</p>
<h3>
<a id="bucket4j" class="anchor" href="#bucket4j" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bucket4j</h3>
<p>Handle capacity planning and system overload protection using rate-limiting and token buckets.</p>
<pre lang="properties"><code># cas.authn.throttle.bucket4j.range-in-seconds=60
# cas.authn.throttle.bucket4j.capacity=120
# cas.authn.throttle.bucket4j.blocking=true
# cas.authn.throttle.bucket4j.overdraft=0
</code></pre>
<h3>
<a id="mongodb-1" class="anchor" href="#mongodb-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.audit</code>. This feature uses the same data source used by the CAS MongoDb audit facility.</p>
<h3>
<a id="redis-1" class="anchor" href="#redis-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code>cas.audit</code>. This feature uses the same data source used by the CAS Redis audit facility.</p>
<h3>
<a id="hazelcast" class="anchor" href="#hazelcast" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hazelcast</h3>
<p>Use a distributed Hazelcast map to record throttled authentication attempts. Hazelcast settings for this feature are available <a href="Configuration-Properties-Common.html#hazelcast-configuration">here</a> under the configuration key <code>cas.authn.throttle.hazelcast</code>.</p>
<h3>
<a id="database" class="anchor" href="#database" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database</h3>
<p>Queries the data source used by the CAS audit facility to prevent successive failed login attempts for a particular username from the<br>
same IP address.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.authn.throttle.jdbc</code>.</p>
<pre lang="properties"><code># cas.authn.throttle.jdbc.audit-query=SELECT AUD_DATE FROM COM_AUDIT_TRAIL \
#   WHERE AUD_CLIENT_IP = ? AND AUD_USER = ? \
#   AND AUD_ACTION = ? AND APPLIC_CD = ? \
#   AND AUD_DATE &gt;= ? ORDER BY AUD_DATE DESC
</code></pre>
<h3>
<a id="couchdb" class="anchor" href="#couchdb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb</h3>
<p>Queries the data source used by the CAS audit facility to prevent successive failed login attempts for a particular username from the<br>
same IP address. CouchDb settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key<br>
<code>cas.authn.throttle</code>. When using this feature the audit facility should be in synchronous mode.</p>
<h2>
<a id="adaptive-authentication" class="anchor" href="#adaptive-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Adaptive Authentication</h2>
<p>Control how CAS authentication should adapt itself to incoming client requests.<br>
To learn more about this topic, <a href="../mfa/Configuring-Adaptive-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.adaptive.reject-countries=United.+
# cas.authn.adaptive.reject-browsers=Gecko.+
# cas.authn.adaptive.reject-ip-addresses=127.+

# cas.authn.adaptive.require-multifactor.mfa-duo=127.+|United.+|Gecko.+
</code></pre>
<p>Adaptive authentication can also react to specific times in order to trigger multifactor authentication.</p>
<pre lang="properties"><code># cas.authn.adaptive.require-timed-multifactor[0].provider-id=mfa-duo
# cas.authn.adaptive.require-timed-multifactor[0].on-or-after-hour=20
# cas.authn.adaptive.require-timed-multifactor[0].on-or-before-hour=7
# cas.authn.adaptive.require-timed-multifactor[0].on-days=Saturday,Sunday
</code></pre>
<h3>
<a id="ip-address-intelligence" class="anchor" href="#ip-address-intelligence" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IP Address Intelligence</h3>
<p>Examine the client IP address via the following strategies.</p>
<h4>
<a id="rest-adaptive-authentication" class="anchor" href="#rest-adaptive-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Adaptive Authentication</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.adaptive.ip-intel.rest</code>.</p>
<h4>
<a id="groovy-adaptive-authentication" class="anchor" href="#groovy-adaptive-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy Adaptive Authentication</h4>
<pre lang="properties"><code># cas.authn.adaptive.ip-intel.groovy.location=file:/etc/cas/config/GroovyIPAddressIntelligenceService.groovy
</code></pre>
<h4>
<a id="blackdot-adaptive-authentication" class="anchor" href="#blackdot-adaptive-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>BlackDot Adaptive Authentication</h4>
<pre lang="properties"><code># cas.authn.adaptive.ip-intel.black-dot.url=http://check.getipintel.net/check.php?ip=%s
# cas.authn.adaptive.ip-intel.black-dot.email-address=
# cas.authn.adaptive.ip-intel.black-dot.mode=DYNA_LIST
</code></pre>
<h2>
<a id="surrogate-authentication" class="anchor" href="#surrogate-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Surrogate Authentication</h2>
<p>Authenticate on behalf of another user.<br>
To learn more about this topic, <a href="../installation/Surrogate-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.surrogate.separator=+
# cas.authn.surrogate.tgt.time-to-kill-in-seconds=30
</code></pre>
<p>Principal resolution and Person Directory settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a><br>
under the configuration key <code>cas.authn.surrogate.principal</code>.</p>
<h3>
<a id="static-surrogate-accounts" class="anchor" href="#static-surrogate-accounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static Surrogate Accounts</h3>
<pre lang="properties"><code># cas.authn.surrogate.simple.surrogates.casuser=jsmith,jsmith2
# cas.authn.surrogate.simple.surrogates.casuser2=jsmith4,jsmith2
</code></pre>
<h3>
<a id="json-surrogate-accounts" class="anchor" href="#json-surrogate-accounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Surrogate Accounts</h3>
<pre lang="properties"><code># cas.authn.surrogate.json.location=file:/etc/cas/config/surrogates.json
</code></pre>
<h3>
<a id="ldap-surrogate-accounts" class="anchor" href="#ldap-surrogate-accounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Surrogate Accounts</h3>
<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.surrogate.ldap</code>.</p>
<pre lang="properties"><code># cas.authn.surrogate.ldap.surrogate-search-filter=(&amp;(principal={user})(memberOf=cn=edu:example:cas:something:{user},dc=example,dc=edu))
# cas.authn.surrogate.ldap.member-attribute-name=memberOf
# cas.authn.surrogate.ldap.member-attribute-value-regex=cn=edu:example:cas:something:([^,]+),.+
</code></pre>
<h3>
<a id="couchdb-surrogate-accounts" class="anchor" href="#couchdb-surrogate-accounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Surrogate Accounts</h3>
<p>Settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.authn.surrogate</code>. Surrogates may be stored either as part of the principals profile or as a series of principal/surrogate pair. The default is a key/value pair.</p>
<pre lang="properties"><code># cas.authn.surrogate.ldap.surrogate-search-filter=(&amp;(principal={user})(memberOf=cn=edu:example:cas:something:{user},dc=example,dc=edu))
# cas.authn.surrogate.ldap.member-attribute-name=memberOf
# cas.authn.surrogate.ldap.member-attribute-value-regex=cn=edu:example:cas:something:([^,]+),.+
</code></pre>
<h3>
<a id="jdbc-surrogate-accounts" class="anchor" href="#jdbc-surrogate-accounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC Surrogate Accounts</h3>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.surrogate.jdbc</code>.</p>
<pre lang="properties"><code># cas.authn.surrogate.jdbc.surrogate-search-query=SELECT COUNT(*) FROM surrogate WHERE username=?
# cas.authn.surrogate.jdbc.surrogate-account-query=SELECT surrogate_user AS surrogateAccount FROM surrogate WHERE username=?
</code></pre>
<h3>
<a id="rest-surrogate-accounts" class="anchor" href="#rest-surrogate-accounts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Surrogate Accounts</h3>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.surrogate.rest</code>.</p>
<h3>
<a id="notifications" class="anchor" href="#notifications" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notifications</h3>
<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a><br>
under the configuration key <code>cas.authn.surrogate</code>. SMS notifications settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code>cas.authn.surrogate</code>.</p>
<h2>
<a id="qr-authentication" class="anchor" href="#qr-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>QR Authentication</h2>
<p>Attempt to login via a mobile device via a QR code. To learn more about this<br>
topic, <a href="../installation/QRCode-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># Configure allowed Origin header values for browser clients.
# cas.authn.qr.allowed-origins=*
</code></pre>
<h3>
<a id="json-device-repository" class="anchor" href="#json-device-repository" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Device Repository</h3>
<p>Attempt to login via a mobile device via a QR code. To learn more about this<br>
topic, <a href="../installation/QRCode-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.qr.json.location=file:/etc/cas/config/qrdevices.json
</code></pre>
<h2>
<a id="risk-based-authentication" class="anchor" href="#risk-based-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Risk-based Authentication</h2>
<p>Evaluate suspicious authentication requests and take action. To learn<br>
more about this topic, <a href="../installation/Configuring-RiskBased-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.adaptive.risk.threshold=0.6
# cas.authn.adaptive.risk.days-in-recent-history=30

# cas.authn.adaptive.risk.ip.enabled=false

# cas.authn.adaptive.risk.agent.enabled=false

# cas.authn.adaptive.risk.geo-location.enabled=false

# cas.authn.adaptive.risk.date-time.enabled=false
# cas.authn.adaptive.risk.date-time.window-in-hours=2

# cas.authn.adaptive.risk.response.block-attempt=false

# cas.authn.adaptive.risk.response.mfa-provider=
# cas.authn.adaptive.risk.response.risky-authentication-attribute=triggeredRiskBasedAuthentication
</code></pre>
<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a><br>
under the configuration key <code>cas.authn.adaptive.risk.response</code>. SMS notifications settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code>cas.authn.adaptive.risk.response</code>.</p>
<h2>
<a id="passwordless-authentication" class="anchor" href="#passwordless-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Passwordless Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Passwordless-Authentication.html">please review this guide</a>.</p>
<h3>
<a id="account-stores" class="anchor" href="#account-stores" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Account Stores</h3>
<pre lang="properties"><code># cas.authn.passwordless.multifactor-authentication-activated=false
# cas.authn.passwordless.delegated-authentication-activated=false
</code></pre>
<h4>
<a id="simple-account-store" class="anchor" href="#simple-account-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Simple Account Store</h4>
<pre lang="properties"><code># cas.authn.passwordless.accounts.simple.casuser=cas@example.org
</code></pre>
<h4>
<a id="groovy-account-store" class="anchor" href="#groovy-account-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy Account Store</h4>
<pre lang="properties"><code># cas.authn.passwordless.accounts.groovy.location=file:/etc/cas/config/pwdless.groovy
</code></pre>
<h4>
<a id="json-account-store" class="anchor" href="#json-account-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Account Store</h4>
<pre lang="properties"><code># cas.authn.passwordless.accounts.json.location=file:/etc/cas/config/pwdless-accounts.json
</code></pre>
<h4>
<a id="restful-account-store" class="anchor" href="#restful-account-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RESTful Account Store</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.passwordless.accounts.rest</code>.</p>
<h4>
<a id="ldap-account-store" class="anchor" href="#ldap-account-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Account Store</h4>
<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a><br>
under the configuration key <code>cas.authn.passwordless.accounts.ldap</code>.</p>
<h4>
<a id="mongodb-account-store" class="anchor" href="#mongodb-account-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Account Store</h4>
<p>MongoDb settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a><br>
under the configuration key <code>cas.authn.passwordless.accounts.mongo</code>.</p>
<h3>
<a id="token-management" class="anchor" href="#token-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Token Management</h3>
<pre lang="properties"><code># cas.authn.passwordless.accounts.expire-in-seconds=180
</code></pre>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.passwordless.tokens.rest</code>. The signing key and the encryption<br>
key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under<br>
the configuration key <code>cas.authn.passwordless.tokens</code>.</p>
<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a><br>
under the configuration key <code>cas.authn.passwordless.tokens</code>. SMS notifications settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code>cas.authn.passwordless.tokens</code>.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under<br>
the configuration key <code>cas.authn.passwordless.tokens.jpa</code>. Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.authn.passwordless.tokens.jpa.cleaner</code>.</p>
<h2>
<a id="email-submissions" class="anchor" href="#email-submissions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Email Submissions</h2>
<p>Email notifications settings are available <a href="Configuration-Properties-Common.html#email-notifications">here</a>.</p>
<h2>
<a id="sms-messaging" class="anchor" href="#sms-messaging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SMS Messaging</h2>
<p>To learn more about this topic, <a href="../notifications/SMS-Messaging-Configuration.html">please review this guide</a>.</p>
<h3>
<a id="groovy-4" class="anchor" href="#groovy-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h3>
<p>Send text messages using a Groovy script.</p>
<pre lang="properties"><code># cas.sms-provider.groovy.location=file:/etc/cas/config/SmsSender.groovy
</code></pre>
<h3>
<a id="rest-3" class="anchor" href="#rest-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h3>
<p>Send text messages using a RESTful API. RESTful settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.sms-provider.rest</code>.</p>
<h3>
<a id="twilio" class="anchor" href="#twilio" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Twilio</h3>
<p>Send text messaging using Twilio.</p>
<pre lang="properties"><code># cas.sms-provider.twilio.account-id=
# cas.sms-provider.twilio.token=
</code></pre>
<h3>
<a id="textmagic" class="anchor" href="#textmagic" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TextMagic</h3>
<p>Send text messaging using TextMagic.</p>
<pre lang="properties"><code># cas.sms-provider.text-magic.username=
# cas.sms-provider.text-magic.token=
# cas.sms-provider.text-magic.debugging=false
# cas.sms-provider.text-magic.password=
# cas.sms-provider.text-magic.read-timeout=5000
# cas.sms-provider.text-magic.connection-timeout=5000
# cas.sms-provider.text-magic.write-timeout=5000
# cas.sms-provider.text-magic.verifying-ssl=true
# cas.sms-provider.text-magic.api-key=
# cas.sms-provider.text-magic.api-key-prefix=
</code></pre>
<h3>
<a id="clickatell" class="anchor" href="#clickatell" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Clickatell</h3>
<p>Send text messaging using Clickatell.</p>
<pre lang="properties"><code># cas.sms-provider.clickatell.server-url=https://platform.clickatell.com/messages
# cas.sms-provider.clickatell.token=
</code></pre>
<h3>
<a id="nexmo" class="anchor" href="#nexmo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Nexmo</h3>
<p>Send text messaging using Nexmo.<br>
Nexmo needs at least apiSecret or signatureSecret field set.</p>
<pre lang="properties"><code># cas.sms-provider.nexmo.api-token=
# cas.sms-provider.nexmo.api-secret=
# cas.sms-provider.nexmo.signature-secret=
</code></pre>
<h3>
<a id="amazon-sns" class="anchor" href="#amazon-sns" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon SNS</h3>
<p>Send text messaging using Amazon SNS.</p>
<pre lang="properties"><code># cas.sms-provider.sns.sender-id=
# cas.sms-provider.sns.max-price=
# cas.sms-provider.sns.sms-type=Transactional
</code></pre>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.sms-provider.sns</code>.</p>
<h2>
<a id="google-cloud-firebase-messaging" class="anchor" href="#google-cloud-firebase-messaging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Cloud Firebase Messaging</h2>
<p>To learn more about this topic, <a href="../notifications/Notifications-Configuration.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.google-firebase-messaging.service-account-key.location=/path/to/account-key.json",
# cas.google-firebase-messaging.database-url=https://cassso-123456.firebaseio.com",
# cas.google-firebase-messaging.registration-token-attribute-name=registrationToken
# cas.google-firebase-messaging.scopes=https://www.googleapis.com/auth/firebase.messaging
</code></pre>
<h2>
<a id="geotracking" class="anchor" href="#geotracking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GeoTracking</h2>
<p>To learn more about this topic, <a href="../installation/GeoTracking-Authentication-Requests.html">please review this guide</a>.</p>
<h3>
<a id="googlemaps-geotracking" class="anchor" href="#googlemaps-geotracking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GoogleMaps GeoTracking</h3>
<p>Used to geo-profile authentication events.</p>
<pre lang="properties"><code># cas.google-maps.api-key=
# cas.google-maps.client-id=
# cas.google-maps.client-secret=
# cas.google-maps.connect-timeout=3000
# cas.google-maps.google-apps-engine=false
</code></pre>
<h3>
<a id="maxmind-geotracking" class="anchor" href="#maxmind-geotracking" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Maxmind GeoTracking</h3>
<p>Used to geo-profile authentication events.</p>
<pre lang="properties"><code># cas.maxmind.city-database=file:/etc/cas/maxmind/GeoLite2-City.mmdb
# cas.maxmind.country-database=file:/etc/cas/maxmind/GeoLite2-Country.mmdb
</code></pre>
<h2>
<a id="cassandra-authentication" class="anchor" href="#cassandra-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cassandra Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Cassandra-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.cassandra.username-attribute=
# cas.authn.cassandra.password-attribute=
# cas.authn.cassandra.table-name=
# cas.authn.cassandra.username=
# cas.authn.cassandra.password=
# cas.authn.cassandra.query=SELECT * FROM %s WHERE %s = ? ALLOW FILTERING
# cas.authn.cassandra.name=
# cas.authn.cassandra.order=
</code></pre>
<p>Common Cassandra settings for this feature are available <a href="Configuration-Properties-Common.html#cassandra-configuration">here</a> under the configuration key <code>cas.authn.cassandra</code>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.cassandra</code>.</p>
<p>Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.cassandra</code>.</p>
<h2>
<a id="digest-authentication" class="anchor" href="#digest-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Digest Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Digest-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.digest.users.casuser=3530292c24102bac7ced2022e5f1036a
# cas.authn.digest.users.anotheruser=7530292c24102bac7ced2022e5f1036b
# cas.authn.digest.realm=CAS
# cas.authn.digest.name=
# cas.authn.digest.order=
# cas.authn.digest.authentication-method=auth
</code></pre>
<h2>
<a id="radius-authentication" class="anchor" href="#radius-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Radius Authentication</h2>
<p>To learn more about this topic, <a href="../mfa/RADIUS-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.radius</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.radius</code>.</p>
<p>Radius  settings for this feature are available <a href="Configuration-Properties-Common.html#radius-configuration">here</a> under the configuration key <code>cas.authn.radius</code>.</p>
<pre lang="properties"><code># cas.authn.radius.name=
</code></pre>
<h2>
<a id="file-authentication" class="anchor" href="#file-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>File Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Permissive-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.file</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.file</code>.</p>
<pre lang="properties"><code># cas.authn.file.separator=::
# cas.authn.file.filename=file:///path/to/users/file
# cas.authn.file.name=
</code></pre>
<h2>
<a id="groovy-authentication" class="anchor" href="#groovy-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Groovy-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.groovy.order=0
# cas.authn.groovy.name=
</code></pre>
<h2>
<a id="json-authentication" class="anchor" href="#json-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Permissive-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.json</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.json</code>.</p>
<p>Password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> under the configuration key <code>cas.authn.json.passwordPolicy</code>.</p>
<pre lang="properties"><code># cas.authn.json.location=file:///path/to/users/file.json
# cas.authn.json.name=
</code></pre>
<h2>
<a id="reject-users-authentication" class="anchor" href="#reject-users-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reject Users Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Reject-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.reject</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.reject</code>.</p>
<pre lang="properties"><code># cas.authn.reject.users=user1,user2
# cas.authn.reject.name=
</code></pre>
<h2>
<a id="database-authentication" class="anchor" href="#database-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Database-Authentication.html">please review this guide</a>.</p>
<h3>
<a id="query-database-authentication" class="anchor" href="#query-database-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Query Database Authentication</h3>
<p>Authenticates a user by comparing the user password (which can be encoded with a password encoder)<br>
against the password on record determined by a configurable database query.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.jdbc.query[0]</code>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.jdbc.query[0]</code>.</p>
<p>Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.jdbc.query[0]</code>.</p>
<pre lang="properties"><code># cas.authn.jdbc.query[0].credential-criteria=
# cas.authn.jdbc.query[0].name=
# cas.authn.jdbc.query[0].order=0

# cas.authn.jdbc.query[0].sql=SELECT * FROM table WHERE name=?
# cas.authn.jdbc.query[0].field-password=password
# cas.authn.jdbc.query[0].field-expired=
# cas.authn.jdbc.query[0].field-disabled=
# cas.authn.jdbc.query[0].principal-attribute-list=sn,cn:commonName,givenName
</code></pre>
<h3>
<a id="search-database-authentication" class="anchor" href="#search-database-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Search Database Authentication</h3>
<p>Searches for a user record by querying against a username and password; the user is authenticated if at least one result is found.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.jdbc.search[0]</code>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.jdbc.search[0]</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.jdbc.search[0]</code>.</p>
<pre lang="properties"><code># cas.authn.jdbc.search[0].field-user=
# cas.authn.jdbc.search[0].table-users=
# cas.authn.jdbc.search[0].field-password=
# cas.authn.jdbc.search[0].credential-criteria=
# cas.authn.jdbc.search[0].name=
# cas.authn.jdbc.search[0].order=0
</code></pre>
<h3>
<a id="bind-database-authentication" class="anchor" href="#bind-database-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Bind Database Authentication</h3>
<p>Authenticates a user by attempting to create a database connection using the username and (hashed) password.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.jdbc.bind[0]</code>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.jdbc.bind[0]</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.jdbc.bind[0]</code>.</p>
<pre lang="properties"><code># cas.authn.jdbc.bind[0].credential-criteria=
# cas.authn.jdbc.bind[0].name=
# cas.authn.jdbc.bind[0].order=0
</code></pre>
<h3>
<a id="encode-database-authentication" class="anchor" href="#encode-database-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Encode Database Authentication</h3>
<p>A JDBC querying handler that will pull back the password and the private salt value for a user and validate the encoded<br>
password using the public salt value. Assumes everything is inside the same database table. Supports settings for<br>
number of iterations as well as private salt.</p>
<p>This password encoding method combines the private Salt and the public salt which it prepends to the password before hashing.<br>
If multiple iterations are used, the bytecode hash of the first iteration is rehashed without the salt values. The final hash<br>
is converted to hex before comparing it to the database value.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.jdbc.encode[0]</code>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.jdbc.encode[0]</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.jdbc.encode[0]</code>.</p>
<pre lang="properties"><code># cas.authn.jdbc.encode[0].number-of-iterations=0
# cas.authn.jdbc.encode[0].number-of-iterations-field-name=numIterations
# cas.authn.jdbc.encode[0].salt-field-name=salt
# cas.authn.jdbc.encode[0].static-salt=
# cas.authn.jdbc.encode[0].sql=
# cas.authn.jdbc.encode[0].algorithm-name=
# cas.authn.jdbc.encode[0].password-field-name=password
# cas.authn.jdbc.encode[0].expired-field-name=
# cas.authn.jdbc.encode[0].disabled-field-name=

# cas.authn.jdbc.encode[0].credential-criteria=
# cas.authn.jdbc.encode[0].name=
# cas.authn.jdbc.encode[0].order=0
</code></pre>
<h2>
<a id="couchdb-authentication" class="anchor" href="#couchdb-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Authentication</h2>
<p>To learn more about this topic, <a href="../installation/CouchDb-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.couch-db</code>.<br>
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.couch-db</code>.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.authn</code>.</p>
<pre lang="properties"><code># cas.authn.couch-db.attributes=
# cas.authn.couch-db.username-attribute=username
# cas.authn.couch-db.password-attribute=password
# cas.authn.couch-db.name=
# cas.authn.couch-db.order=
</code></pre>
<h2>
<a id="redis-authentication" class="anchor" href="#redis-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Redis-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.redis</code>. Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.redis</code>.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn</code>.</p>
<pre lang="properties"><code># cas.authn.redis.name=
# cas.authn.redis.order=
</code></pre>
<h2>
<a id="mongodb-authentication" class="anchor" href="#mongodb-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Authentication</h2>
<p>To learn more about this topic, <a href="../installation/MongoDb-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.mongo</code>.<br>
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.mongo</code>.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn</code>.</p>
<pre lang="properties"><code># cas.authn.mongo.attributes=
# cas.authn.mongo.username-attribute=username
# cas.authn.mongo.password-attribute=password
# cas.authn.mongo.principal-id-attribute=
# cas.authn.mongo.name=
</code></pre>
<h2>
<a id="ldap-authentication" class="anchor" href="#ldap-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Authentication</h2>
<p>CAS authenticates a username/password against an LDAP directory such as Active Directory or OpenLDAP.<br>
There are numerous directory architectures and we provide configuration for four common cases.</p>
<p>Note that CAS will automatically create the appropriate components internally<br>
based on the settings specified below. If you wish to authenticate against more than one LDAP<br>
server, increment the index and specify the settings for the next LDAP server.</p>
<p><strong>Note:</strong> Attributes retrieved as part of LDAP authentication are merged with all attributes<br>
retrieved from <a href="#authentication-attributes">other attribute repository sources</a>, if any.<br>
Attributes retrieved directly as part of LDAP authentication trump all other attributes.</p>
<p>To learn more about this topic, <a href="../installation/LDAP-Authentication.html">please review this guide</a>.<br>
LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.ldap[0]</code>.</p>
<pre lang="properties"><code># Define attributes to be retrieved from LDAP as part of the same authentication transaction
# The left-hand size notes the source while the right-hand size indicate an optional renaming/remapping
# of the attribute definition. The same attribute name is allowed to be mapped multiple times to
# different attribute names.

# cas.authn.ldap[0].principal-attribute-list=sn,cn:commonName,givenName,eduPersonTargettedId:SOME_IDENTIFIER

# cas.authn.ldap[0].collect-dn-attribute=false
# cas.authn.ldap[0].principal-dn-attribute-name=principalLdapDn
# cas.authn.ldap[0].allow-multiple-principal-attribute-values=true
# cas.authn.ldap[0].allow-missing-principal-attribute-value=true
# cas.authn.ldap[0].credential-criteria=
</code></pre>
<p>To fetch and resolve attributes that carry tags/options, consider tagging the mapped attribute as such:</p>
<pre lang="properties"><code># cas.authn.ldap[0].principal-attribute-list=homePostalAddress:homePostalAddress;
</code></pre>
<h3>
<a id="ldap-password-policy" class="anchor" href="#ldap-password-policy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Password Policy</h3>
<p>LDAP password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> under the configuration key <code>cas.authn.ldap[0].passwordPolicy</code>.</p>
<h3>
<a id="ldap-password-encoding--principal-transformation" class="anchor" href="#ldap-password-encoding--principal-transformation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Password Encoding &amp; Principal Transformation</h3>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.ldap[0]</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.ldap[0]</code>.</p>
<h2>
<a id="rest-authentication" class="anchor" href="#rest-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Authentication</h2>
<p>This allows the CAS server to reach to a remote REST endpoint via a <code>POST</code>.<br>
To learn more about this topic, <a href="../installation/Rest-Authentication.html">please review this guide</a>. Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.rest</code>.</p>
<pre lang="properties"><code># cas.authn.rest.uri=https://...
# cas.authn.rest.name=
# cas.authn.rest.charset=US-ASCII
</code></pre>
<h2>
<a id="google-apps-authentication" class="anchor" href="#google-apps-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Apps Authentication</h2>
<p>Authenticate via CAS into Google Apps services and applications.<br>
To learn more about this topic, <a href="../integration/Google-Apps-Integration.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.google-apps.public-key-location=file:/etc/cas/public.key
# cas.google-apps.key-algorithm=RSA
# cas.google-apps.private-key-location=file:/etc/cas/private.key
</code></pre>
<h2>
<a id="openid-authentication" class="anchor" href="#openid-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Authentication</h2>
<p>Allow CAS to become an OpenID authentication provider. To learn more about this topic, <a href="../protocol/OpenID-Protocol.html">please review this guide</a>.</p>
<p>Principal resolution and Person Directory settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code>cas.authn.openid.principal</code>.</p>
<pre lang="properties"><code># cas.authn.openid.enforce-rp-id=false
# cas.authn.openid.name=
# cas.authn.openid.order=
</code></pre>
<h2>
<a id="spnego-authentication" class="anchor" href="#spnego-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SPNEGO Authentication</h2>
<p>To learn more about this topic, <a href="../installation/SPNEGO-Authentication.html">please review this guide</a>.</p>
<p>Principal resolution and Person Directory settings for this feature are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code>cas.authn.spnego.principal</code>.</p>
<pre lang="properties"><code># cas.authn.spnego.mixed-mode-authentication=false
# cas.authn.spnego.supported-browsers=MSIE,Trident,Firefox,AppleWebKit
# cas.authn.spnego.send401-on-authentication-failure=true
# cas.authn.spnego.ntlm-allowed=true
# cas.authn.spnego.principal-with-domain-name=false
# cas.authn.spnego.name=
# cas.authn.spnego.ntlm=false
</code></pre>
<h3>
<a id="webflow-configuration" class="anchor" href="#webflow-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Webflow configuration</h3>
<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under the configuration key <code>cas.authn.spnego.webflow</code>.</p>
<h3>
<a id="system-settings" class="anchor" href="#system-settings" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>System Settings</h3>
<pre lang="properties"><code># cas.authn.spnego.system.kerberos-conf=
# cas.authn.spnego.system.login-conf=
# cas.authn.spnego.system.kerberos-realm=EXAMPLE.COM
# cas.authn.spnego.system.kerberos-debug=true
# cas.authn.spnego.system.use-subject-creds-only=false
# cas.authn.spnego.system.kerberos-kdc=172.10.1.10
</code></pre>
<h3>
<a id="spnego-authentication-settings" class="anchor" href="#spnego-authentication-settings" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spnego Authentication Settings</h3>
<pre lang="properties"><code># cas.authn.spnego.properties[0].cache-policy=600
# cas.authn.spnego.properties[0].jcifs-domain-controller=
# cas.authn.spnego.properties[0].jcifs-domain=
# cas.authn.spnego.properties[0].jcifs-password=
# cas.authn.spnego.properties[0].jcifs-username=
# cas.authn.spnego.properties[0].jcifs-service-password=
# cas.authn.spnego.properties[0].timeout=300000
# cas.authn.spnego.properties[0].jcifs-service-principal=HTTP/cas.example.com@EXAMPLE.COM
# cas.authn.spnego.properties[0].jcifs-netbios-wins=
</code></pre>
<h3>
<a id="spnego-client-selection-strategy" class="anchor" href="#spnego-client-selection-strategy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SPNEGO Client Selection Strategy</h3>
<pre lang="properties"><code># cas.authn.spnego.host-name-client-action-strategy=hostnameSpnegoClientAction
</code></pre>
<h3>
<a id="spnego-client-selection-hostname" class="anchor" href="#spnego-client-selection-hostname" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SPNEGO Client Selection Hostname</h3>
<pre lang="properties"><code># cas.authn.spnego.alternative-remote-host-attribute=alternateRemoteHeader
# cas.authn.spnego.ips-to-check-pattern=127.+
# cas.authn.spnego.dns-timeout=2000
# cas.authn.spnego.host-name-pattern-string=.+
</code></pre>
<h3>
<a id="spnego-ldap-integration" class="anchor" href="#spnego-ldap-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SPNEGO LDAP Integration</h3>
<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.spnego.ldap</code>.</p>
<pre lang="properties"><code># cas.authn.spnego.spnego-attribute-name=distinguishedName
</code></pre>
<h3>
<a id="ntlm-authentication" class="anchor" href="#ntlm-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NTLM Authentication</h3>
<pre lang="properties"><code># cas.authn.ntlm.include-pattern=
# cas.authn.ntlm.load-balance=true
# cas.authn.ntlm.domain-controller=
# cas.authn.ntlm.name=
# cas.authn.ntlm.order=
# cas.authn.ntlm.enabled=false
</code></pre>
<h2>
<a id="jaas-authentication" class="anchor" href="#jaas-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JAAS Authentication</h2>
<p>To learn more about this topic, <a href="../installation/JAAS-Authentication.html">please review this guide</a>. Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.jaas[0]</code>. Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.jaas[0]</code>.</p>
<pre lang="properties"><code># cas.authn.jaas[0].realm=CAS
# cas.authn.jaas[0].kerberos-kdc-system-property=
# cas.authn.jaas[0].kerberos-realm-system-property
# cas.authn.jaas[0].name=
# cas.authn.jaas[0].order=
# cas.authn.jaas[0].credential-criteria=
# cas.authn.jaas[0].login-config-type=JavaLoginConfig
# cas.authn.jaas[0].login-configuration-file=/path/to/jaas.con
</code></pre>
<p>Principal resolution and Person Directory settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a><br>
under the configuration key <code>cas.authn.jaas[0].principal</code>.</p>
<p>Password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a><br>
under the configuration key <code>cas.authn.jaas[0].password-policy</code>.</p>
<h2>
<a id="gua-authentication" class="anchor" href="#gua-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GUA Authentication</h2>
<p>To learn more about this topic, <a href="../installation/GUA-Authentication.html">please review this guide</a>.</p>
<h3>
<a id="ldap-repository" class="anchor" href="#ldap-repository" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Repository</h3>
<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.gua.ldap</code>.</p>
<pre lang="properties"><code># cas.authn.gua.ldap.image-attribute=userImageIdentifier
</code></pre>
<h3>
<a id="static-resource-repository" class="anchor" href="#static-resource-repository" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static Resource Repository</h3>
<pre lang="properties"><code># cas.authn.gua.simple.[username1]=file:/path/to/image.jpg
# cas.authn.gua.simple.[username2]=file:/path/to/image.jpg
</code></pre>
<h2>
<a id="jwttoken-authentication" class="anchor" href="#jwttoken-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JWT/Token Authentication</h2>
<p>To learn more about this topic, <a href="../installation/JWT-Authentication.html">please review this guide</a>. Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.token</code>.</p>
<pre lang="properties"><code># cas.authn.token.name=
</code></pre>
<h3>
<a id="webflow-configuration-1" class="anchor" href="#webflow-configuration-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Webflow configuration</h3>
<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under<br>
the configuration key <code>cas.authn.token.webflow</code>.</p>
<h3>
<a id="jwt-tickets" class="anchor" href="#jwt-tickets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JWT Tickets</h3>
<p>Allow CAS tickets through various protocol channels to be created as JWTs. See <a href="../installation/Configure-ServiceTicket-JWT.html">this guide</a><br>
or <a href="../protocol/REST-Protocol.html">this guide</a> for more info.</p>
<pre lang="properties"><code># cas.authn.token.crypto.encryption-enabled=true
# cas.authn.token.crypto.signing-enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.token</code>.</p>
<h2>
<a id="couchbase-authentication" class="anchor" href="#couchbase-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Couchbase Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Couchbase-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.couchbase</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.couchbase</code>.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the configuration key <code>cas.authn.couchbase</code>.</p>
<pre lang="properties"><code># cas.authn.couchbase.username-attribute=username
# cas.authn.couchbase.password-attribute=psw

# cas.authn.couchbase.name=
# cas.authn.couchbase.order=
</code></pre>
<h2>
<a id="amazon-cloud-directory-authentication" class="anchor" href="#amazon-cloud-directory-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon Cloud Directory Authentication</h2>
<p>To learn more about this topic, <a href="../installation/AWS-CloudDirectory-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.cloud-directory</code>.<br>
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.cloud-directory</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.authn.cloud-directory</code>.</p>
<pre lang="properties"><code># cas.authn.cloud-directory.directory-arn=
# cas.authn.cloud-directory.schema-arn=
# cas.authn.cloud-directory.facet-name=

# cas.authn.cloud-directory.username-attribute-name=
# cas.authn.cloud-directory.password-attribute-name=
# cas.authn.cloud-directory.username-index-path=

# cas.authn.cloud-directory.name=
# cas.authn.cloud-directory.order=
</code></pre>
<h2>
<a id="amazon-cognito-authentication" class="anchor" href="#amazon-cognito-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon Cognito Authentication</h2>
<p>To learn more about this topic, <a href="../installation/AWS-Cognito-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.cognito</code>.<br>
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.cognito</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a> under the configuration key <code>cas.authn.cognito</code>.</p>
<pre lang="properties"><code># cas.authn.cognito.name=
# cas.authn.cognito.order=

# cas.authn.cognito.client-id=
# cas.authn.cognito.user-pool-id=
</code></pre>
<h2>
<a id="okta-authentication" class="anchor" href="#okta-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Okta Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Okta-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.okta</code>.<br>
Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.okta</code>.</p>
<pre lang="properties"><code># cas.authn.okta.name=
# cas.authn.okta.order=  
# cas.authn.okta.credential-criteria=

# cas.authn.okta.organization-url=     

# cas.authn.okta.connection-timeout=5000
# cas.authn.okta.proxy-username=
# cas.authn.okta.proxy-password=
# cas.authn.okta.proxy-host=
# cas.authn.okta.proxy-port=
</code></pre>
<h2>
<a id="microsoft-azure-active-directory-authentication" class="anchor" href="#microsoft-azure-active-directory-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Microsoft Azure Active Directory Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Azure-ActiveDirectory-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.azure-active-directory</code>.<br>
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.azure-active-directory</code>.</p>
<pre lang="properties"><code># cas.authn.azure-active-directory.name=
# cas.authn.azure-active-directory.order=
# cas.authn.azure-active-directory.credential-criteria=

# cas.authn.azure-active-directory.client-id=
# cas.authn.azure-active-directory.login-url=https://login.microsoftonline.com/common/
# cas.authn.azure-active-directory.resource=https://graph.microsoft.com/
</code></pre>
<h2>
<a id="soap-authentication" class="anchor" href="#soap-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SOAP Authentication</h2>
<p>To learn more about this topic, <a href="../installation/SOAP-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.soap</code>.<br>
Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.soap</code>.</p>
<pre lang="properties"><code># cas.authn.soap.name=
# cas.authn.soap.order=
# cas.authn.soap.url=
</code></pre>
<h2>
<a id="remote-address-authentication" class="anchor" href="#remote-address-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remote Address Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Remote-Address-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.remote-address.ip-address-range=
# cas.authn.remote-address.name=
# cas.authn.remote-address.order=
</code></pre>
<h2>
<a id="accept-users-authentication" class="anchor" href="#accept-users-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Accept Users Authentication</h2>
<!-- raw HTML omitted -->
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.accept</code>.<br>
Password policy settings for this feature are available <a href="Configuration-Properties-Common.html#password-policy-settings">here</a> under the configuration key <code>cas.authn.accept.passwordPolicy</code>.<br>
Password encoding settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.accept</code>.</p>
<pre lang="properties"><code># cas.authn.accept.users=
# cas.authn.accept.name=
# cas.authn.accept.enabled=true
# cas.authn.accept.credential-criteria=
</code></pre>
<h2>
<a id="x509-authentication" class="anchor" href="#x509-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>X509 Authentication</h2>
<p>To learn more about this topic, <a href="../installation/X509-Authentication.html">please review this guide</a>.</p>
<h3>
<a id="webflow-configuration-2" class="anchor" href="#webflow-configuration-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Webflow configuration</h3>
<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under<br>
the configuration key <code>cas.authn.x509.webflow</code>.</p>
<pre lang="properties"><code># cas.authn.x509.webflow.port=8446
# cas.authn.x509.webflow.client-auth=want
</code></pre>
<h3>
<a id="principal-resolution-1" class="anchor" href="#principal-resolution-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Principal Resolution</h3>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.x509</code>.</p>
<p>X.509 principal resolution can act on the following principal types:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SERIAL_NO</code></td>
<td>Resolve the principal by the serial number with a configurable <!-- raw HTML omitted -->radix<!-- raw HTML omitted -->, ranging from 2 to 36. If <!-- raw HTML omitted -->radix<!-- raw HTML omitted --> is <!-- raw HTML omitted -->16<!-- raw HTML omitted -->, then the serial number could be filled with leading zeros to even the number of digits.</td>
</tr>
<tr>
<td><code>SERIAL_NO_DN</code></td>
<td>Resolve the principal by serial number and issuer dn.</td>
</tr>
<tr>
<td><code>SUBJECT</code></td>
<td>Resolve the principal by extracting one or more attribute values from the certificate subject DN and combining them with intervening delimiters.</td>
</tr>
<tr>
<td><code>SUBJECT_ALT_NAME</code></td>
<td>Resolve the principal by the subject alternative name extension. (type: otherName)</td>
</tr>
<tr>
<td><code>SUBJECT_DN</code></td>
<td>The default type; Resolve the principal by the certificate's subject dn.</td>
</tr>
<tr>
<td><code>CN_EDIPI</code></td>
<td>Resolve the principal by the Electronic Data Interchange Personal Identifier (EDIPI) from the Common Name.</td>
</tr>
<tr>
<td><code>RFC822_EMAIL</code></td>
<td>Resolve the principal by the <a href="https://tools.ietf.org/html/rfc5280#section-4.2.1.6">RFC822 Name</a> (aka E-mail address) type of subject alternative name field.</td>
</tr>
</tbody>
</table>
<p>For the <code>CN_EDIPI</code>,<code>SUBJECT_ALT_NAME</code>, and <code>RFC822_EMAIL</code> principal resolvers, since not all certificates have those attributes,<br>
you may specify the following property in order to have a different attribute from the certificate used as the principal.<br>
If no alternative attribute is specified then the principal will be null and CAS will fail auth or use a different authenticator.</p>
<pre lang="properties"><code># cas.authn.x509.alternate-principal-attribute=subjectDn|sigAlgOid|subjectX500Principal|x509Rfc822Email|x509subjectUPN
</code></pre>
<h3>
<a id="crl-fetching--revocation" class="anchor" href="#crl-fetching--revocation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CRL Fetching / Revocation</h3>
<p>CAS provides a flexible policy engine for certificate revocation checking. This facility arose due to lack of configurability<br>
in the revocation machinery built into the JSSE.</p>
<p>Available policies cover the following events:</p>
<ul>
<li>CRL Expiration</li>
<li>CRL Unavailability</li>
</ul>
<p>In either event, the following options are available:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ALLOW</code></td>
<td>Allow authentication to proceed.</td>
</tr>
<tr>
<td><code>DENY</code></td>
<td>Deny authentication and block.</td>
</tr>
<tr>
<td><code>THRESHOLD</code></td>
<td>Applicable to CRL expiration, throttle the request whereby expired data is permitted up to a threshold period of time but not afterward.</td>
</tr>
</tbody>
</table>
<p>Revocation certificate checking can be carried out in one of the following ways:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NONE</code></td>
<td>No revocation is performed.</td>
</tr>
<tr>
<td><code>CRL</code></td>
<td>The CRL URI(s) mentioned in the certificate <code>cRLDistributionPoints</code> extension field. Caches are available to prevent excessive IO against CRL endpoints; CRL data is fetched if does not exist in the cache or if it is expired.</td>
</tr>
<tr>
<td><code>RESOURCE</code></td>
<td>A CRL hosted at a fixed location. The CRL is fetched at periodic intervals and cached.</td>
</tr>
</tbody>
</table>
<p>To fetch CRLs, the following options are available:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>RESOURCE</code></td>
<td>By default, all revocation checks use fixed resources to fetch the CRL resource from the specified location.</td>
</tr>
<tr>
<td><code>LDAP</code></td>
<td>A CRL resource may be fetched from a pre-configured attribute, in the event that the CRL resource location is an LDAP URI</td>
</tr>
</tbody>
</table>
<pre lang="properties"><code># cas.authn.x509.crl-expired-policy=DENY|ALLOW|THRESHOLD
# cas.authn.x509.crl-unavailable-policy=DENY|ALLOW|THRESHOLD
# cas.authn.x509.crl-resource-expired-policy=DENY|ALLOW|THRESHOLD
# cas.authn.x509.crl-resource-unavailable-policy=DENY|ALLOW|THRESHOLD

# cas.authn.x509.revocation-checker=NONE|CRL|RESOURCE
# cas.authn.x509.crl-fetcher=RESOURCE|LDAP

# cas.authn.x509.crl-resources[0]=file:/...

# cas.authn.x509.cache-max-elements-in-memory=1000
# cas.authn.x509.cache-disk-overflow=false
# cas.authn.x509.cache-disk-size=100MB
# cas.authn.x509.cache-eternal=false
# cas.authn.x509.cache-time-to-live-seconds=7200

# cas.authn.x509.mixed-mode=true

# cas.authn.x509.check-key-usage=false
# cas.authn.x509.revocation-policy-threshold=172800

# cas.authn.x509.reg-ex-subject-dn-pattern=.+
# cas.authn.x509.reg-ex-trusted-issuer-dn-pattern=.+

# cas.authn.x509.name=
# cas.authn.x509.order=

# cas.authn.x509.principal-descriptor=
# cas.authn.x509.max-path-length=1
# cas.authn.x509.throw-on-fetch-failure=false

# cas.authn.x509.check-all=false
# cas.authn.x509.require-key-usage=false
# cas.authn.x509.refresh-interval-seconds=3600
# cas.authn.x509.max-path-length-allow-unspecified=false

# SUBJECT_DN
# cas.authn.x509.subject-dn.format=[DEFAULT,RFC1779,RFC2253,CANONICAL]
</code></pre>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DEFAULT</code></td>
<td>Calls certificate.getSubjectDN() method for backwards compatibility but that method is <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/X509Certificate.html#getIssuerDN()">"denigrated"</a>.</td>
</tr>
<tr>
<td><code>RFC1779</code></td>
<td>Calls <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/security/auth/x500/X500Principal.html#getName()">X500Principal.getName("RFC1779")</a> which emits a subject DN with the attribute keywords defined in RFC 1779 (CN, L, ST, O, OU, C, STREET). Any other attribute type is emitted as an OID.</td>
</tr>
<tr>
<td><code>RFC2253</code></td>
<td>Calls <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/security/auth/x500/X500Principal.html#getName()">X500Principal.getName("RFC2253")</a> which emits a subject DN with the attribute keywords defined in RFC 2253 (CN, L, ST, O, OU, C, STREET, DC, UID). Any other attribute type is emitted as an OID.</td>
</tr>
<tr>
<td><code>CANONICAL</code></td>
<td>Calls X500Principal.getName("CANONICAL" which emits a subject DN that starts with RFC 2253 and applies additional canonicalizations described in the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/javax/security/auth/x500/X500Principal.html#getName()">javadoc</a>.</td>
</tr>
</tbody>
</table>
<pre lang="properties"><code># SERIAL_NO_DN
# cas.authn.x509.serial-no-dn.serial-number-prefix=SERIALNUMBER=
# cas.authn.x509.serial-no-dn.value-delimiter=,

# SERIAL_NO
# cas.authn.x509.serial-no.principal-s-n-radix=10
# cas.authn.x509.serial-no.principal-hex-s-n-zero-padding=false

# SUBJECT_ALT_NAME
# cas.authn.x509.subject-alt-name.alternate-principal-attribute=[sigAlgOid|subjectDn|subjectX500Principal|x509Rfc822Email]

# CN_EDIPI 
# cas.authn.x509.cn-edipi.alternate-principal-attribute=[sigAlgOid|subjectDn|subjectX500Principal|x509Rfc822Email|x509subjectUPN]

# RFC822_EMAIL 
# cas.authn.x509.rfc822-email.alternate-principal-attribute=[sigAlgOid|subjectDn|subjectX500Principal|x509subjectUPN]
</code></pre>
<h3>
<a id="x509-certificate-extraction" class="anchor" href="#x509-certificate-extraction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>X509 Certificate Extraction</h3>
<p>These settings can be used to turn on and configure CAS to<br>
extract an X509 certificate from a base64 encoded certificate<br>
on a HTTP request header (placed there by a proxy in front of CAS).<br>
If this is set to true, it is important that the proxy cannot<br>
be bypassed by users and that the proxy ensures the header<br>
never originates from the browser.</p>
<pre lang="properties"><code># cas.authn.x509.extract-cert=false
# cas.authn.x509.ssl-header-name=ssl_client_cert
</code></pre>
<p>The specific parsing logic for the certificate is compatible<br>
with the Tomcat SSLValve which can work with headers set by<br>
Apache HTTPD, Nginx, Haproxy, BigIP F5, etc.</p>
<h3>
<a id="x509-principal-resolution" class="anchor" href="#x509-principal-resolution" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>X509 Principal Resolution</h3>
<pre lang="properties"><code># cas.authn.x509.principal-type=SERIAL_NO|SERIAL_NO_DN|SUBJECT|SUBJECT_ALT_NAME|SUBJECT_DN
</code></pre>
<p>Principal resolution and Person Directory settings for this feature are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code>cas.authn.x509.principal</code>.</p>
<h3>
<a id="x509-ldap-integration" class="anchor" href="#x509-ldap-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>X509 LDAP Integration</h3>
<p>LDAP settings for the X509 feature (used if fetching CRLs from LDAP) are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.x509.ldap</code>.</p>
<p>See LDAP attribute repositories <a href="Configuration-Properties.html#ldap">here</a> to fetch additional LDAP attributes using the principal extracted from the X509 certificate.</p>
<h2>
<a id="syncope-authentication" class="anchor" href="#syncope-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Syncope Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Syncope-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.syncope</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.syncope</code>.</p>
<pre lang="properties"><code># cas.authn.syncope.domain=Master
# cas.authn.syncope.url=https://idm.instance.org/syncope
# cas.authn.syncope.name=
</code></pre>
<h2>
<a id="shiro-authentication" class="anchor" href="#shiro-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shiro Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Shiro-Authentication.html">please review this guide</a>.</p>
<p>Principal transformation settings for this feature are available <a href="Configuration-Properties-Common.html#authentication-principal-transformation">here</a> under the configuration key <code>cas.authn.shiro</code>.</p>
<p>Password encoding  settings for this feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.shiro</code>.</p>
<pre lang="properties"><code># cas.authn.shiro.required-permissions=value1,value2,...
# cas.authn.shiro.required-roles=value1,value2,...
# cas.authn.shiro.location=classpath:shiro.ini
# cas.authn.shiro.name=
</code></pre>
<h2>
<a id="trusted-authentication" class="anchor" href="#trusted-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Trusted Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Trusted-Authentication.html">please review this guide</a>. Principal resolution and Person Directory settings for this feature are available <a href="Configuration-Properties-Common.html#person-directory-principal-resolution">here</a> under the configuration key <code>cas.authn.trusted</code>.</p>
<pre lang="properties"><code># cas.authn.trusted.name=
# cas.authn.trusted.order=
# cas.authn.trusted.remote-principal-header=
</code></pre>
<h2>
<a id="ws-fed-delegated-authentication" class="anchor" href="#ws-fed-delegated-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WS-Fed Delegated Authentication</h2>
<p>To learn more about this topic, <a href="../integration/ADFS-Integration.html">please review this guide</a>.<br>
{% include {{ version }}/wsfed-delegated-authentication.md configKey="cas.authn.wsfed[0]" %}</p>
<h2>
<a id="multifactor-authentication" class="anchor" href="#multifactor-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication</h2>
<p>To learn more about this topic, <a href="../mfa/Configuring-Multifactor-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># Describe the global failure mode in case provider cannot be reached
# cas.authn.mfa.global-failure-mode=CLOSED

# Design the attribute chosen to communicate the authentication context
# cas.authn.mfa.authentication-context-attribute=authnContextClass

# Identify the request content type for non-browser MFA requests
# cas.authn.mfa.content-type=application/cas
</code></pre>
<h3>
<a id="multifactor-authentication-global-trigger" class="anchor" href="#multifactor-authentication-global-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Global Trigger</h3>
<pre lang="properties"><code># Activate MFA globally for all, regardless of other settings
# cas.authn.mfa.global-provider-id=mfa-duo
</code></pre>
<h3>
<a id="multifactor-authentication-authentication-attribute-trigger" class="anchor" href="#multifactor-authentication-authentication-attribute-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Authentication Attribute Trigger</h3>
<pre lang="properties"><code># Activate MFA globally based on authentication metadata attributes
# cas.authn.mfa.global-authentication-attribute-name-triggers=customAttributeName
# cas.authn.mfa.global-authentication-attribute-value-regex=customRegexValue
</code></pre>
<h3>
<a id="multifactor-authentication-principal-attribute-trigger" class="anchor" href="#multifactor-authentication-principal-attribute-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Principal Attribute Trigger</h3>
<pre lang="properties"><code># Activate MFA globally based on principal attributes
# cas.authn.mfa.global-principal-attribute-name-triggers=memberOf,eduPersonPrimaryAffiliation

# Specify the regular expression pattern to trigger multifactor when working with a single provider.
# Comment out the setting when working with multiple multifactor providers
# cas.authn.mfa.global-principal-attribute-value-regex=faculty|staff

# Activate MFA globally based on principal attributes and a groovy-based predicate
# cas.authn.mfa.global-principal-attribute-predicate=file:/etc/cas/PredicateExample.groovy
</code></pre>
<h3>
<a id="multifactor-authentication-rest-api-trigger" class="anchor" href="#multifactor-authentication-rest-api-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: REST API Trigger</h3>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.mfa.rest</code>.</p>
<h3>
<a id="multifactor-authentication-groovy-trigger" class="anchor" href="#multifactor-authentication-groovy-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Groovy Trigger</h3>
<pre lang="properties"><code># Activate MFA based on a Groovy script
# cas.authn.mfa.groovyScript=file:/etc/cas/mfaGroovyTrigger.groovy
</code></pre>
<h3>
<a id="multifactor-authentication-internet2-grouper-trigger" class="anchor" href="#multifactor-authentication-internet2-grouper-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Internet2 Grouper Trigger</h3>
<pre lang="properties"><code># Activate MFA based on Internet2's Grouper
# cas.authn.mfa.grouper-group-field=NAME|EXTENSION|DISPLAY_NAME|DISPLAY_EXTENSION
</code></pre>
<h3>
<a id="multifactor-authentication-http-request-trigger" class="anchor" href="#multifactor-authentication-http-request-trigger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Http Request Trigger</h3>
<pre lang="properties"><code># cas.authn.mfa.request-parameter=authn_method
# cas.authn.mfa.request-header=authn_method
# cas.authn.mfa.session-attribute=authn_method
</code></pre>
<h3>
<a id="multifactor-authentication-provider-selection" class="anchor" href="#multifactor-authentication-provider-selection" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Authentication: Provider Selection</h3>
<pre lang="properties"><code># Select MFA provider, if resolved more than one, via Groovy script
# cas.authn.mfa.provider-selector-groovy-script=file:/etc/cas/mfaGroovySelector.groovy

# Enable provider selection menu, if resolved more than one
cas.authn.mfa.provider-selection-enabled=true
</code></pre>
<h3>
<a id="multifactor-trusted-devicebrowser" class="anchor" href="#multifactor-trusted-devicebrowser" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Multifactor Trusted Device/Browser</h3>
<p>To learn more about this topic, <a href="../mfa/Multifactor-TrustedDevice-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.trusted.authentication-context-attribute=isFromTrustedMultifactorAuthentication
# cas.authn.mfa.trusted.device-registration-enabled=true
# cas.authn.mfa.trusted.key-generator-type=DEFAULT|LEGACY
</code></pre>
<p>The following strategies can be used to generate keys for trusted device records:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DEFAULT</code></td>
<td>Uses a combination of the username, device name and device fingerprint to generate the device key.</td>
</tr>
<tr>
<td><code>LEGACY</code></td>
<td>Deprecated. Uses a combination of the username, record date and device fingerprint to generate the device key.</td>
</tr>
</tbody>
</table>
<h4>
<a id="signing--encryption" class="anchor" href="#signing--encryption" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Signing &amp; Encryption</h4>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.mfa.trusted</code>.</p>
<h4>
<a id="json-storage" class="anchor" href="#json-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Storage</h4>
<pre lang="properties"><code># cas.authn.mfa.trusted.json.location=file:/etc/cas/config/trusted-dev.json
</code></pre>
<h4>
<a id="jdbc-storage" class="anchor" href="#jdbc-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC Storage</h4>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.mfa.trusted.jpa</code>.</p>
<h4>
<a id="couchdb-storage" class="anchor" href="#couchdb-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Storage</h4>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.authn.mfa.trusted</code>.</p>
<h4>
<a id="mongodb-storage" class="anchor" href="#mongodb-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Storage</h4>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn.mfa.trusted</code>.</p>
<h4>
<a id="redis-storage" class="anchor" href="#redis-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis Storage</h4>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.trusted</code>.</p>
<h4>
<a id="dynamodb-storage" class="anchor" href="#dynamodb-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DynamoDb Storage</h4>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.trusted</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.authn.mfa.trusted.dynamo-db</code>.</p>
<pre lang="properties"><code># cas.authn.mfa.trusted.dynamo-db.tableName=DynamoDbCasMfaTrustRecords
</code></pre>
<h4>
<a id="rest-storage" class="anchor" href="#rest-storage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Storage</h4>
<pre lang="properties"><code># cas.authn.mfa.trusted.rest.endpoint=https://api.example.org/trustedBrowser
</code></pre>
<h4>
<a id="trusted-device-fingerprint" class="anchor" href="#trusted-device-fingerprint" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Trusted Device Fingerprint</h4>
<pre lang="properties"><code># cas.authn.mfa.trusted.device-fingerprint.componentSeparator=@  

# cas.authn.mfa.trusted.device-fingerprint.cookie.enabled=true
# cas.authn.mfa.trusted.device-fingerprint.cookie.order=1

# cas.authn.mfa.trusted.device-fingerprint.client-ip.enabled=true
# cas.authn.mfa.trusted.device-fingerprint.client-ip.order=2

# cas.authn.mfa.trusted.device-fingerprint.geolocation.enabled=false
# cas.authn.mfa.trusted.device-fingerprint.geolocation.order=4
</code></pre>
<p>The device fingerprint cookie component can be configured with the common cookie properties found <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code>cas.authn.mfa.trusted.device-fingerprint.cookie</code>.<br>
The default cookie name is set to <code>MFATRUSTED</code> and the default maxAge is set to <code>2592000</code>.</p>
<p>The device fingerprint cookie component supports signing &amp; encryption. The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.mfa.trusted.device-fingerprint.cookie</code>.</p>
<h4>
<a id="cleaner" class="anchor" href="#cleaner" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cleaner</h4>
<p>A cleaner process is scheduled to run in the background to clean up expired and stale tickets.<br>
This section controls how that process should behave. Scheduler settings for this feature<br>
are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.authn.mfa.trusted.cleaner</code>.</p>
<h3>
<a id="simple-multifactor-authentication" class="anchor" href="#simple-multifactor-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Simple Multifactor Authentication</h3>
<p>To learn more about this topic, <a href="../mfa/Simple-Multifactor-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.simple.name=
# cas.authn.mfa.simple.order=
# cas.authn.mfa.simple.time-to-kill-in-seconds=30
# cas.authn.mfa.simple.token-length=6
</code></pre>
<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a><br>
under the configuration key <code>cas.authn.mfa.simple</code>. SMS notifications settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code>cas.authn.mfa.simple</code>.</p>
<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a><br>
under the configuration key <code>cas.authn.mfa.simple</code>.</p>
<h3>
<a id="google-authenticator" class="anchor" href="#google-authenticator" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator</h3>
<p>To learn more about this topic, <a href="../mfa/GoogleAuthenticator-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.gauth.issuer=
# cas.authn.mfa.gauth.label=

# cas.authn.mfa.gauth.window-size=3
# cas.authn.mfa.gauth.code-digits=6
# cas.authn.mfa.gauth.time-step-size=30
# cas.authn.mfa.gauth.rank=0
# cas.authn.mfa.gauth.trusted-device-enabled=false
# cas.authn.mfa.gauth.multiple-device-registration-enabled=false

# cas.authn.mfa.gauth.name=
# cas.authn.mfa.gauth.order=
</code></pre>
<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a><br>
under the configuration key <code>cas.authn.mfa.gauth</code>. Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.authn.mfa.gauth.cleaner</code>.</p>
<h4>
<a id="signing--encryption-1" class="anchor" href="#signing--encryption-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Signing &amp; Encryption</h4>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>.  Signing &amp; encryption settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.mfa.gauth</code>.</p>
<h4>
<a id="google-authenticator-couchdb" class="anchor" href="#google-authenticator-couchdb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator CouchDb</h4>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.authn.mfa.gauth</code>.</p>
<h4>
<a id="google-authenticator-json" class="anchor" href="#google-authenticator-json" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator JSON</h4>
<pre lang="properties"><code># cas.authn.mfa.gauth.json.location=file:/somewhere.json
</code></pre>
<h4>
<a id="google-authenticator-rest" class="anchor" href="#google-authenticator-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator Rest</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.mfa.gauth.rest</code>.</p>
<p>Additionally, tokens can be managed via REST using the following settings:</p>
<pre lang="properties"><code># cas.authn.mfa.gauth.rest.token-url=https://somewhere.gauth.com
</code></pre>
<h4>
<a id="google-authenticator-mongodb" class="anchor" href="#google-authenticator-mongodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator MongoDb</h4>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn.mfa.gauth</code>.  The following settings are additionally available for this feature:</p>
<pre lang="properties"><code># cas.authn.mfa.gauth.mongo.token-collection=MongoDbGoogleAuthenticatorTokenRepository
</code></pre>
<h4>
<a id="google-authenticator-ldap" class="anchor" href="#google-authenticator-ldap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator LDAP</h4>
<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.mfa.gauth.ldap</code>.</p>
<p>The following settings are additionally available for this feature:</p>
<pre lang="properties"><code># cas.authn.mfa.gauth.ldap.account-attribute-name=gauthRecord
</code></pre>
<h4>
<a id="google-authenticator-redis" class="anchor" href="#google-authenticator-redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator Redis</h4>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.gauth</code>.</p>
<h4>
<a id="google-authenticator-jpa" class="anchor" href="#google-authenticator-jpa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Authenticator JPA</h4>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.mfa.gauth.jpa</code>.</p>
<h3>
<a id="yubikey" class="anchor" href="#yubikey" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey</h3>
<p>To learn more about this topic, <a href="../mfa/YubiKey-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.yubikey.client-id=
# cas.authn.mfa.yubikey.secret-key=
# cas.authn.mfa.yubikey.rank=0
# cas.authn.mfa.yubikey.api-urls=
# cas.authn.mfa.yubikey.trusted-device-enabled=false
# cas.authn.mfa.yubikey.multiple-device-registration-enabled=false

# cas.authn.mfa.yubikey.name=
# cas.authn.mfa.yubikey.order=
</code></pre>
<p>Multifactor authentication bypass settings for this provider are<br>
available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.yubikey</code>.</p>
<h4>
<a id="yubikey-rest-device-store" class="anchor" href="#yubikey-rest-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey REST Device Store</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.mfa.yubikey.rest</code>.</p>
<h4>
<a id="yubikey-json-device-store" class="anchor" href="#yubikey-json-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey JSON Device Store</h4>
<pre lang="properties"><code># cas.authn.mfa.yubikey.json-file=file:/etc/cas/deviceRegistrations.json
</code></pre>
<h4>
<a id="yubikey-allowed-device-store" class="anchor" href="#yubikey-allowed-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey Allowed Device Store</h4>
<pre lang="properties"><code># cas.authn.mfa.yubikey.allowed-devices.uid1=yubikeyPublicId1
# cas.authn.mfa.yubikey.allowed-devices.uid2=yubikeyPublicId2
</code></pre>
<h4>
<a id="yubikey-registration-records-encryption-and-signing" class="anchor" href="#yubikey-registration-records-encryption-and-signing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey Registration Records Encryption and Signing</h4>
<pre lang="properties"><code># cas.authn.mfa.yubikey.crypto.enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.mfa.yubikey</code>.</p>
<h3>
<a id="yubikey-jpa-device-store" class="anchor" href="#yubikey-jpa-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey JPA Device Store</h3>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.mfa.yubikey.jpa</code>.</p>
<h3>
<a id="yubikey-couchdb-device-store" class="anchor" href="#yubikey-couchdb-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey CouchDb Device Store</h3>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.authn.mfa.yubikey</code>.</p>
<h3>
<a id="yubikey-mongodb-device-store" class="anchor" href="#yubikey-mongodb-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey MongoDb Device Store</h3>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn.mfa.yubikey</code>.</p>
<h3>
<a id="yubikey-dynamodb-device-store" class="anchor" href="#yubikey-dynamodb-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey DynamoDb Device Store</h3>
<p>Configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a> under the configuration key <code>cas.authn.mfa.yubikey</code>.</p>
<h3>
<a id="yubikey-redis-device-store" class="anchor" href="#yubikey-redis-device-store" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YubiKey Redis Device Store</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.yubikey</code>.</p>
<h3>
<a id="radius-otp" class="anchor" href="#radius-otp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Radius OTP</h3>
<p>To learn more about this topic, <a href="../mfa/RADIUS-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.radius.rank=0
# cas.authn.mfa.radius.trusted-device-enabled=false
# cas.authn.mfa.radius.allowed-authentication-attempts=-1
# cas.authn.mfa.radius.name=
# cas.authn.mfa.radius.order=
</code></pre>
<p>Radius  settings for this feature are available <a href="Configuration-Properties-Common.html#radius-configuration">here</a> under the configuration key <code>cas.authn.mfa.radius</code>.</p>
<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.radius</code>.</p>
<h3>
<a id="duosecurity" class="anchor" href="#duosecurity" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DuoSecurity</h3>
<p>To learn more about this topic, <a href="../mfa/DuoSecurity-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.duo[0].duo-secret-key=
# cas.authn.mfa.duo[0].rank=0
# cas.authn.mfa.duo[0].duo-application-key=
# cas.authn.mfa.duo[0].duo-integration-key=
# cas.authn.mfa.duo[0].duo-api-host=
# cas.authn.mfa.duo[0].trusted-device-enabled=false
# cas.authn.mfa.duo[0].id=mfa-duo
# cas.authn.mfa.duo[0].registration-url=https://registration.example.org/duo-enrollment
# cas.authn.mfa.duo[0].name=
# cas.authn.mfa.duo[0].order=
</code></pre>
<p>Multifactor authentication bypass settings for this provider are<br>
available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under<br>
the configuration key <code>cas.authn.mfa.duo[0]</code>.</p>
<h4>
<a id="web-sdk" class="anchor" href="#web-sdk" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Web SDK</h4>
<p>The <code>duo-application-key</code> is a required string, at least 40 characters long, that you<br>
generate and keep secret from Duo. You can generate a random string in Python with:</p>
<pre lang="python"><code>import os, hashlib
print hashlib.sha1(os.urandom(32)).hexdigest()
</code></pre>
<h4>
<a id="universal-prompt" class="anchor" href="#universal-prompt" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Universal Prompt</h4>
<p>Universal Prompt no longer requires you to generate and use a application key value. Instead, it requires a <em>client id</em> and <em>client secret</em>,<br>
which are known and taught CAS using the integration key and secret key configuration settings. You will need get your integration key,<br>
secret key, and API hostname from Duo Security when you register CAS as a protected application.</p>
<h3>
<a id="fido2-webauthn" class="anchor" href="#fido2-webauthn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn</h3>
<p>To learn more about this topic, <a href="../mfa/FIDO2-WebAuthn-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.web-authn.allowed-origins=
# cas.authn.mfa.web-authn.application-id=
# cas.authn.mfa.web-authn.relying-party-name=CAS WebAuthn 
# cas.authn.mfa.web-authn.relying-party-id=

# cas.authn.mfa.web-authn.display-name-attribute=displayName
# cas.authn.mfa.web-authn.allow-primary-authentication=false

# cas.authn.mfa.web-authn.allow-unrequested-extensions=false
# cas.authn.mfa.web-authn.allow-untrusted-attestation=false
# cas.authn.mfa.web-authn.validate-signature-counter=true
# cas.authn.mfa.web-authn.attestation-conveyance-preference=DIRECT|INDIRECT|NONE
# cas.authn.mfa.web-authn.trusted-device-metadata.location=

# cas.authn.mfa.web-authn.trusted-device-enabled=false

# cas.authn.mfa.web-authn.expire-devices=30
# cas.authn.mfa.web-authn.expire-devices-time-unit=DAYS
</code></pre>
<p>Multifactor authentication bypass settings for this provider are<br>
available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.web-authn</code>.</p>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.authn.mfa.web-authn</code>.</p>
<h3>
<a id="fido2-webauthn-cleaner" class="anchor" href="#fido2-webauthn-cleaner" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn Cleaner</h3>
<p>Scheduler settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.authn.mfa.web-authn.cleaner</code>.</p>
<h3>
<a id="fido2-webauthn-json" class="anchor" href="#fido2-webauthn-json" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn JSON</h3>
<pre lang="properties"><code># cas.authn.mfa.web-authn.json.location=file:///etc/cas/config/devices.json
</code></pre>
<h3>
<a id="fido2-webauthn-mongodb" class="anchor" href="#fido2-webauthn-mongodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn MongoDb</h3>
<p>Common configuration settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn.mfa.web-authn</code>.</p>
<h3>
<a id="fido2-webauthn-ldap" class="anchor" href="#fido2-webauthn-ldap" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn LDAP</h3>
<p>Common configuration settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.authn.mfa.web-authn.ldap</code>.</p>
<pre lang="properties"><code># cas.authn.mfa.web-authn.ldap.account-attribute-name=casWebAuthnRecord
</code></pre>
<h3>
<a id="fido2-webauthn-jpa" class="anchor" href="#fido2-webauthn-jpa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn JPA</h3>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.authn.mfa.web-authn.jpa</code>.</p>
<h3>
<a id="fido2-webauthn-redis" class="anchor" href="#fido2-webauthn-redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn Redis</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.web-authn</code>.</p>
<h3>
<a id="fido2-webauthn-dynamodb" class="anchor" href="#fido2-webauthn-dynamodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn DynamoDb</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.web-authn</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.authn.mfa.web-authn.dynamo-db</code>.</p>
<h3>
<a id="fido2-webauthn-rest" class="anchor" href="#fido2-webauthn-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO2 WebAuthn REST</h3>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under<br>
the configuration key <code>cas.authn.mfa.web-authn.rest</code>.</p>
<h3>
<a id="fido-u2f" class="anchor" href="#fido-u2f" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F</h3>
<p>To learn more about this topic, <a href="../mfa/FIDO-U2F-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.u2f.rank=0
# cas.authn.mfa.u2f.name=
# cas.authn.mfa.u2f.order=

# Expiry of U2F device registration requests:
# cas.authn.mfa.u2f.expire-registrations=30
# cas.authn.mfa.u2f.expire-registrations-time-unit=SECONDS

# Expiry of U2F devices since registration, independent of last time used:
# cas.authn.mfa.u2f.expire-devices=30
# cas.authn.mfa.u2f.expire-devices-time-unit=DAYS
</code></pre>
<p>Multifactor authentication bypass settings for this provider are<br>
available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.u2f</code>.<br>
The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.authn.mfa.u2f</code>.</p>
<h3>
<a id="fido-u2f-json" class="anchor" href="#fido-u2f-json" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F JSON</h3>
<pre lang="properties"><code># cas.authn.mfa.u2f.json.location=file:///etc/cas/config/u2fdevices.json
</code></pre>
<h3>
<a id="fido-u2f-cleaner" class="anchor" href="#fido-u2f-cleaner" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F Cleaner</h3>
<p>Scheduler settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.authn.mfa.u2f.cleaner</code>.</p>
<h3>
<a id="fido-u2f-couchdb" class="anchor" href="#fido-u2f-couchdb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F CouchDb</h3>
<p>Common configuration settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.authn.mfa.u2f</code>.</p>
<h3>
<a id="fido-u2f-mongodb" class="anchor" href="#fido-u2f-mongodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F MongoDb</h3>
<p>Common configuration settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn.mfa.u2f</code>.</p>
<h3>
<a id="fido-u2f-dynamodb" class="anchor" href="#fido-u2f-dynamodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F DynamoDb</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.u2f</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.authn.mfa.u2f.dynamo-db</code>.</p>
<h3>
<a id="fido-u2f-redis" class="anchor" href="#fido-u2f-redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F Redis</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.mfa.u2f</code>.</p>
<h3>
<a id="fido-u2f-jpa" class="anchor" href="#fido-u2f-jpa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F JPA</h3>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.mfa.u2f.jpa</code>.</p>
<h3>
<a id="fido-u2f-rest" class="anchor" href="#fido-u2f-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F REST</h3>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.mfa.u2f.rest</code>.</p>
<h3>
<a id="fido-u2f-groovy" class="anchor" href="#fido-u2f-groovy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FIDO U2F Groovy</h3>
<pre lang="properties"><code># cas.authn.mfa.u2f.groovy.location=file:/etc/cas/config/fido.groovy
</code></pre>
<h3>
<a id="swivel-secure" class="anchor" href="#swivel-secure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Swivel Secure</h3>
<p>To learn more about this topic, <a href="../mfa/SwivelSecure-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.swivel.swivel-turing-image-url=https://turing.example.edu/TURingImage
# cas.authn.mfa.swivel.swivel-url=https://swivel.example.org/pinsafe
# cas.authn.mfa.swivel.shared-secret=Th3Sh@r3d$ecret
# cas.authn.mfa.swivel.ignore-ssl-errors=false
# cas.authn.mfa.swivel.rank=0
# cas.authn.mfa.swivel.name=
# cas.authn.mfa.swivel.order=
</code></pre>
<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.swivel</code>.</p>
<h3>
<a id="authy" class="anchor" href="#authy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authy</h3>
<p>To learn more about this topic, <a href="../mfa/AuthyAuthenticator-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.authy.api-key=
# cas.authn.mfa.authy.api-url=
# cas.authn.mfa.authy.phone-attribute=phone
# cas.authn.mfa.authy.mail-attribute=mail
# cas.authn.mfa.authy.country-code=1
# cas.authn.mfa.authy.force-verification=true
# cas.authn.mfa.authy.trusted-device-enabled=false
# cas.authn.mfa.authy.name=
# cas.authn.mfa.authy.order=
</code></pre>
<p>Multifactor authentication bypass settings for this provider are<br>
available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.authy</code>.</p>
<h3>
<a id="acceptto" class="anchor" href="#acceptto" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Acceptto</h3>
<p>To learn more about this topic, <a href="../mfa/Acceptto-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.mfa.acceptto.application-id=
# cas.authn.mfa.acceptto.secret=
# cas.authn.mfa.acceptto.organization-id=
# cas.authn.mfa.acceptto.organization-secret=

# cas.authn.mfa.acceptto.authn-selection-url=https://mfa.acceptto.com/mfa/index
# cas.authn.mfa.acceptto.api-url=https://mfa.acceptto.com/api/v9/
# cas.authn.mfa.acceptto.message=Do you want to login via CAS?
# cas.authn.mfa.acceptto.timeout=120
# cas.authn.mfa.acceptto.email-attribute=mail    
# cas.authn.mfa.acceptto.group-attribute=    

# cas.authn.mfa.acceptto.registration-api-url=https://mfa.acceptto.com/api/integration/v1/mfa/authenticate
# cas.authn.mfa.acceptto.registration-api-public-key=file:/path/to/publickey.pem

# cas.authn.mfa.acceptto.name=
# cas.authn.mfa.acceptto.order=
# cas.authn.mfa.acceptto.rank=0
</code></pre>
<p>Multifactor authentication bypass settings for this provider are available <a href="Configuration-Properties-Common.html#multifactor-authentication-bypass">here</a> under the configuration key <code>cas.authn.mfa.acceptto</code>.</p>
<h2>
<a id="saml-core" class="anchor" href="#saml-core" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Core</h2>
<p>Control core SAML functionality within CAS.</p>
<pre lang="properties"><code># cas.saml-core.ticketid-saml2=false
# cas.saml-core.skew-allowance=5
# cas.saml-core.issue-length=30
# cas.saml-core.attribute-namespace=http://www.ja-sig.org/products/cas/
# cas.saml-core.issuer=localhost
# cas.saml-core.security-manager=org.apache.xerces.util.SecurityManager
</code></pre>
<h2>
<a id="saml-idp" class="anchor" href="#saml-idp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML IdP</h2>
<p>Allow CAS to become a SAML2 identity provider.</p>
<p>To learn more about this topic, <a href="../installation/Configuring-SAML2-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.entity-id=https://cas.example.org/idp
# cas.authn.saml-idp.replicate-sessions=false

# cas.authn.saml-idp.authentication-context-class-mappings[0]=urn:oasis:names:tc:SAML:2.0:ac:classes:SomeClassName-&gt;mfa-duo
# cas.authn.saml-idp.authentication-context-class-mappings[1]=https://refeds.org/profile/mfa-&gt;mfa-gauth

# cas.authn.saml-idp.attribute-friendly-names[0]=urn:oid:1.3.6.1.4.1.5923.1.1.1.6-&gt;eduPersonPrincipalName
  
# cas.authn.saml-idp.attribute-query-profile-enabled=true
</code></pre>
<h3>
<a id="attributes-name-formats" class="anchor" href="#attributes-name-formats" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Attributes Name Formats</h3>
<p>Name formats for an individual attribute can be mapped to a number of pre-defined formats, or a custom format of your own choosing.<br>
A given attribute that is to be encoded in the final SAML response may contain any of the following name formats:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>basic</code></td>
<td>Map the attribute to <code>urn:oasis:names:tc:SAML:2.0:attrname-format:basic</code>.</td>
</tr>
<tr>
<td><code>uri</code></td>
<td>Map the attribute to <code>urn:oasis:names:tc:SAML:2.0:attrname-format:uri</code>.</td>
</tr>
<tr>
<td><code>unspecified</code></td>
<td>Map the attribute to <code>urn:oasis:names:tc:SAML:2.0:attrname-format:basic</code>.</td>
</tr>
<tr>
<td><code>urn:my:own:format</code></td>
<td>Map the attribute to <code>urn:my:own:format</code>.</td>
</tr>
</tbody>
</table>
<h3>
<a id="saml-metadata" class="anchor" href="#saml-metadata" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata</h3>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.location=file:/etc/cas/saml
# cas.authn.saml-idp.metadata.metadata-backup-location=

# cas.authn.saml-idp.metadata.cache-expiration-minutes=30
# cas.authn.saml-idp.metadata.fail-fast=true
# cas.authn.saml-idp.metadata.private-key-alg-name=RSA
# cas.authn.saml-idp.metadata.require-valid-metadata=true
# cas.authn.saml-idp.metadata.force-metadata-refresh=true

# cas.authn.saml-idp.metadata.basic-authn-username=
# cas.authn.saml-idp.metadata.basic-authn-password=
# cas.authn.saml-idp.metadata.supported-content-types=
</code></pre>
<h4>
<a id="saml-metadata-jpa" class="anchor" href="#saml-metadata-jpa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata JPA</h4>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.authn.saml-idp.metadata.jpa</code>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.jpa.idp-metadata-enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp;<br>
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.saml-idp.metadata.jpa</code>.</p>
<h4>
<a id="saml-metadata-couchdb" class="anchor" href="#saml-metadata-couchdb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata CouchDb</h4>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a><br>
under the configuration key <code>cas.authn.saml-idp.metadata</code>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.couch-db.idp-metadata-enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp; encryption<br>
settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.saml-idp.metadata.mongo</code>.</p>
<h4>
<a id="saml-metadata-git" class="anchor" href="#saml-metadata-git" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata Git</h4>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.git.idp-metadata-enabled=true
</code></pre>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#git-configuration">here</a><br>
under the configuration key <code>cas.authn.saml-idp.metadata</code>.</p>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp;<br>
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the<br>
configuration key <code>cas.authn.saml-idp.metadata.git</code>.</p>
<h4>
<a id="saml-metadata-mongodb" class="anchor" href="#saml-metadata-mongodb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata MongoDb</h4>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.authn.saml-idp.metadata</code>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.mongo.idp-metadata-collection=saml-idp-metadata
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp;<br>
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the<br>
configuration key <code>cas.authn.saml-idp.metadata.mongo</code>.</p>
<h4>
<a id="saml-metadata-redis" class="anchor" href="#saml-metadata-redis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata Redis</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.authn.saml-idp.metadata</code>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.redis.idp-metadata-enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp;<br>
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the<br>
configuration key <code>cas.authn.saml-idp.metadata.redis</code>.</p>
<h4>
<a id="saml-metadata-rest" class="anchor" href="#saml-metadata-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata REST</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.saml-idp.metadata.rest</code>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.rest.idp-metadata-enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp;<br>
encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the<br>
configuration key <code>cas.authn.saml-idp.metadata.rest</code>.</p>
<h4>
<a id="saml-metadata-amazon-s3" class="anchor" href="#saml-metadata-amazon-s3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata Amazon S3</h4>
<p>Common AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.authn.saml-idp.metadata.amazon-s3</code>.</p>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. Signing &amp; encryption<br>
settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.saml-idp.metadata.amazon-s3</code>.</p>
<pre lang="properties"><code># cas.authn.saml-idp.metadata.amazon-s3.bucket-name=saml-sp-bucket
# cas.authn.saml-idp.metadata.mongo.idp-metadata-bucket-name=saml-idp-bucket
</code></pre>
<h3>
<a id="saml-logout" class="anchor" href="#saml-logout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Logout</h3>
<pre lang="properties"><code># cas.authn.saml-idp.logout.force-signed-logout-requests=true
# cas.authn.saml-idp.logout.single-logout-callbacks-disabled=false
# cas.authn.saml-idp.logout.sign-logout-response=false
# cas.authn.saml-idp.logout.send-logout-response=true
# cas.authn.saml-idp.logout.logout-response-binding=
</code></pre>
<h3>
<a id="saml-algorithms--security" class="anchor" href="#saml-algorithms--security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Algorithms &amp; Security</h3>
<pre lang="properties"><code># cas.authn.saml-idp.algs.override-signature-canonicalization-algorithm=
# cas.authn.saml-idp.algs.override-data-encryption-algorithms=
# cas.authn.saml-idp.algs.override-key-encryption-algorithms=
# cas.authn.saml-idp.algs.override-blocked-encryption-algorithms=
# cas.authn.saml-idp.algs.override-allowed-algorithms=
# cas.authn.saml-idp.algs.override-signature-reference-digest-methods=
# cas.authn.saml-idp.algs.override-signature-algorithms=
# cas.authn.saml-idp.algs.override-blocked-signature-signing-algorithms=
# cas.authn.saml-idp.algs.override-allowed-signature-signing-algorithms=
</code></pre>
<h3>
<a id="saml-response" class="anchor" href="#saml-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Response</h3>
<pre lang="properties"><code># cas.authn.saml-idp.response.default-authentication-context-class=
# cas.authn.saml-idp.response.default-attribute-name-format=uri
# cas.authn.saml-idp.response.sign-error=false
# cas.authn.saml-idp.response.signing-credential-type=X509|BASIC
# cas.authn.saml-idp.response.attribute-name-formats=attributeName-&gt;basic|uri|unspecified|custom-format-etc,...
</code></pre>
<h3>
<a id="saml-ticket" class="anchor" href="#saml-ticket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Ticket</h3>
<pre lang="properties"><code># cas.authn.saml-idp.ticket.saml-artifacts-cache-storage-name=samlArtifactsCache
# cas.authn.saml-idp.ticket.saml-attribute-query-cache-storage-name=samlAttributeQueryCache
</code></pre>
<h3>
<a id="saml-profiles" class="anchor" href="#saml-profiles" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Profiles</h3>
<pre lang="properties"><code># cas.authn.saml-idp.profile.slo.url-decode-redirect-request=false
# cas.authn.saml-idp.profile.sso.url-decode-redirect-request=false
# cas.authn.saml-idp.profile.sso-post-simple-sign.url-decode-redirect-request=false
</code></pre>
<h2>
<a id="saml-sps" class="anchor" href="#saml-sps" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML SPs</h2>
<p>Allow CAS to register and enable a number of built-in SAML service provider integrations.<br>
To learn more about this topic, <a href="../integration/Configuring-SAML-SP-Integrations.html">please review this guide</a>.</p>
<!-- raw HTML omitted -->
<p>Configuration settings for all SAML2 service providers are <a href="Configuration-Properties-Common.html#saml2-service-provider-integrations">available here</a>.</p>
<table>
<thead>
<tr>
<th>Service Provider</th>
<th>Configuration Key</th>
<th>Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gitlab</td>
<td><code>cas.saml-sp.gitlab</code></td>
<td>
<code>last_name</code>,<code>first_name</code>,<code>name</code>
</td>
</tr>
<tr>
<td>Hipchat</td>
<td><code>cas.saml-sp.hipchat</code></td>
<td>
<code>last_name</code>,<code>first_name</code>,<code>title</code>
</td>
</tr>
<tr>
<td>Dropbox</td>
<td><code>cas.saml-sp.dropbox</code></td>
<td><code>mail</code></td>
</tr>
<tr>
<td>OpenAthens</td>
<td><code>cas.saml-sp.openAthens</code></td>
<td>
<code>email</code>, <code>eduPersonPrincipalName</code>
</td>
</tr>
<tr>
<td>Egnyte</td>
<td><code>cas.saml-sp.egnyte</code></td>
<td>N/A</td>
</tr>
<tr>
<td>EverBridge</td>
<td><code>cas.saml-sp.ever-bridge</code></td>
<td>N/A</td>
</tr>
<tr>
<td>Simplicity</td>
<td><code>cas.saml-sp.simplicity</code></td>
<td>N/A</td>
</tr>
<tr>
<td>App Dynamics</td>
<td><code>cas.saml-sp.app-dynamics</code></td>
<td>
<code>User.OpenIDName</code>, <code>User.email</code>, <code>User.fullName</code>, <code>AccessControl</code>, <code>Groups-Membership</code>
</td>
</tr>
<tr>
<td>Yuja</td>
<td><code>cas.saml-sp.yuja</code></td>
<td>N/A</td>
</tr>
<tr>
<td>Simplicity</td>
<td><code>cas.saml-sp.simplicity</code></td>
<td>N/A</td>
</tr>
<tr>
<td>New Relic</td>
<td><code>cas.saml-sp.new-relic</code></td>
<td>N/A</td>
</tr>
<tr>
<td>Sunshine State Education &amp; Research Computing Alliance</td>
<td><code>cas.saml-sp.sserca</code></td>
<td>N/A</td>
</tr>
<tr>
<td>CherWell</td>
<td><code>cas.saml-sp.cherWell</code></td>
<td>N/A</td>
</tr>
<tr>
<td>FAMIS</td>
<td><code>cas.saml-sp.famis</code></td>
<td>N/A</td>
</tr>
<tr>
<td>Bynder</td>
<td><code>cas.saml-sp.bynder</code></td>
<td>N/A</td>
</tr>
<tr>
<td>Web Advisor</td>
<td><code>cas.saml-sp.webAdvisor</code></td>
<td><code>uid</code></td>
</tr>
<tr>
<td>Adobe Creative Cloud</td>
<td><code>cas.saml-sp.adobe-cloud</code></td>
<td>
<code>firstName</code>, <code>lastName</code>, <code>email</code>
</td>
</tr>
<tr>
<td>Securing The Human</td>
<td><code>cas.saml-sp.sans-sth</code></td>
<td>
<code>firstName</code>, <code>lastName</code>, <code>scopedUserId</code>, <code>department</code>, <code>reference</code>, <code>email</code>
</td>
</tr>
<tr>
<td>Easy IEP</td>
<td><code>cas.saml-sp.easy-iep</code></td>
<td><code>employeeId</code></td>
</tr>
<tr>
<td>Infinite Campus</td>
<td><code>cas.saml-sp.infinite-campus</code></td>
<td><code>employeeId</code></td>
</tr>
<tr>
<td>Slack</td>
<td><code>cas.saml-sp.slack</code></td>
<td>
<code>User.Email</code>, <code>User.Username</code>, <code>first_name</code>, <code>last_name</code>, <code>employeeId</code>
</td>
</tr>
<tr>
<td>Zendesk</td>
<td><code>cas.saml-sp.zendesk</code></td>
<td>
<code>organization</code>, <code>tags</code>, <code>phone</code>, <code>role</code>, <code>email</code>
</td>
</tr>
<tr>
<td>Gartner</td>
<td><code>cas.saml-sp.gartner</code></td>
<td>
<code>urn:oid:2.5.4.42</code>, <code>urn:oid:2.5.4.4</code>, <code>urn:oid:0.9.2342.19200300.100.1.3</code>
</td>
</tr>
<tr>
<td>Arc GIS</td>
<td><code>cas.saml-sp.arcGIS</code></td>
<td>
<code>arcNameId</code>, <code>mail</code>, <code>givenName</code>
</td>
</tr>
<tr>
<td>Benefit Focus</td>
<td><code>cas.saml-sp.benefit-focus</code></td>
<td><code>benefitFocusUniqueId</code></td>
</tr>
<tr>
<td>Office365</td>
<td><code>cas.saml-sp.office365</code></td>
<td>
<code>IDPEmail</code>, <code>ImmutableID</code>
</td>
</tr>
<tr>
<td>SAManage</td>
<td><code>cas.saml-sp.sa-manage</code></td>
<td><code>mail</code></td>
</tr>
<tr>
<td>Salesforce</td>
<td><code>cas.saml-sp.salesforce</code></td>
<td><code>eduPersonPrincipalName</code></td>
</tr>
<tr>
<td>Workday</td>
<td><code>cas.saml-sp.workday</code></td>
<td>N/A</td>
</tr>
<tr>
<td>Academic Works</td>
<td><code>cas.saml-sp.academic-works</code></td>
<td><code>displayName</code></td>
</tr>
<tr>
<td>ZOOM</td>
<td><code>cas.saml-sp.zoom</code></td>
<td>
<code>mail</code>, <code>sn</code>, <code>givenName</code>
</td>
</tr>
<tr>
<td>Evernote</td>
<td><code>cas.saml-sp.evernote</code></td>
<td><code>email</code></td>
</tr>
<tr>
<td>Tableau</td>
<td><code>cas.saml-sp.tableau</code></td>
<td><code>username</code></td>
</tr>
<tr>
<td>Asana</td>
<td><code>cas.saml-sp.asana</code></td>
<td><code>email</code></td>
</tr>
<tr>
<td>Box</td>
<td><code>cas.saml-sp.box</code></td>
<td>
<code>email</code>, <code>firstName</code>, <code>lastName</code>
</td>
</tr>
<tr>
<td>Service Now</td>
<td><code>cas.saml-sp.service-now</code></td>
<td><code>eduPersonPrincipalName</code></td>
</tr>
<tr>
<td>Net Partner</td>
<td><code>cas.saml-sp.net-partner</code></td>
<td><code>studentId</code></td>
</tr>
<tr>
<td>Webex</td>
<td><code>cas.saml-sp.webex</code></td>
<td>
<code>firstName</code>, <code>lastName</code>
</td>
</tr>
<tr>
<td>InCommon</td>
<td><code>cas.saml-sp.in-common</code></td>
<td><code>eduPersonPrincipalName</code></td>
</tr>
<tr>
<td>Amazon</td>
<td><code>cas.saml-sp.amazon</code></td>
<td>
<code>awsRoles</code>, <code>awsRoleSessionName</code>
</td>
</tr>
<tr>
<td>Concur Solutions</td>
<td><code>cas.saml-sp.concur-solutions</code></td>
<td><code>email</code></td>
</tr>
<tr>
<td>PollEverywhere</td>
<td><code>cas.saml-sp.poll-everywhere</code></td>
<td><code>email</code></td>
</tr>
<tr>
<td>DocuSign</td>
<td><code>cas.saml-sp.docuSign</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>employeeNumber</code>
</td>
</tr>
<tr>
<td>SafariOnline</td>
<td><code>cas.saml-sp.safari-online</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>employeeNumber</code>,<code>eduPersonAffiliation</code>
</td>
</tr>
<tr>
<td>BlackBaud</td>
<td><code>cas.saml-sp.black-baud</code></td>
<td>
<code>email</code>, <code>eduPersonPrincipalName</code>
</td>
</tr>
<tr>
<td>GiveCampus</td>
<td><code>cas.saml-sp.give-campus</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>displayName</code>
</td>
</tr>
<tr>
<td>WarpWire</td>
<td><code>cas.saml-sp.warp-wire</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>eduPersonPrincipalName</code>, <code>surname</code>, <code>eduPersonScopedAffiliation</code>, <code>employeeNumber</code>
</td>
</tr>
<tr>
<td>RocketChat</td>
<td><code>cas.saml-sp.rocket-chat</code></td>
<td>
<code>email</code>, <code>cn</code>, <code>username</code>
</td>
</tr>
<tr>
<td>ArmsSoftware</td>
<td><code>cas.saml-sp.arms-software</code></td>
<td>
<code>email</code>, <code>uid</code>, <code>eduPersonPrincipalName</code>
</td>
</tr>
<tr>
<td>TopHat</td>
<td><code>cas.saml-sp.top-hat</code></td>
<td>
<code>email</code>, <code>eduPersonPrincipalName</code>
</td>
</tr>
<tr>
<td>Academic HealthPlans</td>
<td><code>cas.saml-sp.academic-health-plans</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>studentId</code>
</td>
</tr>
<tr>
<td>Confluence</td>
<td><code>cas.saml-sp.confluence</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>uid</code>, <code>displayName</code>
</td>
</tr>
<tr>
<td>JIRA</td>
<td><code>cas.saml-sp.jira</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>uid</code>, <code>displayName</code>
</td>
</tr>
<tr>
<td>CrashPlan</td>
<td><code>cas.saml-sp.crash-plan</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>
</td>
</tr>
<tr>
<td>Emma</td>
<td><code>cas.saml-sp.emma</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>
</td>
</tr>
<tr>
<td>Qualtrics</td>
<td><code>cas.saml-sp.qualtrics</code></td>
<td>
<code>email</code>, <code>givenName</code>, <code>surname</code>, <code>employeeNumber</code>, <code>eduPersonPrincipalName</code>
</td>
</tr>
<tr>
<td>NeoGov</td>
<td><code>cas.saml-sp.neoGov</code></td>
<td>
<code>email</code>, <code>ImmutableID</code>
</td>
</tr>
<tr>
<td>Zimbra</td>
<td><code>cas.saml-sp.zimbra</code></td>
<td><code>email</code></td>
</tr>
<tr>
<td>PagerDuty</td>
<td><code>cas.saml-sp.pager-duty</code></td>
<td><code>email</code></td>
</tr>
<tr>
<td>CraniumCafe</td>
<td><code>cas.saml-sp.cranium-cafe</code></td>
<td>
<code>email</code>, <code>eduPersonPrincipalName</code>, <code>displayName</code>, <code>eduPersonScopedAffiliation</code>, <code>studentId</code>
</td>
</tr>
<tr>
<td>CCC Central</td>
<td><code>cas.saml-sp.cccco</code></td>
<td>
<code>email</code>, <code>eduPersonPrincipalName</code>, <code>displayName</code>, <code>eduPersonScopedAffiliation</code>, <code>uid</code>, <code>givenName</code>, <code>commonName</code>, <code>surname</code>, <code>eduPersonPrimaryffiliation</code>
</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: For InCommon and other metadata aggregates, multiple entity ids can be specified to<br>
filter <a href="https://spaces.internet2.edu/display/InCFederation/Metadata+Aggregates">the InCommon metadata</a>. EntityIds<br>
can be regular expression patterns and are mapped to<br>
CAS' <code>serviceId</code> field in the registry. The signature location MUST BE the public key used to sign the metadata.</p>
<h2>
<a id="openid-connect" class="anchor" href="#openid-connect" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Connect</h2>
<p>Allow CAS to become an OpenID Connect provider (OP). To learn more about this topic, <a href="../installation/OIDC-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.oidc.issuer=http://localhost:8080/cas/oidc
# cas.authn.oidc.skew=5

# cas.authn.oidc.dynamic-client-registration-mode=OPEN|PROTECTED

# cas.authn.oidc.subject-types=public,pairwise
# cas.authn.oidc.scopes=openid,profile,email,address,phone,offline_access
# cas.authn.oidc.claims=sub,name,preferred_username,family_name, \
#    given_name,middle_name,given_name,profile, \
#    picture,nickname,website,zoneinfo,locale,updated_at,birthdate, \
#    email,email_verified,phone_number,phone_number_verified,address

# cas.authn.oidc.response-types-supported=code,token,id_token token
# cas.authn.oidc.introspection-supported-authentication-methods=client_secret_basic
# cas.authn.oidc.claim-types-supported=normal
# cas.authn.oidc.grant-types-supported=authorization_code,password,client_credentials,refresh_token
# cas.authn.oidc.token-endpoint-auth-methods-supported=client_secret_basic,client_secret_post,private_key_jwt,client_secret_jwt
# cas.authn.oidc.code-challenge-methods-supported=plain,S256

# cas.authn.oidc.id-token-signing-alg-values-supported=none,RS256,RS384,RS512,PS256,PS384,PS512,ES256,ES384,ES512,HS256,HS384,HS512
# cas.authn.oidc.id-token-encryption-alg-values-supported=RSA1_5,RSA-OAEP,RSA-OAEP-256,A128KW,A192KW,A256KW,\
    A128GCMKW,A192GCMKW,A256GCMKW,ECDH-ES,ECDH-ES+A128KW,ECDH-ES+A192KW,ECDH-ES+A256KW
# cas.authn.oidc.id-token-encryption-encoding-values-supported=A128CBC-HS256,A192CBC-HS384,A256CBC-HS512,A128GCM,A192GCM,A256GCM

# cas.authn.oidc.user-info-signing-alg-values-supported=none,RS256,RS384,RS512,PS256,PS384,PS512,ES256,ES384,ES512,HS256,HS384,HS512
# cas.authn.oidc.user-info-encryption-alg-values-supported=RSA1_5,RSA-OAEP,RSA-OAEP-256,A128KW,A192KW,A256KW,\
    A128GCMKW,A192GCMKW,A256GCMKW,ECDH-ES,ECDH-ES+A128KW,ECDH-ES+A192KW,ECDH-ES+A256KW
# cas.authn.oidc.user-info-encryption-encoding-values-supported=A128CBC-HS256,A192CBC-HS384,A256CBC-HS512,A128GCM,A192GCM,A256GCM
</code></pre>
<h3>
<a id="openid-connect-jwks" class="anchor" href="#openid-connect-jwks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Connect JWKS</h3>
<pre lang="properties"><code># cas.authn.oidc.jwks.jwks-cache-in-minutes=60
# cas.authn.oidc.jwks.jwks-key-size=2048
# cas.authn.oidc.jwks.jwks-type=RSA|EC
</code></pre>
<h4>
<a id="file-based-jwks" class="anchor" href="#file-based-jwks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>File-based JWKS</h4>
<p>Manage the JSON web keyset for OpenID Connect as a static file resource.</p>
<pre lang="properties"><code># cas.authn.oidc.jwks.jwks-file=file:/etc/cas/config/keystore.jwks
</code></pre>
<h4>
<a id="rest-based-jwks" class="anchor" href="#rest-based-jwks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST-based JWKS</h4>
<p>Reach out to an external REST API to ask for the JSON web keyset. The expected response code is <code>200</code><br>
where the response body should contain the contents of the JSON web keyset.</p>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.oidc.jwks.rest</code>.</p>
<h3>
<a id="openid-connect-scopes--claims" class="anchor" href="#openid-connect-scopes--claims" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Connect Scopes &amp; Claims</h3>
<pre lang="properties"><code># Define custom scopes and claims
# cas.authn.oidc.user-defined-scopes.scope1=cn,givenName,photos,customAttribute
# cas.authn.oidc.user-defined-scopes.scope2=cn,givenName,photos,customAttribute2

# Map fixed claims to CAS attributes
# cas.authn.oidc.claims-map.given_name=custom-given-name
# cas.authn.oidc.claims-map.preferred_username=global-user-attribute
</code></pre>
<h3>
<a id="openid-connect-webfinger" class="anchor" href="#openid-connect-webfinger" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Connect WebFinger</h3>
<p>WebFinger is a protocol specified by the Internet Engineering Task Force IETF that allows for<br>
discovery of information about people and things identified by a URI.[1] Information about a person<br>
might be discovered via an "acct:" URI, for example, which is a URI that looks like an email address.</p>
<h4>
<a id="webfinger-userinfo-via-groovy" class="anchor" href="#webfinger-userinfo-via-groovy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WebFinger UserInfo via Groovy</h4>
<pre lang="properties"><code># cas.authn.oidc.webfinger.userInfo.groovy.location=classpath:/webfinger.groovy
</code></pre>
<h4>
<a id="webfinger-userinfo-via-rest" class="anchor" href="#webfinger-userinfo-via-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WebFinger UserInfo via REST</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a><br>
under the configuration key <code>cas.authn.oidc.webfinger.user-info.rest</code>.</p>
<h3>
<a id="openid-connect-logout" class="anchor" href="#openid-connect-logout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Connect Logout</h3>
<p>The supported logout channels can be defined via the following properties:</p>
<pre lang="properties"><code># cas.authn.oidc.logout.backchannel-logout-supported=true
# cas.authn.oidc.logout.frontchannel-logout-supported=true
</code></pre>
<h2>
<a id="pac4j-delegated-authn" class="anchor" href="#pac4j-delegated-authn" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Pac4j Delegated AuthN</h2>
<p>Act as a proxy, and delegate authentication to external identity providers.<br>
To learn more about this topic, <a href="../integration/Delegate-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.pac4j.typed-id-used=false
# cas.authn.pac4j.principal-attribute-id=
# cas.authn.pac4j.name=
# cas.authn.pac4j.order=
# cas.authn.pac4j.lazy-init=true
# cas.authn.pac4j.replicate-sessions=true
</code></pre>
<h3>
<a id="rest-based-configuration" class="anchor" href="#rest-based-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST-based Configuration</h3>
<p>Identity providers for delegated authentication can be provided to CAS using an external REST endpoint.</p>
<p>RESTful settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.pac4j.rest</code>.</p>
<h3>
<a id="default-configuration" class="anchor" href="#default-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Default Configuration</h3>
<p>The following external identity providers share <a href="Configuration-Properties-Common.html#delegated-authentication-settings">common blocks of settings</a><br>
under the listed configuration keys listed below:</p>
<table>
<thead>
<tr>
<th>Identity Provider</th>
<th>Configuration Key</th>
</tr>
</thead>
<tbody>
<tr>
<td>Twitter</td>
<td><code>cas.authn.pac4j.twitter</code></td>
</tr>
<tr>
<td>Paypal</td>
<td><code>cas.authn.pac4j.paypal</code></td>
</tr>
<tr>
<td>Wordpress</td>
<td><code>cas.authn.pac4j.wordpress</code></td>
</tr>
<tr>
<td>Yahoo</td>
<td><code>cas.authn.pac4j.yahoo</code></td>
</tr>
<tr>
<td>Orcid</td>
<td><code>cas.authn.pac4j.orcid</code></td>
</tr>
<tr>
<td>Dropbox</td>
<td><code>cas.authn.pac4j.dropbox</code></td>
</tr>
<tr>
<td>GitHub</td>
<td><code>cas.authn.pac4j.github</code></td>
</tr>
<tr>
<td>Foursquare</td>
<td><code>cas.authn.pac4j.foursquare</code></td>
</tr>
<tr>
<td>WindowsLive</td>
<td><code>cas.authn.pac4j.windows-live</code></td>
</tr>
<tr>
<td>Google</td>
<td><code>cas.authn.pac4j.google</code></td>
</tr>
<tr>
<td>HiOrg-Server</td>
<td><code>cas.authn.pac4j.hi-org-server</code></td>
</tr>
</tbody>
</table>
<p>See below for other identity providers such as CAS, SAML2 and more.</p>
<h3>
<a id="provisioning" class="anchor" href="#provisioning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Provisioning</h3>
<p>Provision and create established user profiles to identity stores.</p>
<h4>
<a id="groovy-5" class="anchor" href="#groovy-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h4>
<pre lang="properties"><code># cas.authn.pac4j.provisioning.groovy.location=file:/etc/cas/config/Provisioner.groovy
</code></pre>
<h4>
<a id="rest-4" class="anchor" href="#rest-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.authn.pac4j.provisioning.rest</code>.</p>
<h3>
<a id="github" class="anchor" href="#github" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GitHub</h3>
<p>In addition to the <a href="Configuration-Properties-Common.html#delegated-authentication-settings">common block of settings</a>, the following<br>
properties are additionally supported, when delegating authentication to GitHub:</p>
<pre lang="properties"><code># cas.authn.pac4j.github.scope=user|read:user|user:email|...
</code></pre>
<p>The default scope is <code>user</code>, i.e. <code>read/write</code> access to the GitHub user account.</p>
<p>For a full list of possible scopes, please <a href="https://developer.github.com/apps/building-oauth-apps/understanding-scopes-for-oauth-apps/">see this link</a>.</p>
<h3>
<a id="google" class="anchor" href="#google" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google</h3>
<p>In addition to the <a href="Configuration-Properties-Common.html#delegated-authentication-settings">common block of settings</a> , the following properties are additionally supported, when delegating authentication to Google:</p>
<pre lang="properties"><code># cas.authn.pac4j.google.scope=EMAIL|PROFILE|EMAIL_AND_PROFILE
</code></pre>
<h3>
<a id="cas" class="anchor" href="#cas" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS</h3>
<p>Delegate authentication to an external CAS server.</p>
<pre lang="properties"><code># cas.authn.pac4j.cas[0].login-url=
# cas.authn.pac4j.cas[0].protocol=
</code></pre>
<h3>
<a id="oauth20" class="anchor" href="#oauth20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OAuth20</h3>
<p>Delegate authentication to an generic OAuth2 server. Common settings for this<br>
identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code>cas.authn.pac4j.oauth2[0]</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.oauth2[0].auth-url=
# cas.authn.pac4j.oauth2[0].token-url=
# cas.authn.pac4j.oauth2[0].profile-url=
# cas.authn.pac4j.oauth2[0].profile-path=
# cas.authn.pac4j.oauth2[0].scope=
# cas.authn.pac4j.oauth2[0].profile-verb=GET|POST
# cas.authn.pac4j.oauth2[0].response-type=code
# cas.authn.pac4j.oauth2[0].profile-attrs.attr1=path-to-attr-in-profile
# cas.authn.pac4j.oauth2[0].custom-params.param1=value1
</code></pre>
<h3>
<a id="openid-connect-1" class="anchor" href="#openid-connect-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OpenID Connect</h3>
<p>Delegate authentication to an external OpenID Connect server.</p>
<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a><br>
under the configuration key <code>cas.authn.pac4j.oidc[0]</code>.</p>
<h4>
<a id="google-1" class="anchor" href="#google-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google</h4>
<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a><br>
under the configuration key <code>cas.authn.pac4j.oidc[0].google</code>.</p>
<h4>
<a id="azure-ad" class="anchor" href="#azure-ad" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Azure AD</h4>
<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a><br>
under the configuration key <code>cas.authn.pac4j.oidc[0].azure</code>.</p>
<p>The following settings specifically apply to this provider:</p>
<pre lang="properties"><code># cas.authn.pac4j.oidc[0].azure.tenant=tenant-name
</code></pre>
<h4>
<a id="keycloak" class="anchor" href="#keycloak" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>KeyCloak</h4>
<p>Common settings for this identity provider are<br>
available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a><br>
under the configuration key <code>cas.authn.pac4j.oidc[0].keycloak</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.oidc[0].keycloak.realm=
# cas.authn.pac4j.oidc[0].keycloak.base-uri=
</code></pre>
<h4>
<a id="apple-signin" class="anchor" href="#apple-signin" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apple Signin</h4>
<p>Common settings for this identity provider are<br>
available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a><br>
under the configuration key <code>cas.authn.pac4j.oidc[0].apple</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.oidc[0].apple.private-key=
# cas.authn.pac4j.oidc[0].apple.private-key-id=
# cas.authn.pac4j.oidc[0].apple.team-id=
# cas.authn.pac4j.oidc[0].apple.timeout=PT30S
</code></pre>
<h4>
<a id="generic" class="anchor" href="#generic" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Generic</h4>
<p>Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-openid-connect-settings">here</a><br>
under the configuration key <code>cas.authn.pac4j.oidc[0].generic</code>.</p>
<h3>
<a id="saml2" class="anchor" href="#saml2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML2</h3>
<p>Delegate authentication to an external SAML2 IdP.</p>
<pre lang="properties"><code># cas.authn.pac4j.saml[0].keystore-password=
# cas.authn.pac4j.saml[0].private-key-password=
# cas.authn.pac4j.saml[0].keystore-path=
# cas.authn.pac4j.saml[0].keystore-alias=

# cas.authn.pac4j.saml[0].service-provider-entity-id=
# cas.authn.pac4j.saml[0].service-provider-metadata-path=

# cas.authn.pac4j.saml[0].certificate-name-to-append=

# cas.authn.pac4j.saml[0].maximum-authentication-lifetime=3600
# cas.authn.pac4j.saml[0].maximum-authentication-lifetime=300
# cas.authn.pac4j.saml[0].destination-binding=urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect

# cas.authn.pac4j.saml[0].identity-provider-metadata-path=

# cas.authn.pac4j.saml[0].authn-context-class-ref[0]=
# cas.authn.pac4j.saml[0].authn-context-comparison-type=
# cas.authn.pac4j.saml[0].name-id-policy-format=
# cas.authn.pac4j.saml[0].force-auth=false
# cas.authn.pac4j.saml[0].passive=false

# cas.authn.pac4j.saml[0].wants-assertions-signed=
# cas.authn.pac4j.saml[0].wants-responses-signed=
# cas.authn.pac4j.saml[0].all-signature-validation-disabled=false
# cas.authn.pac4j.saml[0].sign-service-provider-metadata=false
# cas.authn.pac4j.saml[0].principal-id-attribute=eduPersonPrincipalName
# cas.authn.pac4j.saml[0].use-name-qualifier=true
# cas.authn.pac4j.saml[0].attribute-consuming-service-index=
# cas.authn.pac4j.saml[0].assertion-consumer-service-index=-1
# cas.authn.pac4j.saml[0].provider-name=
# cas.authn.pac4j.saml[0].name-id-policy-allow-create=TRUE|FALSE|UNDEFINED


# cas.authn.pac4j.saml[0].sign-authn-request=false
# cas.authn.pac4j.saml[0].sign-service-provider-logout-request=false
# cas.authn.pac4j.saml[0].black-listed-signature-signing-algorithms[0]=
# cas.authn.pac4j.saml[0].signature-algorithms[0]=
# cas.authn.pac4j.saml[0].signature-reference-digest-methods[0]=
# cas.authn.pac4j.saml[0].signature-canonicalization-algorithm=

# cas.authn.pac4j.saml[0].requested-attributes[0].name=
# cas.authn.pac4j.saml[0].requested-attributes[0].friendly-name=
# cas.authn.pac4j.saml[0].requested-attributes[0].name-format=urn:oasis:names:tc:SAML:2.0:attrname-format:uri
# cas.authn.pac4j.saml[0].requested-attributes[0].required=false

# cas.authn.pac4j.saml[0].mapped-attributes[0].name=urn:oid:2.5.4.42
# cas.authn.pac4j.saml[0].mapped-attributes[0].mapped-as=displayName

# cas.authn.pac4j.saml[0].message-store-factory=org.pac4j.saml.store.EmptyStoreFactory
</code></pre>
<p>Examine the generated metadata after accessing the CAS login screen to ensure all<br>
ports and endpoints are correctly adjusted. Finally, share the CAS SP metadata with the delegated IdP and register CAS as an authorized relying party.</p>
<h4>
<a id="saml2-identity-provider-discovery" class="anchor" href="#saml2-identity-provider-discovery" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML2 Identity Provider Discovery</h4>
<pre lang="properties"><code>cas.authn.pac4j.saml-discovery.resource[0].location=file:/etc/cas/config/json-feed.json
</code></pre>
<h3>
<a id="facebook" class="anchor" href="#facebook" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Facebook</h3>
<p>Delegate authentication to Facebook. Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code>cas.authn.pac4j.facebook</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.facebook.fields=
# cas.authn.pac4j.facebook.scope=
</code></pre>
<h3>
<a id="hiorg-server" class="anchor" href="#hiorg-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>HiOrg Server</h3>
<p>Delegate authentication to HiOrg Server. Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code>cas.authn.pac4j.hi-org-server</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.hi-org-server.scope=eigenedaten
</code></pre>
<h3>
<a id="linkedin" class="anchor" href="#linkedin" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LinkedIn</h3>
<p>Delegate authentication to LinkedIn. Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code>cas.authn.pac4j.linkedin</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.linked-in.scope=
</code></pre>
<h3>
<a id="twitter" class="anchor" href="#twitter" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Twitter</h3>
<p>Delegate authentication to Twitter.  Common settings for this identity provider are available <a href="Configuration-Properties-Common.html#delegated-authentication-settings">here</a> under the configuration key <code>cas.authn.pac4j.twitter</code>.</p>
<pre lang="properties"><code># cas.authn.pac4j.twitter.include-email=false
</code></pre>
<h2>
<a id="ws-federation" class="anchor" href="#ws-federation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WS Federation</h2>
<p>Allow CAS to act as an identity provider and security token service<br>
to support the WS-Federation protocol.</p>
<p>To learn more about this topic, <a href="../protocol/WS-Federation-Protocol.html">please review this guide</a></p>
<pre lang="properties"><code># cas.authn.wsfed-idp.idp.realm=urn:org:apereo:cas:ws:idp:realm-CAS
# cas.authn.wsfed-idp.idp.realm-name=CAS

# cas.authn.wsfed-idp.sts.signing-keystore-file=/etc/cas/config/ststrust.jks
# cas.authn.wsfed-idp.sts.signing-keystore-password=storepass
# cas.authn.wsfed-idp.sts.encryption-keystore-file=/etc/cas/config/stsencrypt.jks
# cas.authn.wsfed-idp.sts.encryption-keystore-password=storepass

# cas.authn.wsfed-idp.sts.subject-name-id-format=unspecified
# cas.authn.wsfed-idp.sts.subject-name-qualifier=http://cxf.apache.org/sts
# cas.authn.wsfed-idp.sts.encrypt-tokens=true
# cas.authn.wsfed-idp.sts.sign-tokens=true

# cas.authn.wsfed-idp.sts.conditions-accept-client-lifetime=true
# cas.authn.wsfed-idp.sts.conditions-fail-lifetime-exceedance=false
# cas.authn.wsfed-idp.sts.conditions-future-time-to-live=PT60S
# cas.authn.wsfed-idp.sts.conditions-lifetime=PT30M
# cas.authn.wsfed-idp.sts.conditions-max-lifetime=PT12H

# cas.authn.wsfed-idp.sts.realm.keystore-file=/etc/cas/config/stscasrealm.jks
# cas.authn.wsfed-idp.sts.realm.keystore-password=storepass
# cas.authn.wsfed-idp.sts.realm.keystore-alias=realmcas
# cas.authn.wsfed-idp.sts.realm.key-password=cas
# cas.authn.wsfed-idp.sts.realm.issuer=CAS
</code></pre>
<h3>
<a id="signing--encryption-2" class="anchor" href="#signing--encryption-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Signing &amp; Encryption</h3>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>.  These come into play in order to secure authentication requests between the IdP and STS. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.wsfed-idp.sts</code>.</p>
<h2>
<a id="oauth2" class="anchor" href="#oauth2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OAuth2</h2>
<p>Allows CAS to act as an OAuth2 provider. Here you can control how long various tokens issued by CAS should last, etc.</p>
<p>Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.authn.oauth</code>.</p>
<p>To learn more about this topic, <a href="../installation/OAuth-OpenId-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.oauth.replicate-sessions=false 
# cas.authn.oauth.grants.resource-owner.require-service-header=true
# cas.authn.oauth.user-profile-view-type=NESTED|FLAT
</code></pre>
<h3>
<a id="refresh-tokens" class="anchor" href="#refresh-tokens" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Refresh Tokens</h3>
<pre lang="properties"><code># cas.authn.oauth.refresh-token.time-to-kill-in-seconds=2592000
</code></pre>
<h3>
<a id="codes" class="anchor" href="#codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Codes</h3>
<pre lang="properties"><code># cas.authn.oauth.code.time-to-kill-in-seconds=30
# cas.authn.oauth.code.number-of-uses=1
</code></pre>
<h3>
<a id="access-tokens" class="anchor" href="#access-tokens" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Access Tokens</h3>
<pre lang="properties"><code># cas.authn.oauth.access-token.time-to-kill-in-seconds=7200
# cas.authn.oauth.access-token.max-time-to-live-in-seconds=28800
</code></pre>
<h3>
<a id="device-tokens" class="anchor" href="#device-tokens" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Device Tokens</h3>
<pre><code># cas.authn.oauth.device-token.time-to-kill-in-seconds=2592000
# cas.authn.oauth.device-token.refresh-interval=PT15S 
</code></pre>
<h3>
<a id="device-user-codes" class="anchor" href="#device-user-codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Device User Codes</h3>
<pre><code># cas.authn.oauth.device-user-code.time-to-kill-in-seconds=2592000
# cas.authn.oauth.device-user-code.user-code-length=8
</code></pre>
<h3>
<a id="oauth2-jwt-access-tokens" class="anchor" href="#oauth2-jwt-access-tokens" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OAuth2 JWT Access Tokens</h3>
<pre lang="properties"><code># cas.authn.oauth.access-token.create-as-jwt=false
# cas.authn.oauth.access-token.crypto.encryption-enabled=true
# cas.authn.oauth.access-token.crypto.signing-enabled=true
</code></pre>
<p>The signing key and the encryption key <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.authn.oauth.access-token</code>.</p>
<h3>
<a id="oauth2-uma" class="anchor" href="#oauth2-uma" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OAuth2 UMA</h3>
<p>To learn more about this topic, <a href="../installation/OAuth-OpenId-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.uma.issuer=http://localhost:8080/cas

# cas.authn.uma.requesting-party-token.max-time-to-live-in-seconds=PT3M
# cas.authn.uma.requesting-party-token.jwks-file=file:/etc/cas/config/uma-keystore.jwks

# cas.authn.uma.permission-ticket.max-time-to-live-in-seconds=PT3M
</code></pre>
<h4>
<a id="oauth2-uma-jpa" class="anchor" href="#oauth2-uma-jpa" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OAuth2 UMA JPA</h4>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.authn.uma.resource-set.jpa</code>.</p>
<h2>
<a id="localization" class="anchor" href="#localization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Localization</h2>
<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Localization.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.locale.param-name=locale
# cas.locale.default-value=en
</code></pre>
<p>If the user changes the language, a special cookie is created by CAS to contain the selected language. Cookie<br>
settings for this feature are available <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code>cas.locale.cookie</code>.</p>
<h2>
<a id="global-sso-behavior" class="anchor" href="#global-sso-behavior" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Global SSO Behavior</h2>
<p>To learn more about this topic, <a href="../installation/Configuring-SSO.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.sso.allow-missing-service-parameter=true
# cas.sso.create-sso-cookie-on-renew-authn=true
# cas.sso.proxy-authn-enabled=true
# cas.sso.renew-authn-enabled=true
# cas.sso.sso-enabled=true
# cas.sso.required-service-pattern=
</code></pre>
<h2>
<a id="warning-cookie" class="anchor" href="#warning-cookie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Warning Cookie</h2>
<p>Created by CAS if and when users are to be warned when accessing CAS protected services. Cookie settings for this feature are available <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code>cas.warning-cookie</code>.</p>
<pre lang="properties"><code># cas.warningCookie.auto-configure-cookie-path=true
</code></pre>
<h2>
<a id="ticket-granting-cookie" class="anchor" href="#ticket-granting-cookie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ticket Granting Cookie</h2>
<p>Cookie settings for this feature are available <a href="Configuration-Properties-Common.html#cookie-properties">here</a> under the configuration key <code>cas.tgc</code>.</p>
<pre lang="properties"><code># cas.tgc.pin-to-session=true
# cas.tgc.remember-me-max-age=P14D
# cas.tgc.auto-configure-cookie-path=true
</code></pre>
<h3>
<a id="signing--encryption-3" class="anchor" href="#signing--encryption-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Signing &amp; Encryption</h3>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>.<br>
Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.tgc</code>.</p>
<h2>
<a id="logout" class="anchor" href="#logout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logout</h2>
<p>Control various settings related to CAS logout functionality. To learn more about this topic, <a href="../installation/Logout-Single-Signout.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.logout.follow-service-redirects=false
# cas.logout.redirect-parameter=service
# cas.logout.redirect-url=https://www.github.com
# cas.logout.confirm-logout=false
# cas.logout.remove-descendant-tickets=false
</code></pre>
<h2>
<a id="single-logout" class="anchor" href="#single-logout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Single Logout</h2>
<p>To learn more about this topic, <a href="../installation/Logout-Single-Signout.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.slo.disabled=false
# cas.slo.asynchronous=true
</code></pre>
<h2>
<a id="clearpass" class="anchor" href="#clearpass" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Clearpass</h2>
<p>Capture and cache user credentials and optionally release them to trusted applications.<br>
To learn more about this topic, <a href="../integration/ClearPass.html">please review this guide</a>.</p>
<!-- raw HTML omitted -->
<pre lang="properties"><code># cas.clearpass.cache-credential=false
</code></pre>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>. The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.clearpass</code>.</p>
<h2>
<a id="message-bundles" class="anchor" href="#message-bundles" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Message Bundles</h2>
<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Localization.html">please review this guide</a>.<br>
The baseNames are message bundle base names representing files that either end in .properties or _xx.properties where xx is a country locale code. The commonNames are not actually message bundles but they are properties files that are merged together and contain keys that are only used if they are not found in the message bundles. Keys from the later files in the list will be preferred over keys from the earlier files.</p>
<pre lang="properties"><code># cas.message-bundle.encoding=UTF-8
# cas.message-bundle.fallback-system-locale=false
# cas.message-bundle.cache-seconds=180
# cas.message-bundle.use-code-message=true
# cas.message-bundle.base-names=classpath:custom_messages,classpath:messages
# cas.message-bundle.common-names=classpath:/common_messages.properties,file:/etc/cas/config/common_messages.properties
</code></pre>
<h2>
<a id="audits" class="anchor" href="#audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Audits</h2>
<p>Control how audit messages are formatted.<br>
To learn more about this topic, <a href="../installation/Audits.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.audit.enabled=true
# cas.audit.ignore-audit-failures=false
# cas.audit.app-code=CAS
# cas.audit.number-of-days-in-history=30
# cas.audit.include-validation-assertion=false
# cas.audit.alternate-server-addr-header-name=
# cas.audit.alternate-client-addr-header-name=X-Forwarded-For
# cas.audit.use-server-host-address=false  

# cas.audit.supported-actions=*
# cas.audit.excluded-actions=
</code></pre>
<h3>
<a id="slf4j-audits" class="anchor" href="#slf4j-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Slf4j Audits</h3>
<p>Route audit logs to the Slf4j logging system which might in turn store audit logs in a file or any other<br>
destination that the logging system supports.</p>
<p>The logger name is fixed at <code>org.apereo.inspektr.audit.support</code>.</p>
<pre lang="xml"><code>&lt;Logger name="org.apereo.inspektr.audit.support" level="info"&gt;
    &lt;!-- Route the audit data to any number of appenders supported by the logging framework. --&gt;
&lt;/Logger&gt;
</code></pre>
<!-- raw HTML omitted -->
<pre lang="properties"><code># cas.audit.slf4j.audit-format=DEFAULT|JSON
# cas.audit.slf4j.singleline-separator=|
# cas.audit.slf4j.use-single-line=false
# cas.audit.slf4j.enabled=true
</code></pre>
<h3>
<a id="mongodb-audits" class="anchor" href="#mongodb-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Audits</h3>
<p>Store audit logs inside a MongoDb database.</p>
<p>Common configuration settings for this feature are available<br>
<a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.audit</code>.</p>
<pre lang="properties"><code># cas.audit.mongo.asynchronous=true
</code></pre>
<h3>
<a id="redis-audits" class="anchor" href="#redis-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis Audits</h3>
<p>Store audit logs inside a Redis database.</p>
<p>Common configuration settings for this feature are available<br>
<a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code>cas.audit</code>.</p>
<pre lang="properties"><code># cas.audit.redis.asynchronous=true
</code></pre>
<h3>
<a id="couchdb-audits" class="anchor" href="#couchdb-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Audits</h3>
<p>Store audit logs inside a CouchDb database.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a><br>
under the configuration key <code>cas.audit</code>.</p>
<h3>
<a id="couchbase-audits" class="anchor" href="#couchbase-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Couchbase Audits</h3>
<p>Store audit logs inside a Couchbase database.</p>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a><br>
under the configuration key <code>cas.audit.couchbase</code>.</p>
<pre lang="properties"><code># cas.audit.couchbase.asynchronous=true
</code></pre>
<h3>
<a id="dynamodb-audits" class="anchor" href="#dynamodb-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DynamoDb Audits</h3>
<p>Store audit logs inside a DynamoDb database.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.audit</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.audit.dynamo-db</code>.</p>
<pre lang="properties"><code># cas.audit.dynamo-db.asynchronous=true
</code></pre>
<h3>
<a id="database-audits" class="anchor" href="#database-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database Audits</h3>
<p>Store audit logs inside a database. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.audit.jdbc</code>.</p>
<pre lang="properties"><code># cas.audit.jdbc.asynchronous=true
# cas.audit.jdbc.max-age-days=180
# cas.audit.jdbc.column-length=100
# cas.audit.jdbc.select-sql-query-template=
# cas.audit.jdbc.date-formatter-pattern=
</code></pre>
<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.audit.jdbc</code>.</p>
<h3>
<a id="rest-audits" class="anchor" href="#rest-audits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Audits</h3>
<p>Store audit logs inside a database. RESTful settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.audit.rest</code>.</p>
<pre lang="properties"><code># cas.audit.rest.asynchronous=true
</code></pre>
<h2>
<a id="sleuth-distributed-tracing" class="anchor" href="#sleuth-distributed-tracing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sleuth Distributed Tracing</h2>
<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html#distributed-tracing">please review this guide</a>.</p>
<pre lang="properties"><code># spring.sleuth.sampler.percentage = 0.5
# spring.sleuth.enabled=true

# spring.zipkin.enabled=true
# spring.zipkin.base-url=http://localhost:9411/
</code></pre>
<h2>
<a id="monitoring" class="anchor" href="#monitoring" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Monitoring</h2>
<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html">please review this guide</a>.</p>
<h3>
<a id="ticket-granting-tickets" class="anchor" href="#ticket-granting-tickets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ticket Granting Tickets</h3>
<p>Decide how CAS should monitor the generation of TGTs.</p>
<pre lang="properties"><code># cas.monitor.tgt.warn.threshold=10
# cas.monitor.tgt.warn.eviction-threshold=0
</code></pre>
<h3>
<a id="service-tickets" class="anchor" href="#service-tickets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Tickets</h3>
<p>Decide how CAS should monitor the generation of STs.</p>
<pre lang="properties"><code># cas.monitor.st.warn.threshold=10
# cas.monitor.st.warn.evictionThreshold=0
</code></pre>
<h3>
<a id="load" class="anchor" href="#load" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Load</h3>
<p>Decide how CAS should monitor system load of a CAS Server.</p>
<pre lang="properties"><code># cas.monitor.load.warn.threshold=25
</code></pre>
<h3>
<a id="cache-monitors" class="anchor" href="#cache-monitors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cache Monitors</h3>
<p>Decide how CAS should monitor the internal state of various cache storage services.</p>
<pre lang="properties"><code># cas.monitor.warn.threshold=10
# cas.monitor.warn.eviction-threshold=0
</code></pre>
<h3>
<a id="memcached-monitors" class="anchor" href="#memcached-monitors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Memcached Monitors</h3>
<p>Decide how CAS should monitor the internal state of a memcached connection pool.<br>
Integration settings for this registry are available <a href="Configuration-Properties-Common.html#memcached-integration-settings">here</a><br>
under the configuration key <code>cas.monitor.memcached</code>.</p>
<h3>
<a id="mongodb-monitors" class="anchor" href="#mongodb-monitors" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Monitors</h3>
<p>Decide how CAS should monitor the internal state of a MongoDb instance.<br>
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a><br>
under the configuration key <code>cas.monitor</code>.</p>
<h3>
<a id="database-monitoring" class="anchor" href="#database-monitoring" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database Monitoring</h3>
<p>Decide how CAS should monitor the internal state of JDBC connections used<br>
for authentication or attribute retrieval. Database settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.monitor.jdbc</code>.</p>
<pre lang="properties"><code># cas.monitor.jdbc.validation-query=SELECT 1
# cas.monitor.jdbc.max-wait=5000
</code></pre>
<h3>
<a id="ldap-server-monitoring" class="anchor" href="#ldap-server-monitoring" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Server Monitoring</h3>
<p>Decide how CAS should monitor the LDAP server it uses for authentication, etc.<br>
LDAP settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.monitor.ldap[0]</code>.<br>
The default for the pool size is zero to prevent failed ldap pool initialization to impact server startup.</p>
<p>The following properties are specific to the ldap monitor and configure the thread pool<br>
that will ping on the LDAP monitor connection pool.</p>
<pre lang="properties"><code># cas.monitor.ldap[0].max-wait=5000
# cas.monitor.ldap[0].pool.min-size=0
# cas.monitor.ldap[0].pool.max-size=18
# cas.monitor.ldap[0].pool.enabled=true
</code></pre>
<h3>
<a id="memory" class="anchor" href="#memory" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Memory</h3>
<p>Decide how CAS should monitor the internal state of JVM memory available at runtime.</p>
<pre lang="properties"><code># cas.monitor.free-mem-threshold=10
</code></pre>
<h2>
<a id="themes" class="anchor" href="#themes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Themes</h2>
<p>To learn more about this topic, <a href="../ux/User-Interface-Customization-Themes.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.theme.param-name=theme
# cas.theme.default-theme-name=cas-theme-default
</code></pre>
<h2>
<a id="events" class="anchor" href="#events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Events</h2>
<p>Decide how CAS should track authentication events.<br>
To learn more about this topic, <a href="../installation/Configuring-Authentication-Events.html">please review this guide</a>.</p>
<pre lang="properties"><code>cas.events.enabled=true

# Whether geolocation tracking should be turned on and requested from the browser.
# cas.events.track-geolocation=false

# Control whether CAS should monitor configuration files and auto-refresh context.
# cas.events.track-configuration-modifications=true
</code></pre>
<h3>
<a id="influxdb-events" class="anchor" href="#influxdb-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>InfluxDb Events</h3>
<p>Decide how CAS should store authentication events inside an InfluxDb instance. Common<br>
configuration settings for this feature are available <a href="Configuration-Properties-Common.html#influxdb-configuration">here</a> under the configuration key <code>cas.events.influx-db</code>.</p>
<h3>
<a id="couchdb-events" class="anchor" href="#couchdb-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Events</h3>
<p>Decide how CAS should store authentication events inside a CouchDb instance. Common<br>
configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.events.couch-db</code>.</p>
<h3>
<a id="database-events" class="anchor" href="#database-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database Events</h3>
<p>Decide how CAS should store authentication events inside a database instance. Database<br>
settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.events.jpa</code>.</p>
<h3>
<a id="mongodb-events" class="anchor" href="#mongodb-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Events</h3>
<p>Decide how CAS should store authentication events inside a MongoDb instance. Common<br>
configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.events</code>.</p>
<h3>
<a id="dynamodb-events" class="anchor" href="#dynamodb-events" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DynamoDb Events</h3>
<p>Decide how CAS should store authentication events inside a DynamoDb instance.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.events</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.evnts.dynamo-db</code>.</p>
<pre lang="properties"><code># cas.events.dynamo-db.table-name=DynamoDbCasEvents
</code></pre>
<h2>
<a id="http-web-requests" class="anchor" href="#http-web-requests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Http Web Requests</h2>
<p>Control how CAS should respond and validate incoming HTTP requests.</p>
<pre lang="properties"><code># cas.http-web-request.header.enabled=true

# cas.http-web-request.header.xframe=true
# cas.http-web-request.header.xframe-options=DENY

# cas.http-web-request.header.xss=true
# cas.http-web-request.header.xss-options=1; mode=block

# cas.http-web-request.header.hsts=true
# cas.http-web-request.header.xcontent=true
# cas.http-web-request.header.cache=true
# cas.http-web-request.header.content-security-policy=

# cas.http-web-request.cors.enabled=false
# cas.http-web-request.cors.allow-credentials=false
# cas.http-web-request.cors.allow-origins[0]=
# cas.http-web-request.cors.allow-methods[0]=*
# cas.http-web-request.cors.allow-headers[0]=*
# cas.http-web-request.cors.max-age=3600
# cas.http-web-request.cors.exposed-headers[0]=

# cas.http-web-request.web.force-encoding=true
# cas.http-web-request.web.encoding=UTF-8

# cas.http-web-request.allow-multi-value-parameters=false
# cas.http-web-request.only-post-params=username,password
# cas.http-web-request.params-to-check=ticket,service,renew,gateway,warn,method,target,SAMLart,pgtUrl,pgt,pgtId,pgtIou,targetService,entityId,token
# cas.http-web-request.pattern-to-block=
# cas.http-web-request.characters-to-forbid=none

# cas.http-web-request.custom-headers.header-name1=headerValue1
# cas.http-web-request.custom-headers.header-name2=headerValue2

# server.servlet.encoding.charset=UTF-8
# server.servlet.encoding.enabled=true
# server.servlet.encoding.force=true
</code></pre>
<h2>
<a id="http-client" class="anchor" href="#http-client" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Http Client</h2>
<p>Control how CAS should attempt to contact resources on the web<br>
via its own Http Client. This is most commonly used when responding<br>
to ticket validation events and/or single logout.</p>
<p>In the event that local certificates are to be imported into the CAS running environment,<br>
a local truststore is provided by CAS to improve portability of configuration across environments.</p>
<pre lang="properties"><code># cas.http-client.connection-timeout=5000
# cas.http-client.async-timeout=5000
# cas.http-client.read-timeout=5000 

# cas.http-client.proxy-host=
# cas.http-client.proxy-port=0 

# cas.http-client.host-name-verifier=NONE|DEFAULT
# cas.http-client.allow-local-logout-urls=false
# cas.http-client.authority-validation-reg-ex=
# cas.http-client.authority-validation-reg-ex-case-sensitive=true

# cas.http-client.truststore.psw=changeit
# cas.http-client.truststore.file=classpath:/truststore.jks
# cas.http-client.truststore.type=
</code></pre>
<h3>
<a id="hostname-verification" class="anchor" href="#hostname-verification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hostname Verification</h3>
<p>The default options are available for hostname verification:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>NONE</code></td>
<td>Ignore hostname verification.</td>
</tr>
<tr>
<td><code>DEFAULT</code></td>
<td>Enforce hostname verification.</td>
</tr>
</tbody>
</table>
<h2>
<a id="service-registry" class="anchor" href="#service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Registry</h2>
<p>See <a href="../services/Service-Management.html">this guide</a> to learn more.</p>
<pre lang="properties"><code># cas.service-registry.watcher-enabled=true

# Auto-initialize the registry from default JSON service definitions
# cas.service-registry.init-from-json=false

# cas.service-registry.management-type=DEFAULT|DOMAIN
# cas.service-registry.cache=PT5M
# cas.service-registry.cache-size=1000
# cas.service-registry.cache-capacity=1000
</code></pre>
<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under<br>
the configuration key <code>cas.service-registry</code>.</p>
<h3>
<a id="service-registry-notifications" class="anchor" href="#service-registry-notifications" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Registry Notifications</h3>
<p>Email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a><br>
under the configuration key <code>cas.service-registry</code>. SMS notifications settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code>cas.service-registry</code>.</p>
<h3>
<a id="json-service-registry" class="anchor" href="#json-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Service Registry</h3>
<p>If the underlying service registry is using local system resources<br>
to locate JSON service definitions, decide how those resources should be found.</p>
<pre lang="properties"><code># cas.service-registry.json.location=classpath:/services
</code></pre>
<p>To learn more about this topic, <a href="../services/JSON-Service-Management.html">please review this guide</a>.</p>
<h3>
<a id="yaml-service-registry" class="anchor" href="#yaml-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YAML Service Registry</h3>
<p>If the underlying service registry is using local system resources<br>
to locate YAML service definitions, decide how those resources should be found.</p>
<pre lang="properties"><code># cas.service-registry.yaml.location=classpath:/services
</code></pre>
<p>To learn more about this topic, <a href="../services/YAML-Service-Management.html">please review this guide</a>.</p>
<h3>
<a id="git-service-registry" class="anchor" href="#git-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Git Service Registry</h3>
<p>Works with git repository to fetch and manage service registry definitions.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#git-configuration">here</a><br>
under the configuration key <code>cas.service-registry</code>.</p>
<pre lang="properties"><code># cas.service-registry.git.group-by-type=true
# cas.service-registry.git.root-directory=
</code></pre>
<p>To learn more about this topic, <a href="../services/Git-Service-Management.html">please review this guide</a>.</p>
<h3>
<a id="restful-service-registry" class="anchor" href="#restful-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>RESTful Service Registry</h3>
<p>To learn more about this topic, <a href="../services/REST-Service-Management.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.service-registry.rest.url=https://example.api.org
# cas.service-registry.rest.basic-auth-username=
# cas.service-registry.rest.basic-auth-password=
</code></pre>
<h3>
<a id="couchdb-service-registry" class="anchor" href="#couchdb-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Service Registry</h3>
<p>To learn more about this topic, <a href="../services/CouchDb-Service-Management.html">please review this guide</a>. Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.service-registry</code>.</p>
<h3>
<a id="redis-service-registry" class="anchor" href="#redis-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis Service Registry</h3>
<p>To learn more about this topic, <a href="../services/Redis-Service-Management.html">please review this guide</a>. Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code>cas.service-registry</code>.</p>
<h3>
<a id="cosmosdb-service-registry" class="anchor" href="#cosmosdb-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CosmosDb Service Registry</h3>
<p>To learn more about this topic, <a href="../services/CosmosDb-Service-Management.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.service-registry.cosmos-db.uri=
# cas.service-registry.cosmos-db.key=
# cas.service-registry.cosmos-db.database=
# cas.service-registry.cosmos-db.collection=
# cas.service-registry.cosmos-db.throughput=10000
# cas.service-registry.cosmos-db.drop-collection=true
# cas.service-registry.cosmos-db.consistency-level=Session
</code></pre>
<h3>
<a id="amazon-s3-service-registry" class="anchor" href="#amazon-s3-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Amazon S3 Service Registry</h3>
<p>To learn more about this topic, <a href="../services/AmazonS3-Service-Management.html">please review this guide</a>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.service-registry.amazon-s3</code>.</p>
<h3>
<a id="dynamodb-service-registry" class="anchor" href="#dynamodb-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DynamoDb Service Registry</h3>
<p>To learn more about this topic, <a href="../services/DynamoDb-Service-Management.html">please review this guide</a>.<br>
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.service-registry</code>.<br>
AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.service-registry.dynamo-db</code>.</p>
<pre lang="properties"><code># cas.service-registry.dynamo-db.table-name=DynamoDbCasServices
</code></pre>
<h3>
<a id="cassandra-service-registry" class="anchor" href="#cassandra-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cassandra Service Registry</h3>
<p>To learn more about this topic, <a href="../services/Cassandra-Service-Management.html">please review this guide</a>.</p>
<p>Common Cassandra settings for this feature are available <a href="Configuration-Properties-Common.html#cassandra-configuration">here</a> under the configuration key <code>cas.service-registry.cassandra</code>.</p>
<h3>
<a id="mongodb-service-registry" class="anchor" href="#mongodb-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Service Registry</h3>
<p>Store CAS service definitions inside a MongoDb instance. To learn more about this topic, <a href="../services/MongoDb-Service-Management.html">please review this guide</a>.<br>
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.service-registry</code>.</p>
<h3>
<a id="ldap-service-registry" class="anchor" href="#ldap-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Service Registry</h3>
<p>Control how CAS services should be found inside an LDAP instance.<br>
To learn more about this topic, <a href="../services/LDAP-Service-Management.html">please review this guide</a>.  LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.service-registry.ldap</code>.</p>
<pre lang="properties"><code># cas.service-registry.ldap.service-definition-attribute=description
# cas.service-registry.ldap.id-attribute=uid
# cas.service-registry.ldap.object-class=casRegisteredService
# cas.service-registry.ldap.search-filter=(%s={0})
# cas.service-registry.ldap.load-filter=(objectClass=%s)
</code></pre>
<h3>
<a id="couchbase-service-registry" class="anchor" href="#couchbase-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Couchbase Service Registry</h3>
<p>Control how CAS services should be found inside a Couchbase instance.<br>
To learn more about this topic, <a href="../services/Couchbase-Service-Management.html">please review this guide</a>.<br>
Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a><br>
under the configuration key <code>cas.service-registry.couchbase</code>.</p>
<h3>
<a id="database-service-registry" class="anchor" href="#database-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Database Service Registry</h3>
<p>Control how CAS services should be found inside a database instance.<br>
To learn more about this topic, <a href="../services/JPA-Service-Management.html">please review this guide</a>.<br>
Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.service-registry.jpa</code>.</p>
<h3>
<a id="cache-service-registry" class="anchor" href="#cache-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cache Service Registry</h3>
<p>Services cache duration specifies the fixed duration for an entry to be automatically removed from the cache after its creation or update.</p>
<h3>
<a id="cache-size-service-registry" class="anchor" href="#cache-size-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cache Size Service Registry</h3>
<p>Services cache size specifies the maximum number of entries the cache may contain.</p>
<h3>
<a id="cach-capacity-service-registry" class="anchor" href="#cach-capacity-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cach Capacity Service Registry</h3>
<p>Services cache capacity sets the minimum total size for the internal data structures.</p>
<h2>
<a id="service-registry-replication" class="anchor" href="#service-registry-replication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Registry Replication</h2>
<p>Control how CAS services definition files should be replicated across a CAS cluster.<br>
To learn more about this topic, <a href="../services/Configuring-Service-Replication.html">please review this guide</a></p>
<p>Replication modes may be configured per the following options:</p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ACTIVE_ACTIVE</code></td>
<td>All CAS nodes sync copies of definitions and keep them locally.</td>
</tr>
<tr>
<td><code>ACTIVE_PASSIVE</code></td>
<td>Default. One master node keeps definitions and streams changes to other passive nodes.</td>
</tr>
</tbody>
</table>
<pre lang="properties"><code># cas.service-registry.stream.enabled=true
# cas.service-registry.stream.replication-mode=ACTIVE_ACTIVE|ACTIVE_PASSIVE
</code></pre>
<h2>
<a id="service-registry-replication-hazelcast" class="anchor" href="#service-registry-replication-hazelcast" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Registry Replication Hazelcast</h2>
<p>Control how CAS services definition files should be replicated across a CAS cluster backed by a distributed Hazelcast cache.<br>
To learn more about this topic, <a href="../services/Configuring-Service-Replication.html">please review this guide</a>.</p>
<p>Hazelcast settings for this feature are available <a href="Configuration-Properties-Common.html#hazelcast-configuration">here</a> under<br>
the configuration key <code>cas.service-registry.stream.hazelcast.config</code>.</p>
<pre lang="properties"><code># cas.service-registry.stream.hazelcast.duration=PT1M
</code></pre>
<h2>
<a id="service-registry-replication-kafka" class="anchor" href="#service-registry-replication-kafka" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Registry Replication Kafka</h2>
<p>Control how CAS services definition files should be replicated across a CAS cluster backed by Apache Kafka.<br>
To learn more about this topic, <a href="../services/Configuring-Service-Replication.html">please review this guide</a>.</p>
<p>Kafka common settings for this feature are available <a href="Configuration-Properties-Common.html#apache-kafka-configuration">here</a> under<br>
the configuration key <code>cas.service-registry.stream.kafka</code>. Kafka topic settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#apache-kafka-configuration">here</a><br>
under the configuration key <code>cas.service-registry.stream.kafka.topic</code>.</p>
<h2>
<a id="ticket-registry" class="anchor" href="#ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ticket Registry</h2>
<p>To learn more about this topic, <a href="../ticketing/Configuring-Ticketing-Components.html">please review this guide</a>.</p>
<h3>
<a id="signing--encryption-4" class="anchor" href="#signing--encryption-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Signing &amp; Encryption</h3>
<p>The encryption key must be randomly-generated string of size <code>16</code>. The signing key <a href="Configuration-Properties-Common.html#signing--encryption">is a JWK</a> of size <code>512</code>.</p>
<h3>
<a id="cleaner-1" class="anchor" href="#cleaner-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cleaner</h3>
<p>A cleaner process is scheduled to run in the background to clean up expired and stale tickets.<br>
This section controls how that process should behave. Scheduler settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.ticket.registry.cleaner</code>.</p>
<h3>
<a id="jpa-ticket-registry" class="anchor" href="#jpa-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JPA Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/JPA-Ticket-Registry.html">please review this guide</a>. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.ticket.registry.jpa</code>.</p>
<pre lang="properties"><code># cas.ticket.registry.jpa.ticket-lock-type=NONE
# cas.ticket.registry.jpa.jpa-locking-timeout=3600
</code></pre>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.jpa</code>.</p>
<h3>
<a id="couchdb-ticket-registry" class="anchor" href="#couchdb-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/CouchDb-Ticket-Registry.html">please review this guide</a>. Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.ticket.registry.couch-db</code>.</p>
<h3>
<a id="couchbase-ticket-registry" class="anchor" href="#couchbase-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Couchbase Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Couchbase-Ticket-Registry.html">please review this guide</a>. Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the configuration key <code>cas.ticket.registry.couchbase</code>.</p>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.couchbase</code>.</p>
<h3>
<a id="hazelcast-ticket-registry" class="anchor" href="#hazelcast-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hazelcast Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Hazelcast-Ticket-Registry.html">please review this guide</a>.</p>
<p>Common Hazelcast settings for this feature are available <a href="Configuration-Properties-Common.html#hazelcast-configuration">here</a> under the configuration key <code>cas.ticket.registry.hazelcast</code>.</p>
<pre lang="properties"><code># cas.ticket.registry.hazelcast.page-size=500
</code></pre>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.hazelcast</code>.</p>
<h3>
<a id="cassandra-ticket-registry" class="anchor" href="#cassandra-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cassandra Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Cassandra-Ticket-Registry.html">please review this guide</a>.</p>
<p>Common Cassandra settings for this feature are available <a href="Configuration-Properties-Common.html#cassandra-configuration">here</a> under the configuration key <code>cas.ticket.registry.cassandra</code>.</p>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.cassandra</code>.</p>
<pre lang="properties"><code># cas.ticket.registry.cassandra.drop-tables-on-startup=false
</code></pre>
<h3>
<a id="infinispan-ticket-registry" class="anchor" href="#infinispan-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Infinispan Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Infinispan-Ticket-Registry.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.ticket.registry.infinispan.cache-name=
# cas.ticket.registry.infinispan.config-location=/infinispan.xml
</code></pre>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.infinispan</code>.</p>
<h3>
<a id="inmemory-ticket-registry" class="anchor" href="#inmemory-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>InMemory Ticket Registry</h3>
<p>This is typically the default ticket registry instance where tickets<br>
are kept inside the runtime environment memory.</p>
<pre lang="properties"><code># Enable the backing map to be cacheable
# cas.ticket.registry.in-memory.cache=true

# cas.ticket.registry.in-memory.load-factor=1
# cas.ticket.registry.in-memory.concurrency=20
# cas.ticket.registry.in-memory.initial-capacity=1000
</code></pre>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.in-memory</code>.</p>
<h3>
<a id="jms-ticket-registry" class="anchor" href="#jms-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JMS Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Messaging-JMS-Ticket-Registry.html">please review this guide</a>.</p>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.ticket.registry.jms</code>.</p>
<pre lang="properties"><code># cas.ticket.registry.jms.id=
</code></pre>
<h4>
<a id="jms-ticket-registry-activemq" class="anchor" href="#jms-ticket-registry-activemq" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JMS Ticket Registry ActiveMQ</h4>
<pre lang="properties"><code># spring.activemq.broker-url=tcp://192.168.1.210:9876
# spring.activemq.user=admin
# spring.activemq.password=secret
# spring.activemq.pool.enabled=true
# spring.activemq.pool.max-connections=50
# spring.activemq.packages.trust-all=false
# spring.activemq.packages.trusted=org.apereo.cas
</code></pre>
<h4>
<a id="jms-ticket-registry-artemis" class="anchor" href="#jms-ticket-registry-artemis" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JMS Ticket Registry Artemis</h4>
<pre lang="properties"><code># spring.artemis.mode=native
# spring.artemis.host=192.168.1.210
# spring.artemis.port=9876
# spring.artemis.user=admin
# spring.artemis.password=secret
</code></pre>
<h4>
<a id="jms-ticket-registry-jndi" class="anchor" href="#jms-ticket-registry-jndi" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JMS Ticket Registry JNDI</h4>
<pre lang="properties"><code># spring.jms.jndi-name=java:/MyConnectionFactory
</code></pre>
<h3>
<a id="ehcache-ticket-registry" class="anchor" href="#ehcache-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ehcache Ticket Registry</h3>
<p>Theses properties are for the module that uses version 2.x of the Ehcache library.<br>
To learn more about this topic, <a href="../ticketing/Ehcache-Ticket-Registry.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.ticket.registry.ehcache.replicate-updates-via-copy=true
# cas.ticket.registry.ehcache.cache-manager-name=ticketRegistryCacheManager
# cas.ticket.registry.ehcache.replicate-puts=true
# cas.ticket.registry.ehcache.replicate-updates=true
# cas.ticket.registry.ehcache.memory-store-eviction-policy=LRU
# cas.ticket.registry.ehcache.config-location=classpath:/ehcache-replicated.xml
# cas.ticket.registry.ehcache.maximum-batch-size=100
# cas.ticket.registry.ehcache.shared=false
# cas.ticket.registry.ehcache.replication-interval=10000
# cas.ticket.registry.ehcache.cache-time-to-live=2147483647
# cas.ticket.registry.ehcache.disk-expiry-thread-interval-seconds=0
# cas.ticket.registry.ehcache.replicate-removals=true
# cas.ticket.registry.ehcache.max-chunk-size=5000000
# cas.ticket.registry.ehcache.max-elements-on-disk=0
# cas.ticket.registry.ehcache.max-elements-in-cache=0
# cas.ticket.registry.ehcache.max-elements-in-memory=10000
# cas.ticket.registry.ehcache.eternal=false
# cas.ticket.registry.ehcache.loader-async=true
# cas.ticket.registry.ehcache.replicate-puts-via-copy=true
# cas.ticket.registry.ehcache.cache-time-to-idle=0
# cas.ticket.registry.ehcache.persistence=LOCALTEMPSWAP|NONE|LOCALRESTARTABLE|DISTRIBUTED
# cas.ticket.registry.ehcache.synchronous-writes=

# The systemprops allows a map of properties to be set as system properties before configLocation config is processed.
# These properties may be referenced in the ehcache XML config via ${key}
# cas.ticket.registry.ehcache.systemprops.key1=value1
# cas.ticket.registry.ehcache.systemprops.key2=value2
</code></pre>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.ehcache</code>.</p>
<h3>
<a id="ehcache-3-ticket-registry" class="anchor" href="#ehcache-3-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ehcache 3 Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Ehcache-Ticket-Registry.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.ticket.registry.ehcache3.enabled=true
# cas.ticket.registry.ehcache3.max-elements-in-memory=10000
# cas.ticket.registry.ehcache3.per-cache-size-on-disk=20MB
# cas.ticket.registry.ehcache3.eternal=false
# cas.ticket.registry.ehcache3.enable-statistics=true
# cas.ticket.registry.ehcache3.enable-management=true
# cas.ticket.registry.ehcache3.terracotta-cluster-uri=
# cas.ticket.registry.ehcache3.default-server-resource=main
# cas.ticket.registry.ehcache3.resource-pool-name=cas-ticket-pool
# cas.ticket.registry.ehcache3.resource-pool-size=15MB
# cas.ticket.registry.ehcache3.root-directory=/tmp/cas/ehcache3
# cas.ticket.registry.ehcache3.persist-on-disk=true
# cas.ticket.registry.ehcache3.cluster-connection-timeout=150
# cas.ticket.registry.ehcache3.cluster-read-write-timeout=5
# cas.ticket.registry.ehcache3.clustered-cache-consistency=STRONG
</code></pre>
<p>There is no default value for the Terracota Cluster URI but the format is <code>terracotta://host1.company.org:9410,host2.company.org:9410/cas-application</code></p>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.ehcache3</code>.</p>
<h3>
<a id="ignite-ticket-registry" class="anchor" href="#ignite-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ignite Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Ignite-Ticket-Registry.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.ticket.registry.ignite.key-algorithm=
# cas.ticket.registry.ignite.protocol=
# cas.ticket.registry.ignite.trust-store-password=
# cas.ticket.registry.ignite.key-store-type=
# cas.ticket.registry.ignite.key-store-file-path=
# cas.ticket.registry.ignite.key-store-password=
# cas.ticket.registry.ignite.trust-store-type=
# cas.ticket.registry.ignite.ignite-address[0]=localhost:47500
# cas.ticket.registry.ignite.ignite-address[1]=
# cas.ticket.registry.ignite.trust-store-file-path=
# cas.ticket.registry.ignite.ack-timeout=2000
# cas.ticket.registry.ignite.join-timeout=1000
# cas.ticket.registry.ignite.local-address=
# cas.ticket.registry.ignite.local-port=-1
# cas.ticket.registry.ignite.network-timeout=5000
# cas.ticket.registry.ignite.socket-timeout=5000
# cas.ticket.registry.ignite.thread-priority=10
# cas.ticket.registry.ignite.force-server-mode=false
# cas.ticket.registry.ignite.client-mode=false

# cas.ticket.registry.ignite.tickets-cache.write-synchronization-mode=FULL_SYNC
# cas.ticket.registry.ignite.tickets-cache.atomicity-mode=TRANSACTIONAL
# cas.ticket.registry.ignite.tickets-cache.cache-mode=REPLICATED
</code></pre>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.ignite</code>.</p>
<h3>
<a id="memcached-ticket-registry" class="anchor" href="#memcached-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Memcached Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Memcached-Ticket-Registry.html">please review this guide</a>.Integration settings for this registry are available <a href="Configuration-Properties-Common.html#memcached-integration-settings">here</a> under the configuration key <code>cas.ticket.registry.memcached</code>.</p>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.memcached</code>.</p>
<h3>
<a id="dynamodb-ticket-registry" class="anchor" href="#dynamodb-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DynamoDb Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/DynamoDb-Ticket-Registry.html">please review this guide</a>.</p>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#dynamodb-configuration">here</a><br>
under the configuration key <code>cas.ticket.registry</code>.</p>
<p>Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.ticket.registry.dynamo-db</code>.</p>
<p>AWS settings for this feature are available <a href="Configuration-Properties-Common.html#amazon-integration-settings">here</a><br>
under the configuration key <code>cas.ticket.registry.dynamo-db</code>.</p>
<pre lang="properties"><code># cas.ticket.registry.dynamo-db.service-tickets-table-name=serviceTicketsTable
# cas.ticket.registry.dynamo-db.proxy-tickets-table-name=proxyTicketsTable
# cas.ticket.registry.dynamo-db.ticket-granting-tickets-table-name=ticketGrantingTicketsTable
# cas.ticket.registry.dynamo-db.proxy-granting-tickets-table-name=proxyGrantingTicketsTable
# cas.ticket.registry.dynamo-db.transient-session-tickets-table-name=transientSessionTicketsTable
</code></pre>
<h3>
<a id="mongodb-ticket-registry" class="anchor" href="#mongodb-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/MongoDb-Ticket-Registry.html">please review this guide</a>.<br>
Signing &amp; encryption settings for this registry are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a><br>
under the configuration key <code>cas.ticket.registry.mongo</code>.  Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.ticket.registry</code>.</p>
<h3>
<a id="redis-ticket-registry" class="anchor" href="#redis-ticket-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis Ticket Registry</h3>
<p>To learn more about this topic, <a href="../ticketing/Redis-Ticket-Registry.html">please review this guide</a>.<br>
Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a><br>
under the configuration key <code>cas.ticket.registry</code>. Signing &amp; encryption settings for this registry are<br>
available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket.registry.redis</code>.</p>
<h2>
<a id="protocol-ticket-security" class="anchor" href="#protocol-ticket-security" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Protocol Ticket Security</h2>
<p>Controls whether tickets issued by the CAS server should be secured via signing and encryption<br>
when shared with client applications on outgoing calls. The signing and encryption<br>
keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this<br>
feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.ticket</code>.</p>
<h2>
<a id="service-tickets-behavior" class="anchor" href="#service-tickets-behavior" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Service Tickets Behavior</h2>
<p>Controls the expiration policy of service tickets, as well as other properties applicable to STs.</p>
<pre lang="properties"><code># cas.ticket.st.max-length=20

# cas.ticket.st.number-of-uses=1
# cas.ticket.st.time-to-kill-in-seconds=10
</code></pre>
<h2>
<a id="proxy-granting-tickets-behavior" class="anchor" href="#proxy-granting-tickets-behavior" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Proxy Granting Tickets Behavior</h2>
<pre lang="properties"><code># cas.ticket.pgt.max-length=50
</code></pre>
<h2>
<a id="proxy-tickets-behavior" class="anchor" href="#proxy-tickets-behavior" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Proxy Tickets Behavior</h2>
<pre lang="properties"><code># cas.ticket.pt.time-to-kill-in-seconds=10
# cas.ticket.pt.number-of-uses=1
</code></pre>
<h2>
<a id="transient-session-tickets-behavior" class="anchor" href="#transient-session-tickets-behavior" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Transient Session Tickets Behavior</h2>
<pre lang="properties"><code># cas.ticket.tst.time-to-kill-in-seconds=300
</code></pre>
<h2>
<a id="ticket-granting-tickets-behavior" class="anchor" href="#ticket-granting-tickets-behavior" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ticket Granting Tickets Behavior</h2>
<pre lang="properties"><code># cas.ticket.tgt.only-track-most-recent-session=true
# cas.ticket.tgt.max-length=50
</code></pre>
<h2>
<a id="tgt-expiration-policy" class="anchor" href="#tgt-expiration-policy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TGT Expiration Policy</h2>
<p>Ticket expiration policies are activated in the following conditions:</p>
<ul>
<li>If the timeout values for the default policy are all set to zero or less, CAS shall ensure tickets are <em>never</em> considered expired.</li>
<li>Disabling a policy requires that all its timeout settings be set to a value equal or less than zero.</li>
<li>If not ticket expiration policy is determined, CAS shall ensure the ticket are <em>always</em> considered expired.</li>
</ul>
<!-- raw HTML omitted -->
<p>Ticket expiration policies are activated in the following order:</p>
<ol>
<li>Tickets are never expired, if and when settings for the default policy are configured accordingly.</li>
<li>Timeout</li>
<li>Default</li>
<li>Throttled Timeout</li>
<li>Hard Timeout</li>
<li>Tickets always expire immediately.</li>
</ol>
<h3>
<a id="default" class="anchor" href="#default" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Default</h3>
<p>Provides a hard-time out as well as a sliding window.</p>
<pre lang="properties"><code># Set to a negative value to never expire tickets
# cas.ticket.tgt.max-time-to-live-in-seconds=28800
# cas.ticket.tgt.time-to-kill-in-seconds=7200
</code></pre>
<h3>
<a id="remember-me" class="anchor" href="#remember-me" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Remember Me</h3>
<pre lang="properties"><code># cas.ticket.tgt.remember-me.enabled=true
# cas.ticket.tgt.remember-me.time-to-kill-in-seconds=28800
</code></pre>
<h3>
<a id="timeout" class="anchor" href="#timeout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Timeout</h3>
<p>The expiration policy applied to TGTs provides for most-recently-used expiration policy, similar to a Web server session timeout.</p>
<pre lang="properties"><code># cas.ticket.tgt.timeout.max-time-to-live-in-seconds=28800
</code></pre>
<h3>
<a id="throttled-timeout" class="anchor" href="#throttled-timeout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Throttled Timeout</h3>
<p>The throttled timeout policy extends the Timeout policy with the concept of throttling where a ticket may be used at most every N seconds.</p>
<pre lang="properties"><code># cas.ticket.tgt.throttledTimeout.timeToKillInSeconds=28800
# cas.ticket.tgt.throttledTimeout.timeInBetweenUsesInSeconds=5
</code></pre>
<h3>
<a id="hard-timeout" class="anchor" href="#hard-timeout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hard Timeout</h3>
<p>The hard timeout policy provides for finite ticket lifetime as measured from the time of creation.</p>
<pre lang="properties"><code># cas.ticket.tgt.hard-timeout.time-to-kill-in-seconds=28800
</code></pre>
<h2>
<a id="google-recaptcha-integration" class="anchor" href="#google-recaptcha-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google reCAPTCHA Integration</h2>
<p>Display Google's reCAPTCHA widget on the CAS login page.</p>
<pre lang="properties"><code># cas.google-recaptcha.enabled=true
# cas.google-recaptcha.verify-url=https://www.google.com/recaptcha/api/siteverify
# cas.google-recaptcha.site-key=
# cas.google-recaptcha.secret=
# cas.google-recaptcha.invisible=
# cas.google-recaptcha.position=bottomright
</code></pre>
<h2>
<a id="google-analytics" class="anchor" href="#google-analytics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Analytics</h2>
<p>To learn more about this topic, <a href="../integration/Configuring-Google-Analytics.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.googleAnalytics.google-analytics-tracking-id=
</code></pre>
<h3>
<a id="google-analytics-cookie" class="anchor" href="#google-analytics-cookie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Google Analytics Cookie</h3>
<p>The common cookie settings applicable to this feature are <a href="Configuration-Properties-Common.html#cookie-properties">available here</a><br>
under the configuration key <code>cas.google-analytics.cookie</code>.</p>
<pre lang="properties"><code>cas.google-analytics.cookie.attribute-name=
cas.google-analytics.cookie.attribute-value-pattern=.+
</code></pre>
<h2>
<a id="spring-webflow" class="anchor" href="#spring-webflow" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow</h2>
<p>Control how Spring Webflow's conversational session state should be managed by CAS,<br>
and all other webflow related settings.</p>
<p>To learn more about this topic, <a href="../webflow/Webflow-Customization.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.webflow.always-pause-redirect=false
# cas.webflow.refresh=true
# cas.webflow.redirect-same-state=false
# cas.webflow.autoconfigure=true
</code></pre>
<h3>
<a id="spring-webflow-login-decorations" class="anchor" href="#spring-webflow-login-decorations" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Login Decorations</h3>
<h4>
<a id="groovy-6" class="anchor" href="#groovy-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h4>
<pre lang="properties"><code># cas.webflow.login-decorator.groovy.location=file:/etc/cas/config/LoginDecorator.groovy
</code></pre>
<h4>
<a id="rest-5" class="anchor" href="#rest-5" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.webflow.login-decorator.rest</code>.</p>
<h3>
<a id="spring-webflow-auto-configuration" class="anchor" href="#spring-webflow-auto-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Auto Configuration</h3>
<p>Options that control how the Spring Webflow context is dynamically altered and configured by CAS. To learn more about this topic, <a href="../webflow/Webflow-Customization-Extensions.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.webflow.autoconfigure=true
</code></pre>
<h4>
<a id="spring-webflow-groovy-auto-configuration" class="anchor" href="#spring-webflow-groovy-auto-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Groovy Auto Configuration</h4>
<p>Control the Spring Webflow context via a custom Groovy script.</p>
<pre lang="properties"><code># cas.webflow.groovy.location=file:/etc/cas/config/custom-webflow.groovy
</code></pre>
<h3>
<a id="spring-webflow-session-management" class="anchor" href="#spring-webflow-session-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Session Management</h3>
<p>To learn more about this topic, <a href="../webflow/Webflow-Customization-Sessions.html">see this guide</a>.</p>
<pre lang="properties"><code># cas.webflow.session.lock-timeout=30
# cas.webflow.session.compress=false
# cas.webflow.session.max-conversations=5

# Enable server-side session management
# cas.webflow.session.storage=false
</code></pre>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.</p>
<h4>
<a id="spring-webflow-client-side-session" class="anchor" href="#spring-webflow-client-side-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Client-Side Session</h4>
<p>The encryption key must be randomly-generated string of size <code>16</code>. The signing key <a href="Configuration-Properties-Common.html#signing--encryption">is a JWK</a> of size <code>512</code>.</p>
<p>Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.webflow</code>.</p>
<h4>
<a id="spring-webflow-hazelcast-server-side-session" class="anchor" href="#spring-webflow-hazelcast-server-side-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Hazelcast Server-Side Session</h4>
<pre lang="properties"><code># cas.webflow.session.hz-location=classpath:/hazelcast.xml
</code></pre>
<h4>
<a id="spring-webflow-mongodb-server-side-session" class="anchor" href="#spring-webflow-mongodb-server-side-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow MongoDb Server-Side Session</h4>
<pre lang="properties"><code># spring.data.mongodb.host=mongo-srv
# spring.data.mongodb.port=27018
# spring.data.mongodb.database=prod
</code></pre>
<h4>
<a id="spring-webflow-redis-server-side-session" class="anchor" href="#spring-webflow-redis-server-side-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow Redis Server-Side Session</h4>
<pre lang="properties"><code># spring.session.store-type=redis
# spring.redis.host=localhost
# spring.redis.password=secret
# spring.redis.port=6379
</code></pre>
<h4>
<a id="spring-webflow-jdbc-server-side-session" class="anchor" href="#spring-webflow-jdbc-server-side-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Webflow JDBC Server-Side Session</h4>
<pre lang="properties"><code># spring.session.store-type=jdbc
# spring.session.jdbc.initialize-schema=embedded
# spring.session.jdbc.schema=classpath:org/springframework/session/jdbc/schema-@@platform@@.sql
# spring.session.jdbc.table-name=SPRING_SESSION

# spring.datasource.url=jdbc:hsqldb:mem:cas-sessions
# spring.datasource.username=sa
# spring.datasource.password=
</code></pre>
<h3>
<a id="authentication-exceptions" class="anchor" href="#authentication-exceptions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Exceptions</h3>
<p>Map custom authentication exceptions in the CAS webflow and link them to custom messages defined in message bundles.</p>
<p>To learn more about this topic, <a href="../webflow/Webflow-Customization-Exceptions.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.errors.exceptions=value1,value2,...
</code></pre>
<h3>
<a id="authentication-interrupt" class="anchor" href="#authentication-interrupt" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Interrupt</h3>
<p>Interrupt the authentication flow to reach out to external services. To learn more about this topic, <a href="../webflow/Webflow-Customization-Interrupt.html">please review this guide</a>.</p>
<h4>
<a id="authentication-interrupt-json" class="anchor" href="#authentication-interrupt-json" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Interrupt JSON</h4>
<pre lang="properties"><code># cas.interrupt.json.location=file:/etc/cas/config/interrupt.json
</code></pre>
<h4>
<a id="authentication-interrupt-regex-attributes" class="anchor" href="#authentication-interrupt-regex-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Interrupt Regex Attributes</h4>
<pre lang="properties"><code># cas.interrupt.attribute-name=attribute-name-pattern
# cas.interrupt.attribute-value=attribute-value-pattern
</code></pre>
<h4>
<a id="authentication-interrupt-groovy" class="anchor" href="#authentication-interrupt-groovy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Interrupt Groovy</h4>
<pre lang="properties"><code># cas.interrupt.groovy.location=file:/etc/cas/config/interrupt.groovy
</code></pre>
<h4>
<a id="authentication-interrupt-rest" class="anchor" href="#authentication-interrupt-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Authentication Interrupt REST</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.interrupt.rest</code>.</p>
<h3>
<a id="acceptable-usage-policy" class="anchor" href="#acceptable-usage-policy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Acceptable Usage Policy</h3>
<p>Decide how CAS should attempt to determine whether AUP is accepted.<br>
To learn more about this topic, <a href="../webflow/Webflow-Customization-AUP.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.acceptable-usage-policy.aup-attribute-name=aupAccepted
# cas.acceptable-usage-policy.aup-policy-terms-attribute-name=membership
</code></pre>
<h4>
<a id="default-1" class="anchor" href="#default-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Default</h4>
<pre lang="properties"><code># cas.acceptable-usage-policy.in-memory.scope=GLOBAL|AUTHENTICATION
</code></pre>
<p>The following scopes are supported:</p>
<table>
<thead>
<tr>
<th>Scope</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GLOBAL</code></td>
<td>Store decisions in the global in-memory map (for life of server).</td>
</tr>
<tr>
<td><code>AUTHENTICATION</code></td>
<td>Store decisions such that user is prompted when they authenticate via credentials.</td>
</tr>
</tbody>
</table>
<h4>
<a id="groovy-7" class="anchor" href="#groovy-7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy</h4>
<pre lang="properties"><code># cas.acceptable-usage-policy.groovy.location=file:/etc/cas/config/aup.groovy
</code></pre>
<h4>
<a id="rest-6" class="anchor" href="#rest-6" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST</h4>
<p>RESTful settings for this feature are available <a href="Configuration-Properties-Common.html#restful-integrations">here</a> under the configuration key <code>cas.acceptable-usage-policy.rest</code>.</p>
<h4>
<a id="jdbc-2" class="anchor" href="#jdbc-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC</h4>
<p>If AUP is controlled via JDBC, decide how choices should be remembered back inside the database instance. Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.acceptable-usage-policy.jdbc</code>.</p>
<pre lang="properties"><code># cas.acceptable-usage-policy.jdbc.table-name=usage_policies_table
# cas.acceptable-usage-policy.jdbc.aup-column=
# cas.acceptable-usage-policy.jdbc.principal-id-column=username
# cas.acceptable-usage-policy.jdbc.principal-id-attribute=
# cas.acceptable-usage-policy.jdbc.sql-update=UPDATE %s SET %s=true WHERE %s=?
</code></pre>
<h4>
<a id="couchdb-1" class="anchor" href="#couchdb-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb</h4>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under<br>
the configuration key <code>cas.acceptable-usage-policy</code>. This feature uses the <code>asynchronous</code> setting.</p>
<h4>
<a id="couchbase-1" class="anchor" href="#couchbase-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Couchbase</h4>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#couchbase-integration-settings">here</a> under the<br>
configuration key <code>cas.acceptable-usage-policy.couchbase</code>.</p>
<h4>
<a id="mongodb-2" class="anchor" href="#mongodb-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb</h4>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under<br>
the configuration key <code>cas.acceptable-usage-policy</code>.</p>
<h4>
<a id="redis-2" class="anchor" href="#redis-2" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis</h4>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code>cas.acceptable-usage-policy</code>.</p>
<h4>
<a id="ldap-1" class="anchor" href="#ldap-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP</h4>
<p>If AUP is controlled via LDAP, decide how choices should be remembered back inside the LDAP instance. LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.acceptable-usage-policy.ldap[0]</code>.</p>
<h4>
<a id="disable-acceptable-usage-policy" class="anchor" href="#disable-acceptable-usage-policy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Disable Acceptable Usage Policy</h4>
<p>Allow acceptable usage policy webflow to be disabled - requires restart.</p>
<pre lang="properties"><code>cas.acceptable-usage-policy.enabled=true
</code></pre>
<h2>
<a id="rest-api" class="anchor" href="#rest-api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST API</h2>
<p>To learn more about this topic, <a href="../protocol/REST-Protocol.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.rest.attribute-name=
# cas.rest.attribute-value=
# cas.rest.header-auth=
# cas.rest.body-auth=
# cas.rest.tls-client-auth=
</code></pre>
<h2>
<a id="metrics" class="anchor" href="#metrics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Metrics</h2>
<p>To learn more about this topic, <a href="../monitoring/Monitoring-Statistics.html">please review this guide</a>.</p>
<h3>
<a id="atlas" class="anchor" href="#atlas" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Atlas</h3>
<p>By default, metrics are exported to Atlas running on your local machine. The location of the Atlas server to use can be provided using:</p>
<pre lang="properties"><code># management.metrics.export.atlas.uri=http://atlas.example.com:7101/api/v1/publish
</code></pre>
<h3>
<a id="datadog" class="anchor" href="#datadog" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Datadog</h3>
<p>Datadog registry pushes metrics to <code>datadoghq</code> periodically. To export metrics to Datadog, your API key must be provided:</p>
<pre lang="properties"><code># management.metrics.export.datadog.api-key=YOUR_KEY
</code></pre>
<p>You can also change the interval at which metrics are sent to Datadog:</p>
<pre lang="properties"><code># management.metrics.export.datadog.step=30s
</code></pre>
<h3>
<a id="ganglia" class="anchor" href="#ganglia" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ganglia</h3>
<p>By default, metrics are exported to Ganglia running on your local machine. The Ganglia server host and port to use can be provided using:</p>
<pre lang="properties"><code># management.metrics.export.ganglia.host=ganglia.example.com
# management.metrics.export.ganglia.port=9649
</code></pre>
<h3>
<a id="graphite" class="anchor" href="#graphite" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Graphite</h3>
<p>By default, metrics are exported to Graphite running on your local machine. The Graphite server host and port to use can be provided using:</p>
<pre lang="properties"><code># management.metrics.export.graphite.host=graphite.example.com
# management.metrics.export.graphite.port=9004
</code></pre>
<h3>
<a id="influxdb" class="anchor" href="#influxdb" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>InfluxDb</h3>
<p>By default, metrics are exported to Influx running on your local machine. The location of the Influx server to use can be provided using:</p>
<pre lang="properties"><code># management.metrics.export.influx.uri=http://influx.example.com:8086
</code></pre>
<h3>
<a id="jmx" class="anchor" href="#jmx" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JMX</h3>
<p>Micrometer provides a hierarchical mapping to JMX, primarily as a cheap and portable way to view metrics locally.</p>
<h3>
<a id="new-relic" class="anchor" href="#new-relic" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>New Relic</h3>
<p>New Relic registry pushes metrics to New Relic periodically. To export metrics to New Relic, your API key and account id must be provided:</p>
<pre lang="properties"><code># management.metrics.export.newrelic.api-key=YOUR_KEY
# management.metrics.export.newrelic.account-id=YOUR_ACCOUNT_ID
</code></pre>
<p>You can also change the interval at which metrics are sent to New Relic:</p>
<pre lang="properties"><code># management.metrics.export.newrelic.step=30s
</code></pre>
<h3>
<a id="prometheus" class="anchor" href="#prometheus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prometheus</h3>
<p>Prometheus expects to scrape or poll individual app instances for metrics. Spring Boot provides an actuator endpoint<br>
available at <code>/actuator/prometheus</code> to present a Prometheus scrape with the appropriate format.</p>
<p>Here is an example <code>scrape_config</code> to add to <code>prometheus.yml</code>:</p>
<pre lang="yaml"><code>scrape_configs:
  - job_name: 'spring'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: ['HOST:PORT']
</code></pre>
<h3>
<a id="signalfx" class="anchor" href="#signalfx" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SignalFx</h3>
<p>SignalFx registry pushes metrics to SignalFx periodically. To export metrics to SignalFx, your access token must be provided:</p>
<pre lang="properties"><code># management.metrics.export.signalfx.access-token=YOUR_ACCESS_TOKEN
</code></pre>
<p>You can also change the interval at which metrics are sent to SignalFx:</p>
<pre lang="properties"><code># management.metrics.export.signalfx.step=30s
</code></pre>
<p>Micrometer ships with a simple, in-memory backend that is automatically used as a fallback if no other registry is configured.<br>
This allows you to see what metrics are collected in the metrics endpoint.</p>
<p>The in-memory backend disables itself as soon as youâ€™re using any of the other available backend. You can also disable it explicitly:</p>
<pre lang="properties"><code># management.metrics.export.simple.enabled=false
</code></pre>
<h3>
<a id="statsd" class="anchor" href="#statsd" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>StatsD</h3>
<p>The StatsD registry pushes metrics over UDP to a StatsD agent eagerly. By default,<br>
metrics are exported to a StatsD agent running on your local machine. The StatsD agent host and port to use can be provided using:</p>
<pre lang="properties"><code># management.metrics.export.statsd.host=statsd.example.com
# management.metrics.export.statsd.port=9125
</code></pre>
<p>You can also change the StatsD line protocol to use (default to Datadog):</p>
<pre lang="properties"><code># management.metrics.export.statsd.flavor=etsy
</code></pre>
<h3>
<a id="wavefront" class="anchor" href="#wavefront" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Wavefront</h3>
<p>Wavefront registry pushes metrics to Wavefront periodically. If you are exporting metrics to<br>
Wavefront directly, your API token must be provided:</p>
<pre lang="properties"><code># management.metrics.export.wavefront.api-token=YOUR_API_TOKEN
</code></pre>
<p>Alternatively, you may use a Wavefront sidecar or an internal proxy set up in your environment that<br>
forwards metrics data to the Wavefront API host:</p>
<pre lang="properties"><code># management.metrics.export.uri=proxy://localhost:2878
</code></pre>
<p>You can also change the interval at which metrics are sent to Wavefront:</p>
<pre lang="properties"><code># management.metrics.export.wavefront.step=30s
</code></pre>
<h2>
<a id="saml-metadata-ui" class="anchor" href="#saml-metadata-ui" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SAML Metadata UI</h2>
<p>Control how SAML MDUI elements should be displayed on the main CAS login page<br>
in the event that CAS is handling authentication for an external SAML2 IdP.</p>
<p>To learn more about this topic, <a href="../integration/Shibboleth.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.saml-metadata-ui.require-valid-metadata=true
# cas.saml-metadata-ui.resources=classpath:/sp-metadata::classpath:/pub.key,http://md.incommon.org/InCommon/InCommon-metadata.xml::classpath:/inc-md-pub.key
# cas.saml-metadata-ui.max-validity=0
# cas.saml-metadata-ui.require-signed-root=false
# cas.saml-metadata-ui.parameter=entityId
</code></pre>
<p>Scheduler settings for this feature are available <a href="Configuration-Properties-Common.html#job-scheduling">here</a> under the configuration key <code>cas.saml-metadata-ui</code>.</p>
<h2>
<a id="eureka-service-discovery" class="anchor" href="#eureka-service-discovery" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Eureka Service Discovery</h2>
<p>To learn more about this topic, <a href="../installation/Service-Discovery-Guide-Eureka.html">please review this guide</a>.</p>
<pre lang="properties"><code># eureka.client.service-url.default-zone=${EUREKA_SERVER_HOST:http://localhost:8761}/eureka/
# eureka.client.enabled=true
# eureka.instance.status-page-url=${cas.server.prefix}/actuator/info
# eureka.instance.health-check-url=${cas.server.prefix}/actuator/health
# eureka.instance.home-page-url=${cas.server.prefix}/
# eureka.client.healthcheck.enabled=true

# spring.cloud.config.discovery.enabled=false
</code></pre>
<h2>
<a id="consul-service-discovery" class="anchor" href="#consul-service-discovery" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Consul Service Discovery</h2>
<p>To learn more about this topic, <a href="../installation/Service-Discovery-Guide-Consul.html">please review this guide</a>.</p>
<pre lang="properties"><code># spring.cloud.consul.port=8500
# spring.cloud.consul.enabled=true
# spring.cloud.consul.host=localhost

# spring.cloud.consul.discovery.health-check-path=&lt;health-endpoint-url&gt;
# spring.cloud.consul.discovery.health-check-interval=15s
# spring.cloud.consul.discovery.instance-id=${spring.application.name}:${random.value}

# spring.cloud.consul.discovery.heartbeat.enabled=true
# spring.cloud.consul.discovery.heartbeat.ttl-value=60
# spring.cloud.consul.discovery.heartbeat.ttl-unit=s
</code></pre>
<h2>
<a id="provisioning-1" class="anchor" href="#provisioning-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Provisioning</h2>
<h3>
<a id="scim" class="anchor" href="#scim" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SCIM</h3>
<p>Provision the authenticated CAS principal via SCIM.<br>
To learn more about this topic, <a href="../integration/SCIM-Integration.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.scim.version=2
# cas.scim.target=
# cas.scim.oauthToken=
# cas.scim.username=
# cas.scim.password=
</code></pre>
<h2>
<a id="attribute-consent" class="anchor" href="#attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Attribute Consent</h2>
<p>CAS provides the ability to enforce user-informed consent upon attribute release.<br>
To learn more about this topic, <a href="../integration/Attribute-Release-Consent.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.consent.reminder=30
# cas.consent.reminder-time-unit=HOURS|DAYS|MONTHS
# cas.consent.enabled=true
# cas.consent.active=true

# cas.consent.activation-strategy-groovy-script.location=
</code></pre>
<p>Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.consent</code>. The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.</p>
<h3>
<a id="webflow-configuration-3" class="anchor" href="#webflow-configuration-3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Webflow configuration</h3>
<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under<br>
the configuration key <code>cas.consent.webflow</code>.</p>
<h3>
<a id="json-attribute-consent" class="anchor" href="#json-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Attribute Consent</h3>
<pre lang="properties"><code># cas.consent.json.location=file:/etc/cas/config/consent.json
</code></pre>
<h3>
<a id="groovy-attribute-consent" class="anchor" href="#groovy-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy Attribute Consent</h3>
<pre lang="properties"><code># cas.consent.groovy.location=file:/etc/cas/config/consent.groovy
</code></pre>
<h3>
<a id="jpa-attribute-consent" class="anchor" href="#jpa-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JPA Attribute Consent</h3>
<p>Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a> under the configuration key <code>cas.consent.jpa</code>.</p>
<h3>
<a id="ldap-attribute-consent" class="anchor" href="#ldap-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Attribute Consent</h3>
<p>LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under the configuration key <code>cas.consent.ldap</code>.</p>
<pre lang="properties"><code># cas.consent.ldap.consent-attribute-name=casConsentDecision
</code></pre>
<h3>
<a id="mongodb-attribute-consent" class="anchor" href="#mongodb-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MongoDb Attribute Consent</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#mongodb-configuration">here</a> under the configuration key <code>cas.consent</code>.</p>
<h3>
<a id="redis-attribute-consent" class="anchor" href="#redis-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Redis Attribute Consent</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#redis-configuration">here</a> under the configuration key <code>cas.consent</code>.</p>
<h3>
<a id="couchdb-attribute-consent" class="anchor" href="#couchdb-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CouchDb Attribute Consent</h3>
<p>Common configuration settings for this feature are available <a href="Configuration-Properties-Common.html#couchdb-configuration">here</a> under the configuration key <code>cas.consent</code>.</p>
<h3>
<a id="rest-attribute-consent" class="anchor" href="#rest-attribute-consent" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Attribute Consent</h3>
<pre lang="properties"><code># cas.consent.rest.endpoint=https://api.example.org/trustedBrowser
</code></pre>
<h2>
<a id="apache-fortress-authentication" class="anchor" href="#apache-fortress-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Apache Fortress Authentication</h2>
<p>To learn more about this topic, <a href="../installation/Configuring-Fortress-Authentication.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.fortress.rbaccontext=HOME
</code></pre>
<h2>
<a id="cas-client" class="anchor" href="#cas-client" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS Client</h2>
<p>Configure settings relevant to the Java CAS client configured to handle inbound ticket validation operations, etc.</p>
<pre lang="properties"><code># cas.client.prefix=https://sso.example.org/cas
# cas.client.validator-type=CAS10|CAS20|CAS30|JSON
</code></pre>
<h2>
<a id="password-synchronization" class="anchor" href="#password-synchronization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Password Synchronization</h2>
<p>Allow the user to synchronize account password to a variety of destinations in-place. To learn more about this<br>
topic, <a href="../installation/Password-Synchronization.html">please review this guide</a>.</p>
<h3>
<a id="ldap-password-sync" class="anchor" href="#ldap-password-sync" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Password Sync</h3>
<p>Common LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a> under<br>
the configuration key <code>cas.authn.passwordSync.ldap[0]</code>.</p>
<pre lang="properties"><code># cas.authn.password-sync.enabled=true
# cas.authn.password-sync.ldap[0].enabled=false
</code></pre>
<h2>
<a id="password-management" class="anchor" href="#password-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Password Management</h2>
<p>Allow the user to update their account password, etc in-place.<br>
To learn more about this topic, <a href="../installation/Password-Policy-Enforcement.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.pm.enabled=true
# cas.authn.pm.captcha-enabled=false

# Minimum 8 and Maximum 10 characters at least 1 Uppercase Alphabet, 1 Lowercase Alphabet, 1 Number and 1 Special Character
# cas.authn.pm.policy-pattern=^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[$@$!%*?&amp;])[A-Za-z\\d$@$!%*?&amp;]{8,10}

# cas.authn.pm.reset.expirationMinutes=1
# cas.authn.pm.reset.security-questions-enabled=true

# Whether the Password Management Token will contain the client or server IP Address.
# cas.authn.pm.reset.include-server-ip-address=true
# cas.authn.pm.reset.include-client-ip-address=true

# Automatically log in after successful password change
# cas.authn.pm.auto-login=false
</code></pre>
<p>Common email notifications settings for this feature are available <a href="Configuration-Properties-Common.html#email-notifications">here</a><br>
under the configuration key <code>cas.authn.pm.reset</code>. SMS notifications settings for this feature are<br>
available <a href="Configuration-Properties-Common.html#sms-notifications">here</a> under the configuration key <code>cas.authn.pm.reset</code>.</p>
<p>The signing and encryption keys <a href="Configuration-Properties-Common.html#signing--encryption">are both JWKs</a> of size <code>512</code> and <code>256</code>.<br>
The encryption algorithm is set to <code>AES_128_CBC_HMAC_SHA_256</code>. Signing &amp; encryption settings for this feature are available <a href="Configuration-Properties-Common.html#signing--encryption">here</a> under the configuration key <code>cas.authn.pm.reset</code>.</p>
<h3>
<a id="webflow-configuration-4" class="anchor" href="#webflow-configuration-4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Webflow Configuration</h3>
<p>Webflow auto-configuration settings for this feature are available <a href="Configuration-Properties-Common.html#webflow-auto-configuration">here</a> under<br>
the configuration key <code>cas.authn.pm.webflow</code>.</p>
<h3>
<a id="password-history" class="anchor" href="#password-history" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Password History</h3>
<p>To learn more about this topic, <a href="../installation/Password-Policy-Enforcement.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.authn.pm.history.enabled=false

# cas.authn.pm.history.groovy.location=classpath:PasswordHistory.groovy
</code></pre>
<h3>
<a id="json-password-management" class="anchor" href="#json-password-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON Password Management</h3>
<pre lang="properties"><code># cas.authn.pm.json.location=classpath:jsonResourcePassword.json
</code></pre>
<h3>
<a id="groovy-password-management" class="anchor" href="#groovy-password-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Groovy Password Management</h3>
<pre lang="properties"><code># cas.authn.pm.groovy.location=classpath:PasswordManagementService.groovy
</code></pre>
<h3>
<a id="ldap-password-management" class="anchor" href="#ldap-password-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LDAP Password Management</h3>
<p>Common LDAP settings for this feature are available <a href="Configuration-Properties-Common.html#ldap-connection-settings">here</a><br>
under the configuration key <code>cas.authn.pm.ldap[0]</code>.</p>
<pre lang="properties"><code># cas.authn.pm.ldap[0].type=AD|GENERIC|EDirectory|FreeIPA
# cas.authn.pm.ldap[0].username-attribute=uid

# Attributes that should be fetched to indicate security questions and answers
# cas.authn.pm.ldap[0].security-questions-attributes.attr-question1=attrAnswer1
# cas.authn.pm.ldap[0].security-questions-attributes.attr-question2=attrAnswer2
# cas.authn.pm.ldap[0].security-questions-attributes.attr-question3=attrAnswer3
</code></pre>
<h3>
<a id="jdbc-password-management" class="anchor" href="#jdbc-password-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JDBC Password Management</h3>
<p>Common Database settings for this feature are available <a href="Configuration-Properties-Common.html#database-settings">here</a><br>
under the configuration key <code>cas.authn.pm.jdbc</code>. Common password encoding  settings for this<br>
feature are available <a href="Configuration-Properties-Common.html#password-encoding">here</a> under the configuration key <code>cas.authn.pm.jdbc</code>.</p>
<pre lang="properties"><code># The two fields indicated below are expected to be returned
# cas.authn.pm.jdbc.sql-security-questions=SELECT question, answer FROM table WHERE user=?

# cas.authn.pm.jdbc.sql-find-email=SELECT email FROM table WHERE user=?
# cas.authn.pm.jdbc.sql-find-phone=SELECT phone FROM table WHERE user=?
# cas.authn.pm.jdbc.sql-find-user=SELECT user FROM table WHERE email=?
# cas.authn.pm.jdbc.sql-change-password=UPDATE table SET password=? WHERE user=?
</code></pre>
<h3>
<a id="rest-password-management" class="anchor" href="#rest-password-management" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>REST Password Management</h3>
<pre lang="properties"><code># cas.authn.pm.rest.endpoint-url-email=
# cas.authn.pm.rest.endpoint-url-phone=
# cas.authn.pm.rest.endpoint-url-user=
# cas.authn.pm.rest.endpoint-url-security-questions=
# cas.authn.pm.rest.endpoint-url-change=
# cas.authn.pm.rest.endpoint-username=
# cas.authn.pm.rest.endpoint-password=
</code></pre>
<h2>
<a id="acme-integration" class="anchor" href="#acme-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ACME Integration</h2>
<p>To learn more about this topic, <a href="../integration/ACME-Integration.html">please review this guide</a>.</p>
<pre lang="properties"><code># cas.acme.domains[0]=example.org
# cas.acme.terms-of-use-accepted=true

# cas.acme.key-size=2048

# cas.acme.server-url=acme://letsencrypt.org/staging
# cas.acme.user-key.location=file:/etc/cas/config/acme/user.key
# cas.acme.domain-key.location=file:/etc/cas/config/acme/domain.key
# cas.acme.domain-csr.location=file:/etc/cas/config/acme/domain.csr
# cas.acme.domain-chain.location=file:/etc/cas/config/acme/domain-chain.crt
</code></pre>